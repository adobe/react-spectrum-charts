{"version":3,"file":"vega-view.js","sources":["../src/aria.js","../src/background.js","../src/cursor.js","../src/data.js","../src/render-size.js","../src/events-extend.js","../src/events.js","../src/hover.js","../src/finalize.js","../src/element.js","../src/bind.js","../src/initialize-renderer.js","../src/trap.js","../src/initialize-handler.js","../src/initialize.js","../src/padding.js","../src/render-headless.js","../src/render-to-image-url.js","../src/render-to-canvas.js","../src/render-to-svg.js","../src/runtime.js","../src/scale.js","../src/size.js","../src/state.js","../src/timer.js","../src/tooltip.js","../src/watchPixelRatio.js","../src/View.js"],"sourcesContent":["// initialize aria role and label attributes\nexport function initializeAria(view) {\n  const el = view.container();\n  if (el) {\n    el.setAttribute('role', 'graphics-document');\n    el.setAttribute('aria-roleDescription', 'visualization');\n    ariaLabel(el, view.description());\n  }\n}\n\n// update aria-label if we have a DOM container element\nexport function ariaLabel(el, desc) {\n  if (el) desc == null\n    ? el.removeAttribute('aria-label')\n    : el.setAttribute('aria-label', desc);\n}\n","export default function(view) {\n  // respond to background signal\n  view.add(null, _ => {\n    view._background = _.bg;\n    view._resize = 1;\n    return _.bg;\n  }, { bg: view._signals.background });\n}\n","import {isString} from 'vega-util';\n\nconst Default = 'default';\n\nexport default function(view) {\n  // get cursor signal, add to dataflow if needed\n  const cursor = view._signals.cursor || (view._signals.cursor = view.add({\n    user: Default,\n    item: null\n  }));\n\n  // evaluate cursor on each pointermove event\n  view.on(view.events('view', 'pointermove'), cursor,\n    (_, event) => {\n      const value = cursor.value,\n            user = value ? (isString(value) ? value : value.user) : Default,\n            item = event.item && event.item.cursor || null;\n\n      return (value && user === value.user && item == value.item)\n        ? value\n        : {user: user, item: item};\n    }\n  );\n\n  // when cursor signal updates, set visible cursor\n  view.add(null, function(_) {\n    let user = _.cursor,\n        item = this.value;\n\n    if (!isString(user)) {\n      item = user.item;\n      user = user.user;\n    }\n\n    setCursor(view, user && user !== Default ? user : (item || user));\n\n    return item;\n  }, {cursor: cursor});\n}\n\nexport function setCursor(view, cursor) {\n  const el = view.globalCursor()\n    ? (typeof document !== 'undefined' && document.body)\n    : view.container();\n\n  if (el) {\n    return cursor == null\n      ? el.style.removeProperty('cursor')\n      : (el.style.cursor = cursor);\n  }\n}\n","import {changeset, isChangeSet} from 'vega-dataflow';\nimport {error, hasOwnProperty, truthy} from 'vega-util';\n\nexport function dataref(view, name) {\n  var data = view._runtime.data;\n  if (!hasOwnProperty(data, name)) {\n    error('Unrecognized data set: ' + name);\n  }\n  return data[name];\n}\n\nexport function data(name, values) {\n  return arguments.length < 2\n    ? dataref(this, name).values.value\n    : change.call(this, name, changeset().remove(truthy).insert(values));\n}\n\nexport function change(name, changes) {\n  if (!isChangeSet(changes)) {\n    error('Second argument to changes must be a changeset.');\n  }\n  const dataset = dataref(this, name);\n  dataset.modified = true;\n  return this.pulse(dataset.input, changes);\n}\n\nexport function insert(name, _) {\n  return change.call(this, name, changeset().insert(_));\n}\n\nexport function remove(name, _) {\n  return change.call(this, name, changeset().remove(_));\n}\n","export function width(view) {\n  var padding = view.padding();\n  return Math.max(0, view._viewWidth + padding.left + padding.right);\n}\n\nexport function height(view) {\n  var padding = view.padding();\n  return Math.max(0, view._viewHeight + padding.top + padding.bottom);\n}\n\nexport function offset(view) {\n  var padding = view.padding(),\n      origin = view._origin;\n  return [\n    padding.left + origin[0],\n    padding.top + origin[1]\n  ];\n}\n\nexport function resizeRenderer(view) {\n  var origin = offset(view),\n      w = width(view),\n      h = height(view);\n\n  view._renderer.background(view.background());\n  view._renderer.resize(w, h, origin);\n  view._handler.origin(origin);\n\n  view._resizeListeners.forEach(handler => {\n    try {\n      handler(w, h);\n    } catch (error) {\n      view.error(error);\n    }\n  });\n}\n","import {offset} from './render-size.js';\nimport {constant, isString} from 'vega-util';\nimport {point} from 'vega-scenegraph';\n\n/**\n * Extend an event with additional view-specific methods.\n * Adds a new property ('vega') to an event that provides a number\n * of methods for querying information about the current interaction.\n * The vega object provides the following methods:\n *   view - Returns the backing View instance.\n *   item - Returns the currently active scenegraph item (if any).\n *   group - Returns the currently active scenegraph group (if any).\n *     This method accepts a single string-typed argument indicating the name\n *     of the desired parent group. The scenegraph will be traversed from\n *     the item up towards the root to search for a matching group. If no\n *     argument is provided the enclosing group for the active item is\n *     returned, unless the item it itself a group, in which case it is\n *     returned directly.\n *   xy - Returns a two-element array containing the x and y coordinates for\n *     mouse or touch events. For touch events, this is based on the first\n *     elements in the changedTouches array. This method accepts a single\n *     argument: either an item instance or mark name that should serve as\n *     the reference coordinate system. If no argument is provided the\n *     top-level view coordinate system is assumed.\n *   x - Returns the current x-coordinate, accepts the same arguments as xy.\n *   y - Returns the current y-coordinate, accepts the same arguments as xy.\n * @param {Event} event - The input event to extend.\n * @param {Item} item - The currently active scenegraph item (if any).\n * @return {Event} - The extended input event.\n */\nexport default function(view, event, item) {\n  var r  = view._renderer,\n      el = r && r.canvas(),\n      p, e, translate;\n\n  if (el) {\n    translate = offset(view);\n    e = event.changedTouches ? event.changedTouches[0] : event;\n    p = point(e, el);\n    p[0] -= translate[0];\n    p[1] -= translate[1];\n  }\n\n  event.dataflow = view;\n  event.item = item;\n  event.vega = extension(view, item, p);\n  return event;\n}\n\nfunction extension(view, item, point) {\n  const itemGroup = item\n    ? item.mark.marktype === 'group' ? item : item.mark.group\n    : null;\n\n  function group(name) {\n    var g = itemGroup, i;\n    if (name) for (i = item; i; i = i.mark.group) {\n      if (i.mark.name === name) { g = i; break; }\n    }\n    return g && g.mark && g.mark.interactive ? g : {};\n  }\n\n  function xy(item) {\n    if (!item) return point;\n    if (isString(item)) item = group(item);\n\n    const p = point.slice();\n    while (item) {\n      p[0] -= item.x || 0;\n      p[1] -= item.y || 0;\n      item = item.mark && item.mark.group;\n    }\n    return p;\n  }\n\n  return {\n    view:  constant(view),\n    item:  constant(item || {}),\n    group: group,\n    xy:    xy,\n    x:     item => xy(item)[0],\n    y:     item => xy(item)[1]\n  };\n}\n","import eventExtend from './events-extend.js';\nimport {EventStream} from 'vega-dataflow';\nimport {array, extend, isArray, isObject, toSet} from 'vega-util';\n\nconst VIEW = 'view',\n      TIMER = 'timer',\n      WINDOW = 'window',\n      NO_TRAP = {trap: false};\n\n/**\n * Initialize event handling configuration.\n * @param {object} config - The configuration settings.\n * @return {object}\n */\nexport function initializeEventConfig(config) {\n  const events = extend({defaults: {}}, config);\n\n  const unpack = (obj, keys) => {\n    keys.forEach(k => {\n      if (isArray(obj[k])) obj[k] = toSet(obj[k]);\n    });\n  };\n\n  unpack(events.defaults, ['prevent', 'allow']);\n  unpack(events, ['view', 'window', 'selector']);\n\n  return events;\n}\n\nexport function trackEventListener(view, sources, type, handler) {\n  view._eventListeners.push({\n    type: type,\n    sources: array(sources),\n    handler: handler\n  });\n}\n\nfunction prevent(view, type) {\n  var def = view._eventConfig.defaults,\n      prevent = def.prevent,\n      allow = def.allow;\n\n  return prevent === false || allow === true ? false\n    : prevent === true || allow === false ? true\n    : prevent ? prevent[type]\n    : allow ? !allow[type]\n    : view.preventDefault();\n}\n\nfunction permit(view, key, type) {\n  const rule = view._eventConfig && view._eventConfig[key];\n\n  if (rule === false || (isObject(rule) && !rule[type])) {\n    view.warn(`Blocked ${key} ${type} event listener.`);\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Create a new event stream from an event source.\n * @param {object} source - The event source to monitor.\n * @param {string} type - The event type.\n * @param {function(object): boolean} [filter] - Event filter function.\n * @return {EventStream}\n */\nexport function events(source, type, filter) {\n  var view = this,\n      s = new EventStream(filter),\n      send = function(e, item) {\n        view.runAsync(null, () => {\n          if (source === VIEW && prevent(view, type)) {\n            e.preventDefault();\n          }\n          s.receive(eventExtend(view, e, item));\n        });\n      },\n      sources;\n\n  if (source === TIMER) {\n    if (permit(view, 'timer', type)) {\n      view.timer(send, type);\n    }\n  }\n\n  else if (source === VIEW) {\n    if (permit(view, 'view', type)) {\n      // send traps errors, so use {trap: false} option\n      view.addEventListener(type, send, NO_TRAP);\n    }\n  }\n\n  else {\n    if (source === WINDOW) {\n      if (permit(view, 'window', type) && typeof window !== 'undefined') {\n        sources = [window];\n      }\n    } else if (typeof document !== 'undefined') {\n      if (permit(view, 'selector', type)) {\n        sources = Array.from(document.querySelectorAll(source));\n      }\n    }\n\n    if (!sources) {\n      view.warn('Can not resolve event source: ' + source);\n    } else {\n      for (var i=0, n=sources.length; i<n; ++i) {\n        sources[i].addEventListener(type, send);\n      }\n      trackEventListener(view, sources, type, send);\n    }\n  }\n\n  return s;\n}\n","function itemFilter(event) {\n  return event.item;\n}\n\nfunction markTarget(event) {\n  // grab upstream collector feeding the mark operator\n  return event.item.mark.source;\n}\n\nfunction invoke(name) {\n  return function(_, event) {\n    return event.vega.view()\n      .changeset()\n      .encode(event.item, name);\n  };\n}\n\nexport default function(hoverSet, leaveSet) {\n  hoverSet = [hoverSet || 'hover'];\n  leaveSet = [leaveSet || 'update', hoverSet[0]];\n\n  // invoke hover set upon pointerover\n  this.on(\n    this.events('view', 'pointerover', itemFilter),\n    markTarget,\n    invoke(hoverSet)\n  );\n\n  // invoke leave set upon pointerout\n  this.on(\n    this.events('view', 'pointerout', itemFilter),\n    markTarget,\n    invoke(leaveSet)\n  );\n\n  return this;\n}\n","/**\n * Finalize a View instance that is being removed.\n * Cancel any running timers.\n * Remove all external event listeners.\n * Remove any currently displayed tooltip.\n */\nexport default function() {\n  var tooltip = this._tooltip,\n      timers = this._timers,\n      handlers = this._handler.handlers(),\n      listeners = this._eventListeners,\n      n, m, e, h, t;\n\n  n = timers.length;\n  while (--n >= 0) {\n    timers[n].stop();\n  }\n\n  n = listeners.length;\n  while (--n >= 0) {\n    e = listeners[n];\n    m = e.sources.length;\n    while (--m >= 0) {\n      e.sources[m].removeEventListener(e.type, e.handler);\n    }\n  }\n\n  if (tooltip) {\n    tooltip.call(this, this._handler, null, null, null);\n  }\n\n  // turn off all registered handlers\n  n = handlers.length;\n  while (--n >= 0) {\n    t = handlers[n].type;\n    h = handlers[n].handler;\n    this._handler.off(t, h);\n  }\n\n  return this;\n}\n","export default function(tag, attr, text) {\n  const el = document.createElement(tag);\n  for (const key in attr) el.setAttribute(key, attr[key]);\n  if (text != null) el.textContent = text;\n  return el;\n}\n","import element from './element.js';\nimport {trackEventListener} from './events.js';\nimport {debounce} from 'vega-util';\nimport {tickStep} from 'd3-array';\n\nconst BindClass = 'vega-bind',\n      NameClass = 'vega-bind-name',\n      RadioClass = 'vega-bind-radio';\n\n/**\n * Bind a signal to an external HTML input element. The resulting two-way\n * binding will propagate input changes to signals, and propagate signal\n * changes to the input element state. If this view instance has no parent\n * element, we assume the view is headless and no bindings are created.\n * @param {Element|string} el - The parent DOM element to which the input\n *   element should be appended as a child. If string-valued, this argument\n *   will be treated as a CSS selector. If null or undefined, the parent\n *   element of this view will be used as the element.\n * @param {object} param - The binding parameters which specify the signal\n *   to bind to, the input element type, and type-specific configuration.\n * @return {View} - This view instance.\n */\nexport default function(view, el, binding) {\n  if (!el) return;\n\n  const param = binding.param;\n  let bind = binding.state;\n\n  if (!bind) {\n    bind = binding.state = {\n      elements: null,\n      active: false,\n      set: null,\n      update: value => {\n        if (value != view.signal(param.signal)) {\n          view.runAsync(null, () => {\n            bind.source = true;\n            view.signal(param.signal, value);\n          });\n        }\n      }\n    };\n    if (param.debounce) {\n      bind.update = debounce(param.debounce, bind.update);\n    }\n  }\n\n  const create = param.input == null && param.element ? target : generate;\n  create(bind, el, param, view);\n\n  if (!bind.active) {\n    view.on(view._signals[param.signal], null, () => {\n      bind.source\n        ? (bind.source = false)\n        : bind.set(view.signal(param.signal));\n    });\n    bind.active = true;\n  }\n\n  return bind;\n}\n\n/**\n * Bind the signal to an external EventTarget.\n */\nfunction target(bind, node, param, view) {\n  const type = param.event || 'input';\n  const handler = () => bind.update(node.value);\n\n  // initialize signal value to external input value\n  view.signal(param.signal, node.value);\n\n  // listen for changes on the element\n  node.addEventListener(type, handler);\n\n  // register with view, so we can remove it upon finalization\n  trackEventListener(view, node, type, handler);\n\n  // propagate change to element\n  bind.set = value => {\n    node.value = value;\n    node.dispatchEvent(event(type));\n  };\n}\n\nfunction event(type) {\n  return typeof Event !== 'undefined' ? new Event(type) : { type };\n}\n\n/**\n * Generate an HTML input form element and bind it to a signal.\n */\nfunction generate(bind, el, param, view) {\n  const value = view.signal(param.signal);\n  const div = element('div', {'class': BindClass});\n\n  const wrapper = param.input === 'radio'\n    ? div\n    : div.appendChild(element('label'));\n\n  wrapper.appendChild(element('span',\n    {'class': NameClass},\n    (param.name || param.signal)\n  ));\n\n  el.appendChild(div);\n\n  let input = form;\n  switch (param.input) {\n    case 'checkbox': input = checkbox; break;\n    case 'select':   input = select; break;\n    case 'radio':    input = radio; break;\n    case 'range':    input = range; break;\n  }\n\n  input(bind, wrapper, param, value);\n}\n\n/**\n * Generates an arbitrary input form element.\n * The input type is controlled via user-provided parameters.\n */\nfunction form(bind, el, param, value) {\n  const node = element('input');\n\n  for (const key in param) {\n    if (key !== 'signal' && key !== 'element') {\n      node.setAttribute(key === 'input' ? 'type' : key, param[key]);\n    }\n  }\n  node.setAttribute('name', param.signal);\n  node.value = value;\n\n  el.appendChild(node);\n  node.addEventListener('input', () => bind.update(node.value));\n\n  bind.elements = [node];\n  bind.set = value => node.value = value;\n}\n\n/**\n * Generates a checkbox input element.\n */\nfunction checkbox(bind, el, param, value) {\n  const attr = {type: 'checkbox', name: param.signal};\n  if (value) attr.checked = true;\n  const node = element('input', attr);\n\n  el.appendChild(node);\n  node.addEventListener('change', () => bind.update(node.checked));\n\n  bind.elements = [node];\n  bind.set = value => node.checked = !!value || null;\n}\n\n/**\n * Generates a selection list input element.\n */\nfunction select(bind, el, param, value) {\n  const node = element('select', {name: param.signal}),\n        labels = param.labels || [];\n\n  param.options.forEach((option, i) => {\n    const attr = {value: option};\n    if (valuesEqual(option, value)) attr.selected = true;\n    node.appendChild(element('option', attr, (labels[i] || option)+''));\n  });\n\n  el.appendChild(node);\n\n  node.addEventListener('change', () => {\n    bind.update(param.options[node.selectedIndex]);\n  });\n\n  bind.elements = [node];\n  bind.set = value => {\n    for (let i = 0, n = param.options.length; i < n; ++i) {\n      if (valuesEqual(param.options[i], value)) {\n        node.selectedIndex = i; return;\n      }\n    }\n  };\n}\n\n/**\n * Generates a radio button group.\n */\nfunction radio(bind, el, param, value) {\n  const group = element('span', {'class': RadioClass}),\n        labels = param.labels || [];\n\n  el.appendChild(group);\n\n  bind.elements = param.options.map((option, i) => {\n    const attr = {\n      type:  'radio',\n      name:  param.signal,\n      value: option\n    };\n    if (valuesEqual(option, value)) attr.checked = true;\n\n    const input = element('input', attr);\n    input.addEventListener('change', () => bind.update(option));\n\n    const label = element('label', {}, (labels[i] || option)+'');\n    label.prepend(input);\n    group.appendChild(label);\n\n    return input;\n  });\n\n  bind.set = value => {\n    const nodes = bind.elements,\n          n = nodes.length;\n    for (let i = 0; i < n; ++i) {\n      if (valuesEqual(nodes[i].value, value)) nodes[i].checked = true;\n    }\n  };\n}\n\n/**\n * Generates a slider input element.\n */\nfunction range(bind, el, param, value) {\n  value = value !== undefined ? value : ((+param.max) + (+param.min)) / 2;\n\n  const max = param.max != null ? param.max : Math.max(100, +value) || 100,\n        min = param.min || Math.min(0, max, +value) || 0,\n        step = param.step || tickStep(min, max, 100);\n\n  const node = element('input', {\n    type:  'range',\n    name:  param.signal,\n    min:   min,\n    max:   max,\n    step:  step\n  });\n  node.value = value;\n\n  const span = element('span', {}, +value);\n\n  el.appendChild(node);\n  el.appendChild(span);\n\n  const update = () => {\n    span.textContent = node.value;\n    bind.update(+node.value);\n  };\n\n  // subscribe to both input and change\n  node.addEventListener('input', update);\n  node.addEventListener('change', update);\n\n  bind.elements = [node];\n  bind.set = value => {\n    node.value = value;\n    span.textContent = value;\n  };\n}\n\nfunction valuesEqual(a, b) {\n  return a === b || (a+'' === b+'');\n}\n","import {height, offset, width} from './render-size.js';\n\nexport default function(view, r, el, constructor, scaleFactor, opt) {\n  r = r || new constructor(view.loader());\n  return r\n    .initialize(el, width(view), height(view), offset(view), scaleFactor, opt)\n    .background(view.background());\n}\n","export default function(view, fn) {\n  return !fn ? null : function() {\n    try {\n      fn.apply(this, arguments);\n    } catch (error) {\n      view.error(error);\n    }\n  };\n}\n","import {offset} from './render-size.js';\nimport trap from './trap.js';\n\nexport default function(view, prevHandler, el, constructor) {\n  // instantiate scenegraph handler\n  const handler = new constructor(view.loader(), trap(view, view.tooltip()))\n    .scene(view.scenegraph().root)\n    .initialize(el, offset(view), view);\n\n  // transfer event handlers\n  if (prevHandler) {\n    prevHandler.handlers().forEach(h => {\n      handler.on(h.type, h.handler);\n    });\n  }\n\n  return handler;\n}\n","import {initializeAria} from './aria.js';\nimport bind from './bind.js';\nimport element from './element.js';\nimport initializeRenderer from './initialize-renderer.js';\nimport initializeHandler from './initialize-handler.js';\nimport {CanvasHandler, renderModule} from 'vega-scenegraph';\n\nexport default function(el, elBind) {\n  const view = this,\n        type = view._renderType,\n        config = view._eventConfig.bind,\n        module = renderModule(type);\n\n  // containing dom element\n  el = view._el = el ? lookup(view, el, true) : null;\n\n  // initialize aria attributes\n  initializeAria(view);\n\n  // select appropriate renderer & handler\n  if (!module) view.error('Unrecognized renderer type: ' + type);\n  const Handler = module.handler || CanvasHandler,\n        Renderer = (el ? module.renderer : module.headless);\n\n  // initialize renderer and input handler\n  view._renderer = !Renderer ? null\n    : initializeRenderer(view, view._renderer, el, Renderer);\n  view._handler = initializeHandler(view, view._handler, el, Handler);\n  view._redraw = true;\n\n  // initialize signal bindings\n  if (el && config !== 'none') {\n    elBind = elBind ? (view._elBind = lookup(view, elBind, true))\n      : el.appendChild(element('form', {'class': 'vega-bindings'}));\n\n    view._bind.forEach(_ => {\n      if (_.param.element && config !== 'container') {\n        _.element = lookup(view, _.param.element, !!_.param.input);\n      }\n    });\n\n    view._bind.forEach(_ => {\n      bind(view, _.element || elBind, _);\n    });\n  }\n\n  return view;\n}\n\nfunction lookup(view, el, clear) {\n  if (typeof el === 'string') {\n    if (typeof document !== 'undefined') {\n      el = document.querySelector(el);\n      if (!el) {\n        view.error('Signal bind element not found: ' + el);\n        return null;\n      }\n    } else {\n      view.error('DOM document instance not found.');\n      return null;\n    }\n  }\n  if (el && clear) {\n    try {\n      el.textContent = '';\n    } catch (e) {\n      el = null;\n      view.error(e);\n    }\n  }\n  return el;\n}\n","import {isObject} from 'vega-util';\n\nconst number = _ => +_ || 0;\n\nconst paddingObject = _ => ({top: _, bottom: _, left: _, right: _});\n\nexport default function(_) {\n  return isObject(_)\n    ? {\n        top:    number(_.top),\n        bottom: number(_.bottom),\n        left:   number(_.left),\n        right:  number(_.right)\n      }\n    : paddingObject(number(_));\n}\n","import initializeRenderer from './initialize-renderer.js';\nimport {renderModule} from 'vega-scenegraph';\nimport {error} from 'vega-util';\n\n/**\n * Render the current scene in a headless fashion.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A Promise that resolves to a renderer.\n */\nexport default async function(view, type, scaleFactor, opt) {\n  const module = renderModule(type),\n        ctr = module && module.headless;\n\n  if (!ctr) error('Unrecognized renderer type: ' + type);\n\n  await view.runAsync();\n  return initializeRenderer(view, null, null, ctr, scaleFactor, opt)\n    .renderAsync(view._scenegraph.root);\n}\n","import renderHeadless from './render-headless.js';\nimport {RenderType as Type} from 'vega-scenegraph';\nimport {error} from 'vega-util';\n\n/**\n * Produce an image URL for the visualization. Depending on the type\n * parameter, the generated URL contains data for either a PNG or SVG image.\n * The URL can be used (for example) to download images of the visualization.\n * This method is asynchronous, returning a Promise instance.\n * @param {string} type - The image type. One of 'svg', 'png' or 'canvas'.\n *   The 'canvas' and 'png' types are synonyms for a PNG image.\n * @return {Promise} - A promise that resolves to an image URL.\n */\nexport default async function(type, scaleFactor) {\n  if (type !== Type.Canvas && type !== Type.SVG && type !== Type.PNG) {\n    error('Unrecognized image type: ' + type);\n  }\n\n  const r = await renderHeadless(this, type, scaleFactor);\n  return type === Type.SVG\n    ? toBlobURL(r.svg(), 'image/svg+xml')\n    : r.canvas().toDataURL('image/png');\n}\n\nfunction toBlobURL(data, mime) {\n  const blob = new Blob([data], {type: mime});\n  return window.URL.createObjectURL(blob);\n}\n","import renderHeadless from './render-headless.js';\nimport {RenderType} from 'vega-scenegraph';\n\n/**\n * Produce a Canvas instance containing a rendered visualization.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A promise that resolves to a Canvas instance.\n */\nexport default async function(scaleFactor, opt) {\n  const r = await renderHeadless(this, RenderType.Canvas, scaleFactor, opt);\n  return r.canvas();\n}\n","import renderHeadless from './render-headless.js';\nimport {RenderType} from 'vega-scenegraph';\n\n/**\n * Produce a rendered SVG string of the visualization.\n * This method is asynchronous, returning a Promise instance.\n * @return {Promise} - A promise that resolves to an SVG string.\n */\nexport default async function(scaleFactor) {\n  const r = await renderHeadless(this, RenderType.SVG, scaleFactor);\n  return r.svg();\n}\n","import {transforms} from 'vega-dataflow';\nimport {functionContext} from 'vega-functions';\nimport {context} from 'vega-runtime';\n\nexport default function(view, spec, expr) {\n  return context(view, transforms, functionContext, expr).parse(spec);\n}\n","import {error, hasOwnProperty} from 'vega-util';\n\nexport function scale(name) {\n  var scales = this._runtime.scales;\n  if (!hasOwnProperty(scales, name)) {\n    error('Unrecognized scale or projection: ' + name);\n  }\n  return scales[name].value;\n}\n","var Width = 'width',\n    Height = 'height',\n    Padding = 'padding',\n    Skip = {skip: true};\n\nexport function viewWidth(view, width) {\n  var a = view.autosize(),\n      p = view.padding();\n  return width - (a && a.contains === Padding ? p.left + p.right : 0);\n}\n\nexport function viewHeight(view, height) {\n  var a = view.autosize(),\n      p = view.padding();\n  return height - (a && a.contains === Padding ? p.top + p.bottom : 0);\n}\n\nexport function initializeResize(view) {\n  var s = view._signals,\n      w = s[Width],\n      h = s[Height],\n      p = s[Padding];\n\n  function resetSize() {\n    view._autosize = view._resize = 1;\n  }\n\n  // respond to width signal\n  view._resizeWidth = view.add(null,\n    _ => {\n      view._width = _.size;\n      view._viewWidth = viewWidth(view, _.size);\n      resetSize();\n    },\n    {size: w}\n  );\n\n  // respond to height signal\n  view._resizeHeight = view.add(null,\n    _ => {\n      view._height = _.size;\n      view._viewHeight = viewHeight(view, _.size);\n      resetSize();\n    },\n    {size: h}\n  );\n\n  // respond to padding signal\n  const resizePadding = view.add(null, resetSize, {pad: p});\n\n  // set rank to run immediately after source signal\n  view._resizeWidth.rank = w.rank + 1;\n  view._resizeHeight.rank = h.rank + 1;\n  resizePadding.rank = p.rank + 1;\n}\n\nexport function resizeView(viewWidth, viewHeight, width, height, origin, auto) {\n  this.runAfter(view => {\n    let rerun = 0;\n\n    // reset autosize flag\n    view._autosize = 0;\n\n    // width value changed: update signal, skip resize op\n    if (view.width() !== width) {\n      rerun = 1;\n      view.signal(Width, width, Skip); // set width, skip update calc\n      view._resizeWidth.skip(true); // skip width resize handler\n    }\n\n    // height value changed: update signal, skip resize op\n    if (view.height() !== height) {\n      rerun = 1;\n      view.signal(Height, height, Skip); // set height, skip update calc\n      view._resizeHeight.skip(true); // skip height resize handler\n    }\n\n    // view width changed: update view property, set resize flag\n    if (view._viewWidth !== viewWidth) {\n      view._resize = 1;\n      view._viewWidth = viewWidth;\n    }\n\n    // view height changed: update view property, set resize flag\n    if (view._viewHeight !== viewHeight) {\n      view._resize = 1;\n      view._viewHeight = viewHeight;\n    }\n\n    // origin changed: update view property, set resize flag\n    if (view._origin[0] !== origin[0] || view._origin[1] !== origin[1]) {\n      view._resize = 1;\n      view._origin = origin;\n    }\n\n    // run dataflow on width/height signal change\n    if (rerun) view.run('enter');\n    if (auto) view.runAfter(v => v.resize());\n  }, false, 1);\n}\n","import {transforms} from 'vega-dataflow';\nimport {isArray} from 'vega-util';\n\n/**\n * Get the current view state, consisting of signal values and/or data sets.\n * @param {object} [options] - Options flags indicating which state to export.\n *   If unspecified, all signals and data sets will be exported.\n * @param {function(string, Operator):boolean} [options.signals] - Optional\n *   predicate function for testing if a signal should be included in the\n *   exported state. If unspecified, all signals will be included, except for\n *   those named 'parent' or those which refer to a Transform value.\n * @param {function(string, object):boolean} [options.data] - Optional\n *   predicate function for testing if a data set's input should be included\n *   in the exported state. If unspecified, all data sets that have been\n *   explicitly modified will be included.\n * @param {boolean} [options.recurse=true] - Flag indicating if the exported\n *   state should recursively include state from group mark sub-contexts.\n * @return {object} - An object containing the exported state values.\n */\nexport function getState(options) {\n  return this._runtime.getState(options || {\n    data:    dataTest,\n    signals: signalTest,\n    recurse: true\n  });\n}\n\nfunction dataTest(name, data) {\n  return data.modified\n      && isArray(data.input.value)\n      && !name.startsWith('_:vega:_');\n}\n\nfunction signalTest(name, op) {\n  return !(name === 'parent' || op instanceof transforms.proxy);\n}\n\n/**\n * Sets the current view state and updates the view by invoking run.\n * @param {object} state - A state object containing signal and/or\n *   data set values, following the format used by the getState method.\n * @return {View} - This view instance.\n */\nexport function setState(state) {\n  this.runAsync(null,\n    v => { v._trigger = false; v._runtime.setState(state); },\n    v => { v._trigger = true; }\n  );\n  return this;\n}\n","import {interval} from 'd3-timer';\n\nexport default function(callback, delay) {\n  function tick(elapsed) {\n    callback({timestamp: Date.now(), elapsed: elapsed});\n  }\n  this._timers.push(interval(tick, delay));\n}\n","import {isArray, isDate, isObject} from 'vega-util';\n\nexport default function(handler, event, item, value) {\n  const el = handler.element();\n  if (el) el.setAttribute('title', formatTooltip(value));\n}\n\nfunction formatTooltip(value) {\n  return value == null ? ''\n    : isArray(value) ? formatArray(value)\n    : isObject(value) && !isDate(value) ? formatObject(value)\n    : value + '';\n}\n\nfunction formatObject(obj) {\n  return Object.keys(obj).map(key => {\n    const v = obj[key];\n    return key + ': ' + (isArray(v) ? formatArray(v) : formatValue(v));\n  }).join('\\n');\n}\n\nfunction formatArray(value) {\n  return '[' + value.map(formatValue).join(', ') + ']';\n}\n\nfunction formatValue(value) {\n  return isArray(value) ? '[\\u2026]'\n    : isObject(value) && !isDate(value) ? '{\\u2026}'\n    : value;\n}\n","export default function() {\n  // based on https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio#monitoring_screen_resolution_or_zoom_level_changes\n  if (this.renderer() === 'canvas' && this._renderer._canvas) {\n    let remove = null;\n    const updatePixelRatio = () => {\n      if (remove != null) {\n        remove();\n      }\n      const media = matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n      media.addEventListener('change', updatePixelRatio);\n      remove = () => {\n        media.removeEventListener('change', updatePixelRatio);\n      };\n\n      this._renderer._canvas.getContext('2d').pixelRatio = window.devicePixelRatio || 1;\n      this._redraw = true;\n      this._resize = 1;\n      this.resize().runAsync();\n    };\n    updatePixelRatio();\n  }\n}","import {ariaLabel} from './aria.js';\nimport background from './background.js';\nimport cursor, {setCursor} from './cursor.js';\nimport {change, data, dataref, insert, remove} from './data.js';\nimport {events, initializeEventConfig} from './events.js';\nimport hover from './hover.js';\nimport finalize from './finalize.js';\nimport initialize from './initialize.js';\nimport padding from './padding.js';\nimport renderToImageURL from './render-to-image-url.js';\nimport renderToCanvas from './render-to-canvas.js';\nimport renderToSVG from './render-to-svg.js';\nimport {resizeRenderer} from './render-size.js';\nimport runtime from './runtime.js';\nimport {scale} from './scale.js';\nimport {initializeResize, resizeView, viewHeight, viewWidth} from './size.js';\nimport {getState, setState} from './state.js';\nimport timer from './timer.js';\nimport defaultTooltip from './tooltip.js';\nimport trap from './trap.js';\nimport watchPixelRatio from './watchPixelRatio.js';\n\nimport {Dataflow, asyncCallback} from 'vega-dataflow';\nimport {locale} from 'vega-format';\nimport {\n  CanvasHandler, RenderType, Scenegraph, renderModule\n} from 'vega-scenegraph';\nimport {\n  error, extend, hasOwnProperty, inherits, stringValue\n} from 'vega-util';\n\n/**\n * Create a new View instance from a Vega dataflow runtime specification.\n * The generated View will not immediately be ready for display. Callers\n * should also invoke the initialize method (e.g., to set the parent\n * DOM element in browser-based deployment) and then invoke the run\n * method to evaluate the dataflow graph. Rendering will automatically\n * be performed upon dataflow runs.\n * @constructor\n * @param {object} spec - The Vega dataflow runtime specification.\n */\nexport default function View(spec, options) {\n  const view = this;\n  options = options || {};\n\n  Dataflow.call(view);\n  if (options.loader) view.loader(options.loader);\n  if (options.logger) view.logger(options.logger);\n  if (options.logLevel != null) view.logLevel(options.logLevel);\n  if (options.locale || spec.locale) {\n    const loc = extend({}, spec.locale, options.locale);\n    view.locale(locale(loc.number, loc.time));\n  }\n\n  view._el = null;\n  view._elBind = null;\n  view._renderType = options.renderer || RenderType.Canvas;\n  view._scenegraph = new Scenegraph();\n  const root = view._scenegraph.root;\n\n  // initialize renderer, handler and event management\n  view._renderer = null;\n  view._tooltip = options.tooltip || defaultTooltip,\n  view._redraw = true;\n  view._handler = new CanvasHandler().scene(root);\n  view._globalCursor = false;\n  view._preventDefault = false;\n  view._timers = [];\n  view._eventListeners = [];\n  view._resizeListeners = [];\n\n  // initialize event configuration\n  view._eventConfig = initializeEventConfig(spec.eventConfig);\n  view.globalCursor(view._eventConfig.globalCursor);\n\n  // initialize dataflow graph\n  const ctx = runtime(view, spec, options.expr);\n  view._runtime = ctx;\n  view._signals = ctx.signals;\n  view._bind = (spec.bindings || []).map(_ => ({\n    state: null,\n    param: extend({}, _)\n  }));\n\n  // initialize scenegraph\n  if (ctx.root) ctx.root.set(root);\n  root.source = ctx.data.root.input;\n  view.pulse(\n    ctx.data.root.input,\n    view.changeset().insert(root.items)\n  );\n\n  // initialize view size\n  view._width = view.width();\n  view._height = view.height();\n  view._viewWidth = viewWidth(view, view._width);\n  view._viewHeight = viewHeight(view, view._height);\n  view._origin = [0, 0];\n  view._resize = 0;\n  view._autosize = 1;\n  initializeResize(view);\n\n  // initialize background color\n  background(view);\n\n  // initialize cursor\n  cursor(view);\n\n  // initialize view description\n  view.description(spec.description);\n\n  // initialize hover proessing, if requested\n  if (options.hover) view.hover();\n\n  // initialize DOM container(s) and renderer\n  if (options.container) view.initialize(options.container, options.bind);\n\n  if (options.watchPixelRatio) view._watchPixelRatio();\n}\n\nfunction lookupSignal(view, name) {\n  return hasOwnProperty(view._signals, name)\n    ? view._signals[name]\n    : error('Unrecognized signal name: ' + stringValue(name));\n}\n\nfunction findOperatorHandler(op, handler) {\n  const h = (op._targets || [])\n    .filter(op => op._update && op._update.handler === handler);\n  return h.length ? h[0] : null;\n}\n\nfunction addOperatorListener(view, name, op, handler) {\n  let h = findOperatorHandler(op, handler);\n  if (!h) {\n    h = trap(view, () => handler(name, op.value));\n    h.handler = handler;\n    view.on(op, null, h);\n  }\n  return view;\n}\n\nfunction removeOperatorListener(view, op, handler) {\n  const h = findOperatorHandler(op, handler);\n  if (h) op._targets.remove(h);\n  return view;\n}\n\ninherits(View, Dataflow, {\n  // -- DATAFLOW / RENDERING ----\n\n  async evaluate(encode, prerun, postrun) {\n    // evaluate dataflow and prerun\n    await Dataflow.prototype.evaluate.call(this, encode, prerun);\n\n    // render as needed\n    if (this._redraw || this._resize) {\n      try {\n        if (this._renderer) {\n          if (this._resize) {\n            this._resize = 0;\n            resizeRenderer(this);\n          }\n          await this._renderer.renderAsync(this._scenegraph.root);\n        }\n        this._redraw = false;\n      } catch (e) {\n        this.error(e);\n      }\n    }\n\n    // evaluate postrun\n    if (postrun) asyncCallback(this, postrun);\n\n    return this;\n  },\n\n  dirty(item) {\n    this._redraw = true;\n    this._renderer && this._renderer.dirty(item);\n  },\n\n  // -- GET / SET ----\n\n  description(text) {\n    if (arguments.length) {\n      const desc = text != null ? (text + '') : null;\n      if (desc !== this._desc) ariaLabel(this._el, this._desc = desc);\n      return this;\n    }\n    return this._desc;\n  },\n\n  container() {\n    return this._el;\n  },\n\n  scenegraph() {\n    return this._scenegraph;\n  },\n\n  origin() {\n    return this._origin.slice();\n  },\n\n  signal(name, value, options) {\n    const op = lookupSignal(this, name);\n    return arguments.length === 1\n      ? op.value\n      : this.update(op, value, options);\n  },\n\n  width(_) {\n    return arguments.length ? this.signal('width', _) : this.signal('width');\n  },\n\n  height(_) {\n    return arguments.length ? this.signal('height', _) : this.signal('height');\n  },\n\n  padding(_) {\n    return arguments.length\n      ? this.signal('padding', padding(_))\n      : padding(this.signal('padding'));\n  },\n\n  autosize(_) {\n    return arguments.length ? this.signal('autosize', _) : this.signal('autosize');\n  },\n\n  background(_) {\n    return arguments.length ? this.signal('background', _) : this.signal('background');\n  },\n\n  renderer(type) {\n    if (!arguments.length) return this._renderType;\n    if (!renderModule(type)) error('Unrecognized renderer type: ' + type);\n    if (type !== this._renderType) {\n      this._renderType = type;\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  tooltip(handler) {\n    if (!arguments.length) return this._tooltip;\n    if (handler !== this._tooltip) {\n      this._tooltip = handler;\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  loader(loader) {\n    if (!arguments.length) return this._loader;\n    if (loader !== this._loader) {\n      Dataflow.prototype.loader.call(this, loader);\n      this._resetRenderer();\n    }\n    return this;\n  },\n\n  resize() {\n    // set flag to perform autosize\n    this._autosize = 1;\n    // touch autosize signal to ensure top-level ViewLayout runs\n    return this.touch(lookupSignal(this, 'autosize'));\n  },\n\n  _resetRenderer() {\n    if (this._renderer) {\n      this._renderer = null;\n      this.initialize(this._el, this._elBind);\n    }\n  },\n\n  // -- SIZING ----\n  _resizeView: resizeView,\n\n  // -- EVENT HANDLING ----\n\n  addEventListener(type, handler, options) {\n    let callback = handler;\n    if (!(options && options.trap === false)) {\n      // wrap callback in error handler\n      callback = trap(this, handler);\n      callback.raw = handler;\n    }\n    this._handler.on(type, callback);\n    return this;\n  },\n\n  removeEventListener(type, handler) {\n    var handlers = this._handler.handlers(type),\n        i = handlers.length, h, t;\n\n    // search registered handlers, remove if match found\n    while (--i >= 0) {\n      t = handlers[i].type;\n      h = handlers[i].handler;\n      if (type === t && (handler === h || handler === h.raw)) {\n        this._handler.off(t, h);\n        break;\n      }\n    }\n    return this;\n  },\n\n  addResizeListener(handler) {\n    const l = this._resizeListeners;\n    if (!l.includes(handler)) {\n      // add handler if it isn't already registered\n      // note: error trapping handled elsewhere, so\n      // no need to wrap handlers here\n      l.push(handler);\n    }\n    return this;\n  },\n\n  removeResizeListener(handler) {\n    var l = this._resizeListeners,\n        i = l.indexOf(handler);\n    if (i >= 0) {\n      l.splice(i, 1);\n    }\n    return this;\n  },\n\n  addSignalListener(name, handler) {\n    return addOperatorListener(this, name, lookupSignal(this, name), handler);\n  },\n\n  removeSignalListener(name, handler) {\n    return removeOperatorListener(this, lookupSignal(this, name), handler);\n  },\n\n  addDataListener(name, handler) {\n    return addOperatorListener(this, name, dataref(this, name).values, handler);\n  },\n\n  removeDataListener(name, handler) {\n    return removeOperatorListener(this, dataref(this, name).values, handler);\n  },\n\n  globalCursor(_) {\n    if (arguments.length) {\n      if (this._globalCursor !== !!_) {\n        const prev = setCursor(this, null); // clear previous cursor\n        this._globalCursor = !!_;\n        if (prev) setCursor(this, prev); // swap cursor\n      }\n      return this;\n    } else {\n      return this._globalCursor;\n    }\n  },\n\n  preventDefault(_) {\n    if (arguments.length) {\n      this._preventDefault = _;\n      return this;\n    } else {\n      return this._preventDefault;\n    }\n  },\n\n  timer,\n  events,\n  finalize,\n  hover,\n\n  // -- DATA ----\n  data,\n  change,\n  insert,\n  remove,\n\n  // -- SCALES --\n  scale,\n\n  // -- INITIALIZATION ----\n  initialize,\n\n  // -- HEADLESS RENDERING ----\n  toImageURL: renderToImageURL,\n  toCanvas: renderToCanvas,\n  toSVG: renderToSVG,\n\n  // -- SAVE / RESTORE STATE ----\n  getState,\n  setState,\n\n  // RE-RENDER ON ZOOM\n  _watchPixelRatio: watchPixelRatio\n});\n"],"names":["initializeAria","view","el","container","setAttribute","ariaLabel","description","desc","removeAttribute","add","_","_background","bg","_resize","_signals","background","Default","cursor","user","item","on","events","event","value","isString","setCursor","globalCursor","document","body","style","removeProperty","dataref","name","data","_runtime","hasOwnProperty","error","values","arguments","length","change","call","changeset","remove","truthy","insert","changes","isChangeSet","dataset","modified","pulse","input","width","padding","Math","max","_viewWidth","left","right","height","_viewHeight","top","bottom","offset","origin","_origin","resizeRenderer","w","h","_renderer","resize","_handler","_resizeListeners","forEach","handler","r","canvas","p","e","translate","changedTouches","point","dataflow","vega","extension","itemGroup","mark","marktype","group","g","i","interactive","xy","slice","x","y","constant","VIEW","TIMER","WINDOW","NO_TRAP","trap","initializeEventConfig","config","extend","defaults","unpack","obj","keys","k","isArray","toSet","trackEventListener","sources","type","_eventListeners","push","array","prevent","def","_eventConfig","allow","preventDefault","permit","key","rule","isObject","warn","source","filter","s","EventStream","send","runAsync","receive","eventExtend","timer","addEventListener","window","Array","from","querySelectorAll","n","itemFilter","markTarget","invoke","encode","hoverSet","leaveSet","tooltip","_tooltip","timers","_timers","handlers","listeners","m","t","stop","removeEventListener","off","tag","attr","text","createElement","textContent","BindClass","NameClass","RadioClass","binding","param","bind","state","elements","active","set","update","signal","debounce","create","element","target","generate","node","dispatchEvent","Event","div","wrapper","appendChild","form","checkbox","select","radio","range","checked","labels","options","option","valuesEqual","selected","selectedIndex","map","label","prepend","nodes","undefined","min","step","tickStep","span","a","b","constructor","scaleFactor","opt","loader","initialize","fn","apply","prevHandler","scene","scenegraph","root","elBind","_renderType","module","renderModule","_el","lookup","Handler","CanvasHandler","Renderer","renderer","headless","initializeRenderer","initializeHandler","_redraw","_elBind","_bind","clear","querySelector","number","paddingObject","ctr","renderAsync","_scenegraph","Type","Canvas","SVG","PNG","renderHeadless","toBlobURL","svg","toDataURL","mime","blob","Blob","URL","createObjectURL","RenderType","spec","expr","context","transforms","functionContext","parse","scale","scales","Width","Height","Padding","Skip","skip","viewWidth","autosize","contains","viewHeight","initializeResize","resetSize","_autosize","_resizeWidth","_width","size","_resizeHeight","_height","resizePadding","pad","rank","resizeView","auto","runAfter","rerun","run","v","getState","dataTest","signals","signalTest","recurse","startsWith","op","proxy","setState","_trigger","callback","delay","tick","elapsed","timestamp","Date","now","interval","formatTooltip","formatArray","isDate","formatObject","Object","formatValue","join","_canvas","updatePixelRatio","media","matchMedia","devicePixelRatio","getContext","pixelRatio","View","Dataflow","logger","logLevel","locale","loc","time","Scenegraph","defaultTooltip","_globalCursor","_preventDefault","eventConfig","ctx","runtime","bindings","items","hover","watchPixelRatio","_watchPixelRatio","lookupSignal","stringValue","findOperatorHandler","_targets","_update","addOperatorListener","removeOperatorListener","inherits","evaluate","prerun","postrun","prototype","asyncCallback","dirty","_desc","_resetRenderer","_loader","touch","_resizeView","raw","addResizeListener","l","includes","removeResizeListener","indexOf","splice","addSignalListener","removeSignalListener","addDataListener","removeDataListener","prev","finalize","toImageURL","renderToImageURL","toCanvas","renderToCanvas","toSVG","renderToSVG"],"mappings":";;;;;;;;;AAAA;AACO,SAASA,cAAcA,CAACC,IAAI,EAAE;AACnC,EAAA,MAAMC,EAAE,GAAGD,IAAI,CAACE,SAAS,EAAE;AAC3B,EAAA,IAAID,EAAE,EAAE;AACNA,IAAAA,EAAE,CAACE,YAAY,CAAC,MAAM,EAAE,mBAAmB,CAAC;AAC5CF,IAAAA,EAAE,CAACE,YAAY,CAAC,sBAAsB,EAAE,eAAe,CAAC;IACxDC,SAAS,CAACH,EAAE,EAAED,IAAI,CAACK,WAAW,EAAE,CAAC;AACnC;AACF;;AAEA;AACO,SAASD,SAASA,CAACH,EAAE,EAAEK,IAAI,EAAE;EAClC,IAAIL,EAAE,EAAEK,IAAI,IAAI,IAAI,GAChBL,EAAE,CAACM,eAAe,CAAC,YAAY,CAAC,GAChCN,EAAE,CAACE,YAAY,CAAC,YAAY,EAAEG,IAAI,CAAC;AACzC;;ACfe,mBAAA,EAASN,IAAI,EAAE;AAC5B;AACAA,EAAAA,IAAI,CAACQ,GAAG,CAAC,IAAI,EAAEC,CAAC,IAAI;AAClBT,IAAAA,IAAI,CAACU,WAAW,GAAGD,CAAC,CAACE,EAAE;IACvBX,IAAI,CAACY,OAAO,GAAG,CAAC;IAChB,OAAOH,CAAC,CAACE,EAAE;AACb,GAAC,EAAE;AAAEA,IAAAA,EAAE,EAAEX,IAAI,CAACa,QAAQ,CAACC;AAAW,GAAC,CAAC;AACtC;;ACLA,MAAMC,OAAO,GAAG,SAAS;AAEV,eAAA,EAASf,IAAI,EAAE;AAC5B;AACA,EAAA,MAAMgB,MAAM,GAAGhB,IAAI,CAACa,QAAQ,CAACG,MAAM,KAAKhB,IAAI,CAACa,QAAQ,CAACG,MAAM,GAAGhB,IAAI,CAACQ,GAAG,CAAC;AACtES,IAAAA,IAAI,EAAEF,OAAO;AACbG,IAAAA,IAAI,EAAE;AACR,GAAC,CAAC,CAAC;;AAEH;AACAlB,EAAAA,IAAI,CAACmB,EAAE,CAACnB,IAAI,CAACoB,MAAM,CAAC,MAAM,EAAE,aAAa,CAAC,EAAEJ,MAAM,EAChD,CAACP,CAAC,EAAEY,KAAK,KAAK;AACZ,IAAA,MAAMC,KAAK,GAAGN,MAAM,CAACM,KAAK;AACpBL,MAAAA,IAAI,GAAGK,KAAK,GAAIC,QAAQ,CAACD,KAAK,CAAC,GAAGA,KAAK,GAAGA,KAAK,CAACL,IAAI,GAAIF,OAAO;MAC/DG,IAAI,GAAGG,KAAK,CAACH,IAAI,IAAIG,KAAK,CAACH,IAAI,CAACF,MAAM,IAAI,IAAI;AAEpD,IAAA,OAAQM,KAAK,IAAIL,IAAI,KAAKK,KAAK,CAACL,IAAI,IAAIC,IAAI,IAAII,KAAK,CAACJ,IAAI,GACtDI,KAAK,GACL;AAACL,MAAAA,IAAI,EAAEA,IAAI;AAAEC,MAAAA,IAAI,EAAEA;KAAK;AAC9B,GACF,CAAC;;AAED;AACAlB,EAAAA,IAAI,CAACQ,GAAG,CAAC,IAAI,EAAE,UAASC,CAAC,EAAE;AACzB,IAAA,IAAIQ,IAAI,GAAGR,CAAC,CAACO,MAAM;MACfE,IAAI,GAAG,IAAI,CAACI,KAAK;AAErB,IAAA,IAAI,CAACC,QAAQ,CAACN,IAAI,CAAC,EAAE;MACnBC,IAAI,GAAGD,IAAI,CAACC,IAAI;MAChBD,IAAI,GAAGA,IAAI,CAACA,IAAI;AAClB;AAEAO,IAAAA,SAAS,CAACxB,IAAI,EAAEiB,IAAI,IAAIA,IAAI,KAAKF,OAAO,GAAGE,IAAI,GAAIC,IAAI,IAAID,IAAK,CAAC;AAEjE,IAAA,OAAOC,IAAI;AACb,GAAC,EAAE;AAACF,IAAAA,MAAM,EAAEA;AAAM,GAAC,CAAC;AACtB;AAEO,SAASQ,SAASA,CAACxB,IAAI,EAAEgB,MAAM,EAAE;EACtC,MAAMf,EAAE,GAAGD,IAAI,CAACyB,YAAY,EAAE,GACzB,OAAOC,QAAQ,KAAK,WAAW,IAAIA,QAAQ,CAACC,IAAI,GACjD3B,IAAI,CAACE,SAAS,EAAE;AAEpB,EAAA,IAAID,EAAE,EAAE;AACN,IAAA,OAAOe,MAAM,IAAI,IAAI,GACjBf,EAAE,CAAC2B,KAAK,CAACC,cAAc,CAAC,QAAQ,CAAC,GAChC5B,EAAE,CAAC2B,KAAK,CAACZ,MAAM,GAAGA,MAAO;AAChC;AACF;;AC/CO,SAASc,OAAOA,CAAC9B,IAAI,EAAE+B,IAAI,EAAE;AAClC,EAAA,IAAIC,IAAI,GAAGhC,IAAI,CAACiC,QAAQ,CAACD,IAAI;AAC7B,EAAA,IAAI,CAACE,cAAc,CAACF,IAAI,EAAED,IAAI,CAAC,EAAE;AAC/BI,IAAAA,KAAK,CAAC,yBAAyB,GAAGJ,IAAI,CAAC;AACzC;EACA,OAAOC,IAAI,CAACD,IAAI,CAAC;AACnB;AAEO,SAASC,IAAIA,CAACD,IAAI,EAAEK,MAAM,EAAE;AACjC,EAAA,OAAOC,SAAS,CAACC,MAAM,GAAG,CAAC,GACvBR,OAAO,CAAC,IAAI,EAAEC,IAAI,CAAC,CAACK,MAAM,CAACd,KAAK,GAChCiB,MAAM,CAACC,IAAI,CAAC,IAAI,EAAET,IAAI,EAAEU,SAAS,EAAE,CAACC,MAAM,CAACC,MAAM,CAAC,CAACC,MAAM,CAACR,MAAM,CAAC,CAAC;AACxE;AAEO,SAASG,MAAMA,CAACR,IAAI,EAAEc,OAAO,EAAE;AACpC,EAAA,IAAI,CAACC,WAAW,CAACD,OAAO,CAAC,EAAE;IACzBV,KAAK,CAAC,iDAAiD,CAAC;AAC1D;AACA,EAAA,MAAMY,OAAO,GAAGjB,OAAO,CAAC,IAAI,EAAEC,IAAI,CAAC;EACnCgB,OAAO,CAACC,QAAQ,GAAG,IAAI;EACvB,OAAO,IAAI,CAACC,KAAK,CAACF,OAAO,CAACG,KAAK,EAAEL,OAAO,CAAC;AAC3C;AAEO,SAASD,MAAMA,CAACb,IAAI,EAAEtB,CAAC,EAAE;AAC9B,EAAA,OAAO8B,MAAM,CAACC,IAAI,CAAC,IAAI,EAAET,IAAI,EAAEU,SAAS,EAAE,CAACG,MAAM,CAACnC,CAAC,CAAC,CAAC;AACvD;AAEO,SAASiC,MAAMA,CAACX,IAAI,EAAEtB,CAAC,EAAE;AAC9B,EAAA,OAAO8B,MAAM,CAACC,IAAI,CAAC,IAAI,EAAET,IAAI,EAAEU,SAAS,EAAE,CAACC,MAAM,CAACjC,CAAC,CAAC,CAAC;AACvD;;AChCO,SAAS0C,KAAKA,CAACnD,IAAI,EAAE;AAC1B,EAAA,IAAIoD,OAAO,GAAGpD,IAAI,CAACoD,OAAO,EAAE;AAC5B,EAAA,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEtD,IAAI,CAACuD,UAAU,GAAGH,OAAO,CAACI,IAAI,GAAGJ,OAAO,CAACK,KAAK,CAAC;AACpE;AAEO,SAASC,MAAMA,CAAC1D,IAAI,EAAE;AAC3B,EAAA,IAAIoD,OAAO,GAAGpD,IAAI,CAACoD,OAAO,EAAE;AAC5B,EAAA,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEtD,IAAI,CAAC2D,WAAW,GAAGP,OAAO,CAACQ,GAAG,GAAGR,OAAO,CAACS,MAAM,CAAC;AACrE;AAEO,SAASC,MAAMA,CAAC9D,IAAI,EAAE;AAC3B,EAAA,IAAIoD,OAAO,GAAGpD,IAAI,CAACoD,OAAO,EAAE;IACxBW,MAAM,GAAG/D,IAAI,CAACgE,OAAO;AACzB,EAAA,OAAO,CACLZ,OAAO,CAACI,IAAI,GAAGO,MAAM,CAAC,CAAC,CAAC,EACxBX,OAAO,CAACQ,GAAG,GAAGG,MAAM,CAAC,CAAC,CAAC,CACxB;AACH;AAEO,SAASE,cAAcA,CAACjE,IAAI,EAAE;AACnC,EAAA,IAAI+D,MAAM,GAAGD,MAAM,CAAC9D,IAAI,CAAC;AACrBkE,IAAAA,CAAC,GAAGf,KAAK,CAACnD,IAAI,CAAC;AACfmE,IAAAA,CAAC,GAAGT,MAAM,CAAC1D,IAAI,CAAC;EAEpBA,IAAI,CAACoE,SAAS,CAACtD,UAAU,CAACd,IAAI,CAACc,UAAU,EAAE,CAAC;EAC5Cd,IAAI,CAACoE,SAAS,CAACC,MAAM,CAACH,CAAC,EAAEC,CAAC,EAAEJ,MAAM,CAAC;AACnC/D,EAAAA,IAAI,CAACsE,QAAQ,CAACP,MAAM,CAACA,MAAM,CAAC;AAE5B/D,EAAAA,IAAI,CAACuE,gBAAgB,CAACC,OAAO,CAACC,OAAO,IAAI;IACvC,IAAI;AACFA,MAAAA,OAAO,CAACP,CAAC,EAAEC,CAAC,CAAC;KACd,CAAC,OAAOhC,KAAK,EAAE;AACdnC,MAAAA,IAAI,CAACmC,KAAK,CAACA,KAAK,CAAC;AACnB;AACF,GAAC,CAAC;AACJ;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,sBAASnC,IAAI,EAAEqB,KAAK,EAAEH,IAAI,EAAE;AACzC,EAAA,IAAIwD,CAAC,GAAI1E,IAAI,CAACoE,SAAS;AACnBnE,IAAAA,EAAE,GAAGyE,CAAC,IAAIA,CAAC,CAACC,MAAM,EAAE;IACpBC,CAAC;IAAEC,CAAC;IAAEC,SAAS;AAEnB,EAAA,IAAI7E,EAAE,EAAE;AACN6E,IAAAA,SAAS,GAAGhB,MAAM,CAAC9D,IAAI,CAAC;AACxB6E,IAAAA,CAAC,GAAGxD,KAAK,CAAC0D,cAAc,GAAG1D,KAAK,CAAC0D,cAAc,CAAC,CAAC,CAAC,GAAG1D,KAAK;AAC1DuD,IAAAA,CAAC,GAAGI,KAAK,CAACH,CAAC,EAAE5E,EAAE,CAAC;AAChB2E,IAAAA,CAAC,CAAC,CAAC,CAAC,IAAIE,SAAS,CAAC,CAAC,CAAC;AACpBF,IAAAA,CAAC,CAAC,CAAC,CAAC,IAAIE,SAAS,CAAC,CAAC,CAAC;AACtB;EAEAzD,KAAK,CAAC4D,QAAQ,GAAGjF,IAAI;EACrBqB,KAAK,CAACH,IAAI,GAAGA,IAAI;EACjBG,KAAK,CAAC6D,IAAI,GAAGC,SAAS,CAACnF,IAAI,EAAEkB,IAAI,EAAE0D,CAAC,CAAC;AACrC,EAAA,OAAOvD,KAAK;AACd;AAEA,SAAS8D,SAASA,CAACnF,IAAI,EAAEkB,IAAI,EAAE8D,KAAK,EAAE;EACpC,MAAMI,SAAS,GAAGlE,IAAI,GAClBA,IAAI,CAACmE,IAAI,CAACC,QAAQ,KAAK,OAAO,GAAGpE,IAAI,GAAGA,IAAI,CAACmE,IAAI,CAACE,KAAK,GACvD,IAAI;EAER,SAASA,KAAKA,CAACxD,IAAI,EAAE;IACnB,IAAIyD,CAAC,GAAGJ,SAAS;MAAEK,CAAC;AACpB,IAAA,IAAI1D,IAAI,EAAE,KAAK0D,CAAC,GAAGvE,IAAI,EAAEuE,CAAC,EAAEA,CAAC,GAAGA,CAAC,CAACJ,IAAI,CAACE,KAAK,EAAE;AAC5C,MAAA,IAAIE,CAAC,CAACJ,IAAI,CAACtD,IAAI,KAAKA,IAAI,EAAE;AAAEyD,QAAAA,CAAC,GAAGC,CAAC;AAAE,QAAA;AAAO;AAC5C;AACA,IAAA,OAAOD,CAAC,IAAIA,CAAC,CAACH,IAAI,IAAIG,CAAC,CAACH,IAAI,CAACK,WAAW,GAAGF,CAAC,GAAG,EAAE;AACnD;EAEA,SAASG,EAAEA,CAACzE,IAAI,EAAE;AAChB,IAAA,IAAI,CAACA,IAAI,EAAE,OAAO8D,KAAK;IACvB,IAAIzD,QAAQ,CAACL,IAAI,CAAC,EAAEA,IAAI,GAAGqE,KAAK,CAACrE,IAAI,CAAC;AAEtC,IAAA,MAAM0D,CAAC,GAAGI,KAAK,CAACY,KAAK,EAAE;AACvB,IAAA,OAAO1E,IAAI,EAAE;MACX0D,CAAC,CAAC,CAAC,CAAC,IAAI1D,IAAI,CAAC2E,CAAC,IAAI,CAAC;MACnBjB,CAAC,CAAC,CAAC,CAAC,IAAI1D,IAAI,CAAC4E,CAAC,IAAI,CAAC;MACnB5E,IAAI,GAAGA,IAAI,CAACmE,IAAI,IAAInE,IAAI,CAACmE,IAAI,CAACE,KAAK;AACrC;AACA,IAAA,OAAOX,CAAC;AACV;EAEA,OAAO;AACL5E,IAAAA,IAAI,EAAG+F,QAAQ,CAAC/F,IAAI,CAAC;AACrBkB,IAAAA,IAAI,EAAG6E,QAAQ,CAAC7E,IAAI,IAAI,EAAE,CAAC;AAC3BqE,IAAAA,KAAK,EAAEA,KAAK;AACZI,IAAAA,EAAE,EAAKA,EAAE;IACTE,CAAC,EAAM3E,IAAI,IAAIyE,EAAE,CAACzE,IAAI,CAAC,CAAC,CAAC,CAAC;IAC1B4E,CAAC,EAAM5E,IAAI,IAAIyE,EAAE,CAACzE,IAAI,CAAC,CAAC,CAAC;GAC1B;AACH;;AC/EA,MAAM8E,IAAI,GAAG,MAAM;AACbC,EAAAA,KAAK,GAAG,OAAO;AACfC,EAAAA,MAAM,GAAG,QAAQ;AACjBC,EAAAA,OAAO,GAAG;AAACC,IAAAA,IAAI,EAAE;GAAM;;AAE7B;AACA;AACA;AACA;AACA;AACO,SAASC,qBAAqBA,CAACC,MAAM,EAAE;EAC5C,MAAMlF,MAAM,GAAGmF,MAAM,CAAC;AAACC,IAAAA,QAAQ,EAAE;GAAG,EAAEF,MAAM,CAAC;AAE7C,EAAA,MAAMG,MAAM,GAAGA,CAACC,GAAG,EAAEC,IAAI,KAAK;AAC5BA,IAAAA,IAAI,CAACnC,OAAO,CAACoC,CAAC,IAAI;AAChB,MAAA,IAAIC,OAAO,CAACH,GAAG,CAACE,CAAC,CAAC,CAAC,EAAEF,GAAG,CAACE,CAAC,CAAC,GAAGE,KAAK,CAACJ,GAAG,CAACE,CAAC,CAAC,CAAC;AAC7C,KAAC,CAAC;GACH;EAEDH,MAAM,CAACrF,MAAM,CAACoF,QAAQ,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;EAC7CC,MAAM,CAACrF,MAAM,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AAE9C,EAAA,OAAOA,MAAM;AACf;AAEO,SAAS2F,kBAAkBA,CAAC/G,IAAI,EAAEgH,OAAO,EAAEC,IAAI,EAAExC,OAAO,EAAE;AAC/DzE,EAAAA,IAAI,CAACkH,eAAe,CAACC,IAAI,CAAC;AACxBF,IAAAA,IAAI,EAAEA,IAAI;AACVD,IAAAA,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAAC;AACvBvC,IAAAA,OAAO,EAAEA;AACX,GAAC,CAAC;AACJ;AAEA,SAAS4C,OAAOA,CAACrH,IAAI,EAAEiH,IAAI,EAAE;AAC3B,EAAA,IAAIK,GAAG,GAAGtH,IAAI,CAACuH,YAAY,CAACf,QAAQ;IAChCa,OAAO,GAAGC,GAAG,CAACD,OAAO;IACrBG,KAAK,GAAGF,GAAG,CAACE,KAAK;AAErB,EAAA,OAAOH,OAAO,KAAK,KAAK,IAAIG,KAAK,KAAK,IAAI,GAAG,KAAK,GAC9CH,OAAO,KAAK,IAAI,IAAIG,KAAK,KAAK,KAAK,GAAG,IAAI,GAC1CH,OAAO,GAAGA,OAAO,CAACJ,IAAI,CAAC,GACvBO,KAAK,GAAG,CAACA,KAAK,CAACP,IAAI,CAAC,GACpBjH,IAAI,CAACyH,cAAc,EAAE;AAC3B;AAEA,SAASC,MAAMA,CAAC1H,IAAI,EAAE2H,GAAG,EAAEV,IAAI,EAAE;EAC/B,MAAMW,IAAI,GAAG5H,IAAI,CAACuH,YAAY,IAAIvH,IAAI,CAACuH,YAAY,CAACI,GAAG,CAAC;AAExD,EAAA,IAAIC,IAAI,KAAK,KAAK,IAAKC,QAAQ,CAACD,IAAI,CAAC,IAAI,CAACA,IAAI,CAACX,IAAI,CAAE,EAAE;IACrDjH,IAAI,CAAC8H,IAAI,CAAC,CAAA,QAAA,EAAWH,GAAG,CAAIV,CAAAA,EAAAA,IAAI,kBAAkB,CAAC;AACnD,IAAA,OAAO,KAAK;AACd;AAEA,EAAA,OAAO,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS7F,MAAMA,CAAC2G,MAAM,EAAEd,IAAI,EAAEe,MAAM,EAAE;EAC3C,IAAIhI,IAAI,GAAG,IAAI;AACXiI,IAAAA,CAAC,GAAG,IAAIC,WAAW,CAACF,MAAM,CAAC;AAC3BG,IAAAA,IAAI,GAAG,UAAStD,CAAC,EAAE3D,IAAI,EAAE;AACvBlB,MAAAA,IAAI,CAACoI,QAAQ,CAAC,IAAI,EAAE,MAAM;QACxB,IAAIL,MAAM,KAAK/B,IAAI,IAAIqB,OAAO,CAACrH,IAAI,EAAEiH,IAAI,CAAC,EAAE;UAC1CpC,CAAC,CAAC4C,cAAc,EAAE;AACpB;QACAQ,CAAC,CAACI,OAAO,CAACC,WAAW,CAACtI,IAAI,EAAE6E,CAAC,EAAE3D,IAAI,CAAC,CAAC;AACvC,OAAC,CAAC;KACH;IACD8F,OAAO;EAEX,IAAIe,MAAM,KAAK9B,KAAK,EAAE;IACpB,IAAIyB,MAAM,CAAC1H,IAAI,EAAE,OAAO,EAAEiH,IAAI,CAAC,EAAE;AAC/BjH,MAAAA,IAAI,CAACuI,KAAK,CAACJ,IAAI,EAAElB,IAAI,CAAC;AACxB;AACF,GAAC,MAEI,IAAIc,MAAM,KAAK/B,IAAI,EAAE;IACxB,IAAI0B,MAAM,CAAC1H,IAAI,EAAE,MAAM,EAAEiH,IAAI,CAAC,EAAE;AAC9B;MACAjH,IAAI,CAACwI,gBAAgB,CAACvB,IAAI,EAAEkB,IAAI,EAAEhC,OAAO,CAAC;AAC5C;AACF,GAAC,MAEI;IACH,IAAI4B,MAAM,KAAK7B,MAAM,EAAE;AACrB,MAAA,IAAIwB,MAAM,CAAC1H,IAAI,EAAE,QAAQ,EAAEiH,IAAI,CAAC,IAAI,OAAOwB,MAAM,KAAK,WAAW,EAAE;QACjEzB,OAAO,GAAG,CAACyB,MAAM,CAAC;AACpB;AACF,KAAC,MAAM,IAAI,OAAO/G,QAAQ,KAAK,WAAW,EAAE;MAC1C,IAAIgG,MAAM,CAAC1H,IAAI,EAAE,UAAU,EAAEiH,IAAI,CAAC,EAAE;QAClCD,OAAO,GAAG0B,KAAK,CAACC,IAAI,CAACjH,QAAQ,CAACkH,gBAAgB,CAACb,MAAM,CAAC,CAAC;AACzD;AACF;IAEA,IAAI,CAACf,OAAO,EAAE;AACZhH,MAAAA,IAAI,CAAC8H,IAAI,CAAC,gCAAgC,GAAGC,MAAM,CAAC;AACtD,KAAC,MAAM;AACL,MAAA,KAAK,IAAItC,CAAC,GAAC,CAAC,EAAEoD,CAAC,GAAC7B,OAAO,CAAC1E,MAAM,EAAEmD,CAAC,GAACoD,CAAC,EAAE,EAAEpD,CAAC,EAAE;QACxCuB,OAAO,CAACvB,CAAC,CAAC,CAAC+C,gBAAgB,CAACvB,IAAI,EAAEkB,IAAI,CAAC;AACzC;MACApB,kBAAkB,CAAC/G,IAAI,EAAEgH,OAAO,EAAEC,IAAI,EAAEkB,IAAI,CAAC;AAC/C;AACF;AAEA,EAAA,OAAOF,CAAC;AACV;;ACnHA,SAASa,UAAUA,CAACzH,KAAK,EAAE;EACzB,OAAOA,KAAK,CAACH,IAAI;AACnB;AAEA,SAAS6H,UAAUA,CAAC1H,KAAK,EAAE;AACzB;AACA,EAAA,OAAOA,KAAK,CAACH,IAAI,CAACmE,IAAI,CAAC0C,MAAM;AAC/B;AAEA,SAASiB,MAAMA,CAACjH,IAAI,EAAE;AACpB,EAAA,OAAO,UAAStB,CAAC,EAAEY,KAAK,EAAE;AACxB,IAAA,OAAOA,KAAK,CAAC6D,IAAI,CAAClF,IAAI,EAAE,CACrByC,SAAS,EAAE,CACXwG,MAAM,CAAC5H,KAAK,CAACH,IAAI,EAAEa,IAAI,CAAC;GAC5B;AACH;AAEe,cAASmH,EAAAA,QAAQ,EAAEC,QAAQ,EAAE;AAC1CD,EAAAA,QAAQ,GAAG,CAACA,QAAQ,IAAI,OAAO,CAAC;EAChCC,QAAQ,GAAG,CAACA,QAAQ,IAAI,QAAQ,EAAED,QAAQ,CAAC,CAAC,CAAC,CAAC;;AAE9C;EACA,IAAI,CAAC/H,EAAE,CACL,IAAI,CAACC,MAAM,CAAC,MAAM,EAAE,aAAa,EAAE0H,UAAU,CAAC,EAC9CC,UAAU,EACVC,MAAM,CAACE,QAAQ,CACjB,CAAC;;AAED;EACA,IAAI,CAAC/H,EAAE,CACL,IAAI,CAACC,MAAM,CAAC,MAAM,EAAE,YAAY,EAAE0H,UAAU,CAAC,EAC7CC,UAAU,EACVC,MAAM,CAACG,QAAQ,CACjB,CAAC;AAED,EAAA,OAAO,IAAI;AACb;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACe,iBAAW,IAAA;AACxB,EAAA,IAAIC,OAAO,GAAG,IAAI,CAACC,QAAQ;IACvBC,MAAM,GAAG,IAAI,CAACC,OAAO;AACrBC,IAAAA,QAAQ,GAAG,IAAI,CAAClF,QAAQ,CAACkF,QAAQ,EAAE;IACnCC,SAAS,GAAG,IAAI,CAACvC,eAAe;IAChC2B,CAAC;IAAEa,CAAC;IAAE7E,CAAC;IAAEV,CAAC;IAAEwF,CAAC;EAEjBd,CAAC,GAAGS,MAAM,CAAChH,MAAM;AACjB,EAAA,OAAO,EAAEuG,CAAC,IAAI,CAAC,EAAE;AACfS,IAAAA,MAAM,CAACT,CAAC,CAAC,CAACe,IAAI,EAAE;AAClB;EAEAf,CAAC,GAAGY,SAAS,CAACnH,MAAM;AACpB,EAAA,OAAO,EAAEuG,CAAC,IAAI,CAAC,EAAE;AACfhE,IAAAA,CAAC,GAAG4E,SAAS,CAACZ,CAAC,CAAC;AAChBa,IAAAA,CAAC,GAAG7E,CAAC,CAACmC,OAAO,CAAC1E,MAAM;AACpB,IAAA,OAAO,EAAEoH,CAAC,IAAI,CAAC,EAAE;AACf7E,MAAAA,CAAC,CAACmC,OAAO,CAAC0C,CAAC,CAAC,CAACG,mBAAmB,CAAChF,CAAC,CAACoC,IAAI,EAAEpC,CAAC,CAACJ,OAAO,CAAC;AACrD;AACF;AAEA,EAAA,IAAI2E,OAAO,EAAE;AACXA,IAAAA,OAAO,CAAC5G,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC8B,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;AACrD;;AAEA;EACAuE,CAAC,GAAGW,QAAQ,CAAClH,MAAM;AACnB,EAAA,OAAO,EAAEuG,CAAC,IAAI,CAAC,EAAE;AACfc,IAAAA,CAAC,GAAGH,QAAQ,CAACX,CAAC,CAAC,CAAC5B,IAAI;AACpB9C,IAAAA,CAAC,GAAGqF,QAAQ,CAACX,CAAC,CAAC,CAACpE,OAAO;IACvB,IAAI,CAACH,QAAQ,CAACwF,GAAG,CAACH,CAAC,EAAExF,CAAC,CAAC;AACzB;AAEA,EAAA,OAAO,IAAI;AACb;;ACxCe,kBAAS4F,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;AACvC,EAAA,MAAMhK,EAAE,GAAGyB,QAAQ,CAACwI,aAAa,CAACH,GAAG,CAAC;AACtC,EAAA,KAAK,MAAMpC,GAAG,IAAIqC,IAAI,EAAE/J,EAAE,CAACE,YAAY,CAACwH,GAAG,EAAEqC,IAAI,CAACrC,GAAG,CAAC,CAAC;EACvD,IAAIsC,IAAI,IAAI,IAAI,EAAEhK,EAAE,CAACkK,WAAW,GAAGF,IAAI;AACvC,EAAA,OAAOhK,EAAE;AACX;;ACAA,MAAMmK,SAAS,GAAG,WAAW;AACvBC,EAAAA,SAAS,GAAG,gBAAgB;AAC5BC,EAAAA,UAAU,GAAG,iBAAiB;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,eAAStK,IAAI,EAAEC,EAAE,EAAEsK,OAAO,EAAE;EACzC,IAAI,CAACtK,EAAE,EAAE;AAET,EAAA,MAAMuK,KAAK,GAAGD,OAAO,CAACC,KAAK;AAC3B,EAAA,IAAIC,IAAI,GAAGF,OAAO,CAACG,KAAK;EAExB,IAAI,CAACD,IAAI,EAAE;AACTA,IAAAA,IAAI,GAAGF,OAAO,CAACG,KAAK,GAAG;AACrBC,MAAAA,QAAQ,EAAE,IAAI;AACdC,MAAAA,MAAM,EAAE,KAAK;AACbC,MAAAA,GAAG,EAAE,IAAI;MACTC,MAAM,EAAExJ,KAAK,IAAI;QACf,IAAIA,KAAK,IAAItB,IAAI,CAAC+K,MAAM,CAACP,KAAK,CAACO,MAAM,CAAC,EAAE;AACtC/K,UAAAA,IAAI,CAACoI,QAAQ,CAAC,IAAI,EAAE,MAAM;YACxBqC,IAAI,CAAC1C,MAAM,GAAG,IAAI;YAClB/H,IAAI,CAAC+K,MAAM,CAACP,KAAK,CAACO,MAAM,EAAEzJ,KAAK,CAAC;AAClC,WAAC,CAAC;AACJ;AACF;KACD;IACD,IAAIkJ,KAAK,CAACQ,QAAQ,EAAE;AAClBP,MAAAA,IAAI,CAACK,MAAM,GAAGE,QAAQ,CAACR,KAAK,CAACQ,QAAQ,EAAEP,IAAI,CAACK,MAAM,CAAC;AACrD;AACF;AAEA,EAAA,MAAMG,MAAM,GAAGT,KAAK,CAACtH,KAAK,IAAI,IAAI,IAAIsH,KAAK,CAACU,OAAO,GAAGC,MAAM,GAAGC,QAAQ;EACvEH,MAAM,CAACR,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAExK,IAAI,CAAC;AAE7B,EAAA,IAAI,CAACyK,IAAI,CAACG,MAAM,EAAE;AAChB5K,IAAAA,IAAI,CAACmB,EAAE,CAACnB,IAAI,CAACa,QAAQ,CAAC2J,KAAK,CAACO,MAAM,CAAC,EAAE,IAAI,EAAE,MAAM;MAC/CN,IAAI,CAAC1C,MAAM,GACN0C,IAAI,CAAC1C,MAAM,GAAG,KAAK,GACpB0C,IAAI,CAACI,GAAG,CAAC7K,IAAI,CAAC+K,MAAM,CAACP,KAAK,CAACO,MAAM,CAAC,CAAC;AACzC,KAAC,CAAC;IACFN,IAAI,CAACG,MAAM,GAAG,IAAI;AACpB;AAEA,EAAA,OAAOH,IAAI;AACb;;AAEA;AACA;AACA;AACA,SAASU,MAAMA,CAACV,IAAI,EAAEY,IAAI,EAAEb,KAAK,EAAExK,IAAI,EAAE;AACvC,EAAA,MAAMiH,IAAI,GAAGuD,KAAK,CAACnJ,KAAK,IAAI,OAAO;EACnC,MAAMoD,OAAO,GAAGA,MAAMgG,IAAI,CAACK,MAAM,CAACO,IAAI,CAAC/J,KAAK,CAAC;;AAE7C;EACAtB,IAAI,CAAC+K,MAAM,CAACP,KAAK,CAACO,MAAM,EAAEM,IAAI,CAAC/J,KAAK,CAAC;;AAErC;AACA+J,EAAAA,IAAI,CAAC7C,gBAAgB,CAACvB,IAAI,EAAExC,OAAO,CAAC;;AAEpC;EACAsC,kBAAkB,CAAC/G,IAAI,EAAEqL,IAAI,EAAEpE,IAAI,EAAExC,OAAO,CAAC;;AAE7C;AACAgG,EAAAA,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI;IAClB+J,IAAI,CAAC/J,KAAK,GAAGA,KAAK;AAClB+J,IAAAA,IAAI,CAACC,aAAa,CAACjK,KAAK,CAAC4F,IAAI,CAAC,CAAC;GAChC;AACH;AAEA,SAAS5F,KAAKA,CAAC4F,IAAI,EAAE;EACnB,OAAO,OAAOsE,KAAK,KAAK,WAAW,GAAG,IAAIA,KAAK,CAACtE,IAAI,CAAC,GAAG;AAAEA,IAAAA;GAAM;AAClE;;AAEA;AACA;AACA;AACA,SAASmE,QAAQA,CAACX,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAExK,IAAI,EAAE;EACvC,MAAMsB,KAAK,GAAGtB,IAAI,CAAC+K,MAAM,CAACP,KAAK,CAACO,MAAM,CAAC;AACvC,EAAA,MAAMS,GAAG,GAAGN,OAAO,CAAC,KAAK,EAAE;AAAC,IAAA,OAAO,EAAEd;AAAS,GAAC,CAAC;AAEhD,EAAA,MAAMqB,OAAO,GAAGjB,KAAK,CAACtH,KAAK,KAAK,OAAO,GACnCsI,GAAG,GACHA,GAAG,CAACE,WAAW,CAACR,OAAO,CAAC,OAAO,CAAC,CAAC;AAErCO,EAAAA,OAAO,CAACC,WAAW,CAACR,OAAO,CAAC,MAAM,EAChC;AAAC,IAAA,OAAO,EAAEb;GAAU,EACnBG,KAAK,CAACzI,IAAI,IAAIyI,KAAK,CAACO,MACvB,CAAC,CAAC;AAEF9K,EAAAA,EAAE,CAACyL,WAAW,CAACF,GAAG,CAAC;EAEnB,IAAItI,KAAK,GAAGyI,IAAI;EAChB,QAAQnB,KAAK,CAACtH,KAAK;AACjB,IAAA,KAAK,UAAU;AAAEA,MAAAA,KAAK,GAAG0I,QAAQ;AAAE,MAAA;AACnC,IAAA,KAAK,QAAQ;AAAI1I,MAAAA,KAAK,GAAG2I,MAAM;AAAE,MAAA;AACjC,IAAA,KAAK,OAAO;AAAK3I,MAAAA,KAAK,GAAG4I,KAAK;AAAE,MAAA;AAChC,IAAA,KAAK,OAAO;AAAK5I,MAAAA,KAAK,GAAG6I,KAAK;AAAE,MAAA;AAClC;EAEA7I,KAAK,CAACuH,IAAI,EAAEgB,OAAO,EAAEjB,KAAK,EAAElJ,KAAK,CAAC;AACpC;;AAEA;AACA;AACA;AACA;AACA,SAASqK,IAAIA,CAAClB,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAElJ,KAAK,EAAE;AACpC,EAAA,MAAM+J,IAAI,GAAGH,OAAO,CAAC,OAAO,CAAC;AAE7B,EAAA,KAAK,MAAMvD,GAAG,IAAI6C,KAAK,EAAE;AACvB,IAAA,IAAI7C,GAAG,KAAK,QAAQ,IAAIA,GAAG,KAAK,SAAS,EAAE;AACzC0D,MAAAA,IAAI,CAAClL,YAAY,CAACwH,GAAG,KAAK,OAAO,GAAG,MAAM,GAAGA,GAAG,EAAE6C,KAAK,CAAC7C,GAAG,CAAC,CAAC;AAC/D;AACF;EACA0D,IAAI,CAAClL,YAAY,CAAC,MAAM,EAAEqK,KAAK,CAACO,MAAM,CAAC;EACvCM,IAAI,CAAC/J,KAAK,GAAGA,KAAK;AAElBrB,EAAAA,EAAE,CAACyL,WAAW,CAACL,IAAI,CAAC;AACpBA,EAAAA,IAAI,CAAC7C,gBAAgB,CAAC,OAAO,EAAE,MAAMiC,IAAI,CAACK,MAAM,CAACO,IAAI,CAAC/J,KAAK,CAAC,CAAC;AAE7DmJ,EAAAA,IAAI,CAACE,QAAQ,GAAG,CAACU,IAAI,CAAC;EACtBZ,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI+J,IAAI,CAAC/J,KAAK,GAAGA,KAAK;AACxC;;AAEA;AACA;AACA;AACA,SAASsK,QAAQA,CAACnB,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAElJ,KAAK,EAAE;AACxC,EAAA,MAAM0I,IAAI,GAAG;AAAC/C,IAAAA,IAAI,EAAE,UAAU;IAAElF,IAAI,EAAEyI,KAAK,CAACO;GAAO;AACnD,EAAA,IAAIzJ,KAAK,EAAE0I,IAAI,CAACgC,OAAO,GAAG,IAAI;AAC9B,EAAA,MAAMX,IAAI,GAAGH,OAAO,CAAC,OAAO,EAAElB,IAAI,CAAC;AAEnC/J,EAAAA,EAAE,CAACyL,WAAW,CAACL,IAAI,CAAC;AACpBA,EAAAA,IAAI,CAAC7C,gBAAgB,CAAC,QAAQ,EAAE,MAAMiC,IAAI,CAACK,MAAM,CAACO,IAAI,CAACW,OAAO,CAAC,CAAC;AAEhEvB,EAAAA,IAAI,CAACE,QAAQ,GAAG,CAACU,IAAI,CAAC;AACtBZ,EAAAA,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI+J,IAAI,CAACW,OAAO,GAAG,CAAC,CAAC1K,KAAK,IAAI,IAAI;AACpD;;AAEA;AACA;AACA;AACA,SAASuK,MAAMA,CAACpB,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAElJ,KAAK,EAAE;AACtC,EAAA,MAAM+J,IAAI,GAAGH,OAAO,CAAC,QAAQ,EAAE;MAACnJ,IAAI,EAAEyI,KAAK,CAACO;AAAM,KAAC,CAAC;AAC9CkB,IAAAA,MAAM,GAAGzB,KAAK,CAACyB,MAAM,IAAI,EAAE;EAEjCzB,KAAK,CAAC0B,OAAO,CAAC1H,OAAO,CAAC,CAAC2H,MAAM,EAAE1G,CAAC,KAAK;AACnC,IAAA,MAAMuE,IAAI,GAAG;AAAC1I,MAAAA,KAAK,EAAE6K;KAAO;IAC5B,IAAIC,WAAW,CAACD,MAAM,EAAE7K,KAAK,CAAC,EAAE0I,IAAI,CAACqC,QAAQ,GAAG,IAAI;AACpDhB,IAAAA,IAAI,CAACK,WAAW,CAACR,OAAO,CAAC,QAAQ,EAAElB,IAAI,EAAE,CAACiC,MAAM,CAACxG,CAAC,CAAC,IAAI0G,MAAM,IAAE,EAAE,CAAC,CAAC;AACrE,GAAC,CAAC;AAEFlM,EAAAA,EAAE,CAACyL,WAAW,CAACL,IAAI,CAAC;AAEpBA,EAAAA,IAAI,CAAC7C,gBAAgB,CAAC,QAAQ,EAAE,MAAM;IACpCiC,IAAI,CAACK,MAAM,CAACN,KAAK,CAAC0B,OAAO,CAACb,IAAI,CAACiB,aAAa,CAAC,CAAC;AAChD,GAAC,CAAC;AAEF7B,EAAAA,IAAI,CAACE,QAAQ,GAAG,CAACU,IAAI,CAAC;AACtBZ,EAAAA,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI;AAClB,IAAA,KAAK,IAAImE,CAAC,GAAG,CAAC,EAAEoD,CAAC,GAAG2B,KAAK,CAAC0B,OAAO,CAAC5J,MAAM,EAAEmD,CAAC,GAAGoD,CAAC,EAAE,EAAEpD,CAAC,EAAE;MACpD,IAAI2G,WAAW,CAAC5B,KAAK,CAAC0B,OAAO,CAACzG,CAAC,CAAC,EAAEnE,KAAK,CAAC,EAAE;QACxC+J,IAAI,CAACiB,aAAa,GAAG7G,CAAC;AAAE,QAAA;AAC1B;AACF;GACD;AACH;;AAEA;AACA;AACA;AACA,SAASqG,KAAKA,CAACrB,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAElJ,KAAK,EAAE;AACrC,EAAA,MAAMiE,KAAK,GAAG2F,OAAO,CAAC,MAAM,EAAE;AAAC,MAAA,OAAO,EAAEZ;AAAU,KAAC,CAAC;AAC9C2B,IAAAA,MAAM,GAAGzB,KAAK,CAACyB,MAAM,IAAI,EAAE;AAEjChM,EAAAA,EAAE,CAACyL,WAAW,CAACnG,KAAK,CAAC;AAErBkF,EAAAA,IAAI,CAACE,QAAQ,GAAGH,KAAK,CAAC0B,OAAO,CAACK,GAAG,CAAC,CAACJ,MAAM,EAAE1G,CAAC,KAAK;AAC/C,IAAA,MAAMuE,IAAI,GAAG;AACX/C,MAAAA,IAAI,EAAG,OAAO;MACdlF,IAAI,EAAGyI,KAAK,CAACO,MAAM;AACnBzJ,MAAAA,KAAK,EAAE6K;KACR;IACD,IAAIC,WAAW,CAACD,MAAM,EAAE7K,KAAK,CAAC,EAAE0I,IAAI,CAACgC,OAAO,GAAG,IAAI;AAEnD,IAAA,MAAM9I,KAAK,GAAGgI,OAAO,CAAC,OAAO,EAAElB,IAAI,CAAC;AACpC9G,IAAAA,KAAK,CAACsF,gBAAgB,CAAC,QAAQ,EAAE,MAAMiC,IAAI,CAACK,MAAM,CAACqB,MAAM,CAAC,CAAC;AAE3D,IAAA,MAAMK,KAAK,GAAGtB,OAAO,CAAC,OAAO,EAAE,EAAE,EAAE,CAACe,MAAM,CAACxG,CAAC,CAAC,IAAI0G,MAAM,IAAE,EAAE,CAAC;AAC5DK,IAAAA,KAAK,CAACC,OAAO,CAACvJ,KAAK,CAAC;AACpBqC,IAAAA,KAAK,CAACmG,WAAW,CAACc,KAAK,CAAC;AAExB,IAAA,OAAOtJ,KAAK;AACd,GAAC,CAAC;AAEFuH,EAAAA,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI;AAClB,IAAA,MAAMoL,KAAK,GAAGjC,IAAI,CAACE,QAAQ;MACrB9B,CAAC,GAAG6D,KAAK,CAACpK,MAAM;IACtB,KAAK,IAAImD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGoD,CAAC,EAAE,EAAEpD,CAAC,EAAE;AAC1B,MAAA,IAAI2G,WAAW,CAACM,KAAK,CAACjH,CAAC,CAAC,CAACnE,KAAK,EAAEA,KAAK,CAAC,EAAEoL,KAAK,CAACjH,CAAC,CAAC,CAACuG,OAAO,GAAG,IAAI;AACjE;GACD;AACH;;AAEA;AACA;AACA;AACA,SAASD,KAAKA,CAACtB,IAAI,EAAExK,EAAE,EAAEuK,KAAK,EAAElJ,KAAK,EAAE;AACrCA,EAAAA,KAAK,GAAGA,KAAK,KAAKqL,SAAS,GAAGrL,KAAK,GAAG,CAAE,CAACkJ,KAAK,CAAClH,GAAG,GAAK,CAACkH,KAAK,CAACoC,GAAI,IAAI,CAAC;EAEvE,MAAMtJ,GAAG,GAAGkH,KAAK,CAAClH,GAAG,IAAI,IAAI,GAAGkH,KAAK,CAAClH,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,GAAG,EAAE,CAAChC,KAAK,CAAC,IAAI,GAAG;AAClEsL,IAAAA,GAAG,GAAGpC,KAAK,CAACoC,GAAG,IAAIvJ,IAAI,CAACuJ,GAAG,CAAC,CAAC,EAAEtJ,GAAG,EAAE,CAAChC,KAAK,CAAC,IAAI,CAAC;AAChDuL,IAAAA,IAAI,GAAGrC,KAAK,CAACqC,IAAI,IAAIC,QAAQ,CAACF,GAAG,EAAEtJ,GAAG,EAAE,GAAG,CAAC;AAElD,EAAA,MAAM+H,IAAI,GAAGH,OAAO,CAAC,OAAO,EAAE;AAC5BjE,IAAAA,IAAI,EAAG,OAAO;IACdlF,IAAI,EAAGyI,KAAK,CAACO,MAAM;AACnB6B,IAAAA,GAAG,EAAIA,GAAG;AACVtJ,IAAAA,GAAG,EAAIA,GAAG;AACVuJ,IAAAA,IAAI,EAAGA;AACT,GAAC,CAAC;EACFxB,IAAI,CAAC/J,KAAK,GAAGA,KAAK;EAElB,MAAMyL,IAAI,GAAG7B,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC5J,KAAK,CAAC;AAExCrB,EAAAA,EAAE,CAACyL,WAAW,CAACL,IAAI,CAAC;AACpBpL,EAAAA,EAAE,CAACyL,WAAW,CAACqB,IAAI,CAAC;EAEpB,MAAMjC,MAAM,GAAGA,MAAM;AACnBiC,IAAAA,IAAI,CAAC5C,WAAW,GAAGkB,IAAI,CAAC/J,KAAK;AAC7BmJ,IAAAA,IAAI,CAACK,MAAM,CAAC,CAACO,IAAI,CAAC/J,KAAK,CAAC;GACzB;;AAED;AACA+J,EAAAA,IAAI,CAAC7C,gBAAgB,CAAC,OAAO,EAAEsC,MAAM,CAAC;AACtCO,EAAAA,IAAI,CAAC7C,gBAAgB,CAAC,QAAQ,EAAEsC,MAAM,CAAC;AAEvCL,EAAAA,IAAI,CAACE,QAAQ,GAAG,CAACU,IAAI,CAAC;AACtBZ,EAAAA,IAAI,CAACI,GAAG,GAAGvJ,KAAK,IAAI;IAClB+J,IAAI,CAAC/J,KAAK,GAAGA,KAAK;IAClByL,IAAI,CAAC5C,WAAW,GAAG7I,KAAK;GACzB;AACH;AAEA,SAAS8K,WAAWA,CAACY,CAAC,EAAEC,CAAC,EAAE;EACzB,OAAOD,CAAC,KAAKC,CAAC,IAAKD,CAAC,GAAC,EAAE,KAAKC,CAAC,GAAC,EAAG;AACnC;;ACpQe,2BAASjN,EAAAA,IAAI,EAAE0E,CAAC,EAAEzE,EAAE,EAAEiN,WAAW,EAAEC,WAAW,EAAEC,GAAG,EAAE;EAClE1I,CAAC,GAAGA,CAAC,IAAI,IAAIwI,WAAW,CAAClN,IAAI,CAACqN,MAAM,EAAE,CAAC;AACvC,EAAA,OAAO3I,CAAC,CACL4I,UAAU,CAACrN,EAAE,EAAEkD,KAAK,CAACnD,IAAI,CAAC,EAAE0D,MAAM,CAAC1D,IAAI,CAAC,EAAE8D,MAAM,CAAC9D,IAAI,CAAC,EAAEmN,WAAW,EAAEC,GAAG,CAAC,CACzEtM,UAAU,CAACd,IAAI,CAACc,UAAU,EAAE,CAAC;AAClC;;ACPe,aAASd,EAAAA,IAAI,EAAEuN,EAAE,EAAE;AAChC,EAAA,OAAO,CAACA,EAAE,GAAG,IAAI,GAAG,YAAW;IAC7B,IAAI;AACFA,MAAAA,EAAE,CAACC,KAAK,CAAC,IAAI,EAAEnL,SAAS,CAAC;KAC1B,CAAC,OAAOF,KAAK,EAAE;AACdnC,MAAAA,IAAI,CAACmC,KAAK,CAACA,KAAK,CAAC;AACnB;GACD;AACH;;ACLe,0BAAA,EAASnC,IAAI,EAAEyN,WAAW,EAAExN,EAAE,EAAEiN,WAAW,EAAE;AAC1D;EACA,MAAMzI,OAAO,GAAG,IAAIyI,WAAW,CAAClN,IAAI,CAACqN,MAAM,EAAE,EAAEjH,IAAI,CAACpG,IAAI,EAAEA,IAAI,CAACoJ,OAAO,EAAE,CAAC,CAAC,CACvEsE,KAAK,CAAC1N,IAAI,CAAC2N,UAAU,EAAE,CAACC,IAAI,CAAC,CAC7BN,UAAU,CAACrN,EAAE,EAAE6D,MAAM,CAAC9D,IAAI,CAAC,EAAEA,IAAI,CAAC;;AAErC;AACA,EAAA,IAAIyN,WAAW,EAAE;IACfA,WAAW,CAACjE,QAAQ,EAAE,CAAChF,OAAO,CAACL,CAAC,IAAI;MAClCM,OAAO,CAACtD,EAAE,CAACgD,CAAC,CAAC8C,IAAI,EAAE9C,CAAC,CAACM,OAAO,CAAC;AAC/B,KAAC,CAAC;AACJ;AAEA,EAAA,OAAOA,OAAO;AAChB;;ACVe,mBAASxE,EAAAA,EAAE,EAAE4N,MAAM,EAAE;EAClC,MAAM7N,IAAI,GAAG,IAAI;IACXiH,IAAI,GAAGjH,IAAI,CAAC8N,WAAW;AACvBxH,IAAAA,MAAM,GAAGtG,IAAI,CAACuH,YAAY,CAACkD,IAAI;AAC/BsD,IAAAA,MAAM,GAAGC,YAAY,CAAC/G,IAAI,CAAC;;AAEjC;AACAhH,EAAAA,EAAE,GAAGD,IAAI,CAACiO,GAAG,GAAGhO,EAAE,GAAGiO,MAAM,CAAClO,IAAI,EAAEC,EAAE,EAAE,IAAI,CAAC,GAAG,IAAI;;AAElD;EACAF,cAAc,CAACC,IAAI,CAAC;;AAEpB;EACA,IAAI,CAAC+N,MAAM,EAAE/N,IAAI,CAACmC,KAAK,CAAC,8BAA8B,GAAG8E,IAAI,CAAC;AAC9D,EAAA,MAAMkH,OAAO,GAAGJ,MAAM,CAACtJ,OAAO,IAAI2J,aAAa;IACzCC,QAAQ,GAAIpO,EAAE,GAAG8N,MAAM,CAACO,QAAQ,GAAGP,MAAM,CAACQ,QAAS;;AAEzD;AACAvO,EAAAA,IAAI,CAACoE,SAAS,GAAG,CAACiK,QAAQ,GAAG,IAAI,GAC7BG,kBAAkB,CAACxO,IAAI,EAAEA,IAAI,CAACoE,SAAS,EAAEnE,EAAE,EAAEoO,QAAQ,CAAC;AAC1DrO,EAAAA,IAAI,CAACsE,QAAQ,GAAGmK,iBAAiB,CAACzO,IAAI,EAAEA,IAAI,CAACsE,QAAQ,EAAErE,EAAE,EAAEkO,OAAO,CAAC;EACnEnO,IAAI,CAAC0O,OAAO,GAAG,IAAI;;AAEnB;AACA,EAAA,IAAIzO,EAAE,IAAIqG,MAAM,KAAK,MAAM,EAAE;IAC3BuH,MAAM,GAAGA,MAAM,GAAI7N,IAAI,CAAC2O,OAAO,GAAGT,MAAM,CAAClO,IAAI,EAAE6N,MAAM,EAAE,IAAI,CAAC,GACxD5N,EAAE,CAACyL,WAAW,CAACR,OAAO,CAAC,MAAM,EAAE;AAAC,MAAA,OAAO,EAAE;AAAe,KAAC,CAAC,CAAC;AAE/DlL,IAAAA,IAAI,CAAC4O,KAAK,CAACpK,OAAO,CAAC/D,CAAC,IAAI;MACtB,IAAIA,CAAC,CAAC+J,KAAK,CAACU,OAAO,IAAI5E,MAAM,KAAK,WAAW,EAAE;QAC7C7F,CAAC,CAACyK,OAAO,GAAGgD,MAAM,CAAClO,IAAI,EAAES,CAAC,CAAC+J,KAAK,CAACU,OAAO,EAAE,CAAC,CAACzK,CAAC,CAAC+J,KAAK,CAACtH,KAAK,CAAC;AAC5D;AACF,KAAC,CAAC;AAEFlD,IAAAA,IAAI,CAAC4O,KAAK,CAACpK,OAAO,CAAC/D,CAAC,IAAI;MACtBgK,IAAI,CAACzK,IAAI,EAAES,CAAC,CAACyK,OAAO,IAAI2C,MAAM,EAAEpN,CAAC,CAAC;AACpC,KAAC,CAAC;AACJ;AAEA,EAAA,OAAOT,IAAI;AACb;AAEA,SAASkO,MAAMA,CAAClO,IAAI,EAAEC,EAAE,EAAE4O,KAAK,EAAE;AAC/B,EAAA,IAAI,OAAO5O,EAAE,KAAK,QAAQ,EAAE;AAC1B,IAAA,IAAI,OAAOyB,QAAQ,KAAK,WAAW,EAAE;AACnCzB,MAAAA,EAAE,GAAGyB,QAAQ,CAACoN,aAAa,CAAC7O,EAAE,CAAC;MAC/B,IAAI,CAACA,EAAE,EAAE;AACPD,QAAAA,IAAI,CAACmC,KAAK,CAAC,iCAAiC,GAAGlC,EAAE,CAAC;AAClD,QAAA,OAAO,IAAI;AACb;AACF,KAAC,MAAM;AACLD,MAAAA,IAAI,CAACmC,KAAK,CAAC,kCAAkC,CAAC;AAC9C,MAAA,OAAO,IAAI;AACb;AACF;EACA,IAAIlC,EAAE,IAAI4O,KAAK,EAAE;IACf,IAAI;MACF5O,EAAE,CAACkK,WAAW,GAAG,EAAE;KACpB,CAAC,OAAOtF,CAAC,EAAE;AACV5E,MAAAA,EAAE,GAAG,IAAI;AACTD,MAAAA,IAAI,CAACmC,KAAK,CAAC0C,CAAC,CAAC;AACf;AACF;AACA,EAAA,OAAO5E,EAAE;AACX;;ACrEA,MAAM8O,MAAM,GAAGtO,CAAC,IAAI,CAACA,CAAC,IAAI,CAAC;AAE3B,MAAMuO,aAAa,GAAGvO,CAAC,KAAK;AAACmD,EAAAA,GAAG,EAAEnD,CAAC;AAAEoD,EAAAA,MAAM,EAAEpD,CAAC;AAAE+C,EAAAA,IAAI,EAAE/C,CAAC;AAAEgD,EAAAA,KAAK,EAAEhD;AAAC,CAAC,CAAC;AAEpD,gBAAA,EAASA,CAAC,EAAE;AACzB,EAAA,OAAOoH,QAAQ,CAACpH,CAAC,CAAC,GACd;AACEmD,IAAAA,GAAG,EAAKmL,MAAM,CAACtO,CAAC,CAACmD,GAAG,CAAC;AACrBC,IAAAA,MAAM,EAAEkL,MAAM,CAACtO,CAAC,CAACoD,MAAM,CAAC;AACxBL,IAAAA,IAAI,EAAIuL,MAAM,CAACtO,CAAC,CAAC+C,IAAI,CAAC;AACtBC,IAAAA,KAAK,EAAGsL,MAAM,CAACtO,CAAC,CAACgD,KAAK;AACxB,GAAC,GACDuL,aAAa,CAACD,MAAM,CAACtO,CAAC,CAAC,CAAC;AAC9B;;ACXA;AACA;AACA;AACA;AACA;AACe,6BAAA,EAAeT,IAAI,EAAEiH,IAAI,EAAEkG,WAAW,EAAEC,GAAG,EAAE;AAC1D,EAAA,MAAMW,MAAM,GAAGC,YAAY,CAAC/G,IAAI,CAAC;AAC3BgI,IAAAA,GAAG,GAAGlB,MAAM,IAAIA,MAAM,CAACQ,QAAQ;EAErC,IAAI,CAACU,GAAG,EAAE9M,KAAK,CAAC,8BAA8B,GAAG8E,IAAI,CAAC;AAEtD,EAAA,MAAMjH,IAAI,CAACoI,QAAQ,EAAE;EACrB,OAAOoG,kBAAkB,CAACxO,IAAI,EAAE,IAAI,EAAE,IAAI,EAAEiP,GAAG,EAAE9B,WAAW,EAAEC,GAAG,CAAC,CAC/D8B,WAAW,CAAClP,IAAI,CAACmP,WAAW,CAACvB,IAAI,CAAC;AACvC;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,+BAAe3G,EAAAA,IAAI,EAAEkG,WAAW,EAAE;AAC/C,EAAA,IAAIlG,IAAI,KAAKmI,UAAI,CAACC,MAAM,IAAIpI,IAAI,KAAKmI,UAAI,CAACE,GAAG,IAAIrI,IAAI,KAAKmI,UAAI,CAACG,GAAG,EAAE;AAClEpN,IAAAA,KAAK,CAAC,2BAA2B,GAAG8E,IAAI,CAAC;AAC3C;EAEA,MAAMvC,CAAC,GAAG,MAAM8K,cAAc,CAAC,IAAI,EAAEvI,IAAI,EAAEkG,WAAW,CAAC;EACvD,OAAOlG,IAAI,KAAKmI,UAAI,CAACE,GAAG,GACpBG,SAAS,CAAC/K,CAAC,CAACgL,GAAG,EAAE,EAAE,eAAe,CAAC,GACnChL,CAAC,CAACC,MAAM,EAAE,CAACgL,SAAS,CAAC,WAAW,CAAC;AACvC;AAEA,SAASF,SAASA,CAACzN,IAAI,EAAE4N,IAAI,EAAE;EAC7B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC9N,IAAI,CAAC,EAAE;AAACiF,IAAAA,IAAI,EAAE2I;AAAI,GAAC,CAAC;AAC3C,EAAA,OAAOnH,MAAM,CAACsH,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;AACzC;;ACxBA;AACA;AACA;AACA;AACA;AACe,6BAAe1C,EAAAA,WAAW,EAAEC,GAAG,EAAE;AAC9C,EAAA,MAAM1I,CAAC,GAAG,MAAM8K,cAAc,CAAC,IAAI,EAAES,UAAU,CAACZ,MAAM,EAAElC,WAAW,EAAEC,GAAG,CAAC;AACzE,EAAA,OAAO1I,CAAC,CAACC,MAAM,EAAE;AACnB;;ACRA;AACA;AACA;AACA;AACA;AACe,0BAAA,EAAewI,WAAW,EAAE;AACzC,EAAA,MAAMzI,CAAC,GAAG,MAAM8K,cAAc,CAAC,IAAI,EAAES,UAAU,CAACX,GAAG,EAAEnC,WAAW,CAAC;AACjE,EAAA,OAAOzI,CAAC,CAACgL,GAAG,EAAE;AAChB;;ACPe,kBAAS1P,IAAI,EAAEkQ,IAAI,EAAEC,IAAI,EAAE;AACxC,EAAA,OAAOC,OAAO,CAACpQ,IAAI,EAAEqQ,UAAU,EAAEC,eAAe,EAAEH,IAAI,CAAC,CAACI,KAAK,CAACL,IAAI,CAAC;AACrE;;ACJO,SAASM,KAAKA,CAACzO,IAAI,EAAE;AAC1B,EAAA,IAAI0O,MAAM,GAAG,IAAI,CAACxO,QAAQ,CAACwO,MAAM;AACjC,EAAA,IAAI,CAACvO,cAAc,CAACuO,MAAM,EAAE1O,IAAI,CAAC,EAAE;AACjCI,IAAAA,KAAK,CAAC,oCAAoC,GAAGJ,IAAI,CAAC;AACpD;AACA,EAAA,OAAO0O,MAAM,CAAC1O,IAAI,CAAC,CAACT,KAAK;AAC3B;;ACRA,IAAIoP,KAAK,GAAG,OAAO;AACfC,EAAAA,MAAM,GAAG,QAAQ;AACjBC,EAAAA,OAAO,GAAG,SAAS;AACnBC,EAAAA,IAAI,GAAG;AAACC,IAAAA,IAAI,EAAE;GAAK;AAEhB,SAASC,SAASA,CAAC/Q,IAAI,EAAEmD,KAAK,EAAE;AACrC,EAAA,IAAI6J,CAAC,GAAGhN,IAAI,CAACgR,QAAQ,EAAE;AACnBpM,IAAAA,CAAC,GAAG5E,IAAI,CAACoD,OAAO,EAAE;AACtB,EAAA,OAAOD,KAAK,IAAI6J,CAAC,IAAIA,CAAC,CAACiE,QAAQ,KAAKL,OAAO,GAAGhM,CAAC,CAACpB,IAAI,GAAGoB,CAAC,CAACnB,KAAK,GAAG,CAAC,CAAC;AACrE;AAEO,SAASyN,UAAUA,CAAClR,IAAI,EAAE0D,MAAM,EAAE;AACvC,EAAA,IAAIsJ,CAAC,GAAGhN,IAAI,CAACgR,QAAQ,EAAE;AACnBpM,IAAAA,CAAC,GAAG5E,IAAI,CAACoD,OAAO,EAAE;AACtB,EAAA,OAAOM,MAAM,IAAIsJ,CAAC,IAAIA,CAAC,CAACiE,QAAQ,KAAKL,OAAO,GAAGhM,CAAC,CAAChB,GAAG,GAAGgB,CAAC,CAACf,MAAM,GAAG,CAAC,CAAC;AACtE;AAEO,SAASsN,gBAAgBA,CAACnR,IAAI,EAAE;AACrC,EAAA,IAAIiI,CAAC,GAAGjI,IAAI,CAACa,QAAQ;AACjBqD,IAAAA,CAAC,GAAG+D,CAAC,CAACyI,KAAK,CAAC;AACZvM,IAAAA,CAAC,GAAG8D,CAAC,CAAC0I,MAAM,CAAC;AACb/L,IAAAA,CAAC,GAAGqD,CAAC,CAAC2I,OAAO,CAAC;EAElB,SAASQ,SAASA,GAAG;AACnBpR,IAAAA,IAAI,CAACqR,SAAS,GAAGrR,IAAI,CAACY,OAAO,GAAG,CAAC;AACnC;;AAEA;EACAZ,IAAI,CAACsR,YAAY,GAAGtR,IAAI,CAACQ,GAAG,CAAC,IAAI,EAC/BC,CAAC,IAAI;AACHT,IAAAA,IAAI,CAACuR,MAAM,GAAG9Q,CAAC,CAAC+Q,IAAI;IACpBxR,IAAI,CAACuD,UAAU,GAAGwN,SAAS,CAAC/Q,IAAI,EAAES,CAAC,CAAC+Q,IAAI,CAAC;AACzCJ,IAAAA,SAAS,EAAE;AACb,GAAC,EACD;AAACI,IAAAA,IAAI,EAAEtN;AAAC,GACV,CAAC;;AAED;EACAlE,IAAI,CAACyR,aAAa,GAAGzR,IAAI,CAACQ,GAAG,CAAC,IAAI,EAChCC,CAAC,IAAI;AACHT,IAAAA,IAAI,CAAC0R,OAAO,GAAGjR,CAAC,CAAC+Q,IAAI;IACrBxR,IAAI,CAAC2D,WAAW,GAAGuN,UAAU,CAAClR,IAAI,EAAES,CAAC,CAAC+Q,IAAI,CAAC;AAC3CJ,IAAAA,SAAS,EAAE;AACb,GAAC,EACD;AAACI,IAAAA,IAAI,EAAErN;AAAC,GACV,CAAC;;AAED;EACA,MAAMwN,aAAa,GAAG3R,IAAI,CAACQ,GAAG,CAAC,IAAI,EAAE4Q,SAAS,EAAE;AAACQ,IAAAA,GAAG,EAAEhN;AAAC,GAAC,CAAC;;AAEzD;EACA5E,IAAI,CAACsR,YAAY,CAACO,IAAI,GAAG3N,CAAC,CAAC2N,IAAI,GAAG,CAAC;EACnC7R,IAAI,CAACyR,aAAa,CAACI,IAAI,GAAG1N,CAAC,CAAC0N,IAAI,GAAG,CAAC;AACpCF,EAAAA,aAAa,CAACE,IAAI,GAAGjN,CAAC,CAACiN,IAAI,GAAG,CAAC;AACjC;AAEO,SAASC,UAAUA,CAACf,SAAS,EAAEG,UAAU,EAAE/N,KAAK,EAAEO,MAAM,EAAEK,MAAM,EAAEgO,IAAI,EAAE;AAC7E,EAAA,IAAI,CAACC,QAAQ,CAAChS,IAAI,IAAI;IACpB,IAAIiS,KAAK,GAAG,CAAC;;AAEb;IACAjS,IAAI,CAACqR,SAAS,GAAG,CAAC;;AAElB;AACA,IAAA,IAAIrR,IAAI,CAACmD,KAAK,EAAE,KAAKA,KAAK,EAAE;AAC1B8O,MAAAA,KAAK,GAAG,CAAC;MACTjS,IAAI,CAAC+K,MAAM,CAAC2F,KAAK,EAAEvN,KAAK,EAAE0N,IAAI,CAAC,CAAC;MAChC7Q,IAAI,CAACsR,YAAY,CAACR,IAAI,CAAC,IAAI,CAAC,CAAC;AAC/B;;AAEA;AACA,IAAA,IAAI9Q,IAAI,CAAC0D,MAAM,EAAE,KAAKA,MAAM,EAAE;AAC5BuO,MAAAA,KAAK,GAAG,CAAC;MACTjS,IAAI,CAAC+K,MAAM,CAAC4F,MAAM,EAAEjN,MAAM,EAAEmN,IAAI,CAAC,CAAC;MAClC7Q,IAAI,CAACyR,aAAa,CAACX,IAAI,CAAC,IAAI,CAAC,CAAC;AAChC;;AAEA;AACA,IAAA,IAAI9Q,IAAI,CAACuD,UAAU,KAAKwN,SAAS,EAAE;MACjC/Q,IAAI,CAACY,OAAO,GAAG,CAAC;MAChBZ,IAAI,CAACuD,UAAU,GAAGwN,SAAS;AAC7B;;AAEA;AACA,IAAA,IAAI/Q,IAAI,CAAC2D,WAAW,KAAKuN,UAAU,EAAE;MACnClR,IAAI,CAACY,OAAO,GAAG,CAAC;MAChBZ,IAAI,CAAC2D,WAAW,GAAGuN,UAAU;AAC/B;;AAEA;IACA,IAAIlR,IAAI,CAACgE,OAAO,CAAC,CAAC,CAAC,KAAKD,MAAM,CAAC,CAAC,CAAC,IAAI/D,IAAI,CAACgE,OAAO,CAAC,CAAC,CAAC,KAAKD,MAAM,CAAC,CAAC,CAAC,EAAE;MAClE/D,IAAI,CAACY,OAAO,GAAG,CAAC;MAChBZ,IAAI,CAACgE,OAAO,GAAGD,MAAM;AACvB;;AAEA;AACA,IAAA,IAAIkO,KAAK,EAAEjS,IAAI,CAACkS,GAAG,CAAC,OAAO,CAAC;AAC5B,IAAA,IAAIH,IAAI,EAAE/R,IAAI,CAACgS,QAAQ,CAACG,CAAC,IAAIA,CAAC,CAAC9N,MAAM,EAAE,CAAC;AAC1C,GAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AACd;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS+N,QAAQA,CAAClG,OAAO,EAAE;AAChC,EAAA,OAAO,IAAI,CAACjK,QAAQ,CAACmQ,QAAQ,CAAClG,OAAO,IAAI;AACvClK,IAAAA,IAAI,EAAKqQ,QAAQ;AACjBC,IAAAA,OAAO,EAAEC,UAAU;AACnBC,IAAAA,OAAO,EAAE;AACX,GAAC,CAAC;AACJ;AAEA,SAASH,QAAQA,CAACtQ,IAAI,EAAEC,IAAI,EAAE;AAC5B,EAAA,OAAOA,IAAI,CAACgB,QAAQ,IACb6D,OAAO,CAAC7E,IAAI,CAACkB,KAAK,CAAC5B,KAAK,CAAC,IACzB,CAACS,IAAI,CAAC0Q,UAAU,CAAC,UAAU,CAAC;AACrC;AAEA,SAASF,UAAUA,CAACxQ,IAAI,EAAE2Q,EAAE,EAAE;EAC5B,OAAO,EAAE3Q,IAAI,KAAK,QAAQ,IAAI2Q,EAAE,YAAYrC,UAAU,CAACsC,KAAK,CAAC;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,QAAQA,CAAClI,KAAK,EAAE;AAC9B,EAAA,IAAI,CAACtC,QAAQ,CAAC,IAAI,EAChB+J,CAAC,IAAI;IAAEA,CAAC,CAACU,QAAQ,GAAG,KAAK;AAAEV,IAAAA,CAAC,CAAClQ,QAAQ,CAAC2Q,QAAQ,CAAClI,KAAK,CAAC;GAAG,EACxDyH,CAAC,IAAI;IAAEA,CAAC,CAACU,QAAQ,GAAG,IAAI;AAAE,GAC5B,CAAC;AACD,EAAA,OAAO,IAAI;AACb;;AC/Ce,cAASC,EAAAA,QAAQ,EAAEC,KAAK,EAAE;EACvC,SAASC,IAAIA,CAACC,OAAO,EAAE;AACrBH,IAAAA,QAAQ,CAAC;AAACI,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAG,EAAE;AAAEH,MAAAA,OAAO,EAAEA;AAAO,KAAC,CAAC;AACrD;EACA,IAAI,CAAC1J,OAAO,CAACpC,IAAI,CAACkM,QAAQ,CAACL,IAAI,EAAED,KAAK,CAAC,CAAC;AAC1C;;ACLe,uBAAA,EAAStO,OAAO,EAAEpD,KAAK,EAAEH,IAAI,EAAEI,KAAK,EAAE;AACnD,EAAA,MAAMrB,EAAE,GAAGwE,OAAO,CAACyG,OAAO,EAAE;AAC5B,EAAA,IAAIjL,EAAE,EAAEA,EAAE,CAACE,YAAY,CAAC,OAAO,EAAEmT,aAAa,CAAChS,KAAK,CAAC,CAAC;AACxD;AAEA,SAASgS,aAAaA,CAAChS,KAAK,EAAE;AAC5B,EAAA,OAAOA,KAAK,IAAI,IAAI,GAAG,EAAE,GACrBuF,OAAO,CAACvF,KAAK,CAAC,GAAGiS,WAAW,CAACjS,KAAK,CAAC,GACnCuG,QAAQ,CAACvG,KAAK,CAAC,IAAI,CAACkS,MAAM,CAAClS,KAAK,CAAC,GAAGmS,YAAY,CAACnS,KAAK,CAAC,GACvDA,KAAK,GAAG,EAAE;AAChB;AAEA,SAASmS,YAAYA,CAAC/M,GAAG,EAAE;EACzB,OAAOgN,MAAM,CAAC/M,IAAI,CAACD,GAAG,CAAC,CAAC6F,GAAG,CAAC5E,GAAG,IAAI;AACjC,IAAA,MAAMwK,CAAC,GAAGzL,GAAG,CAACiB,GAAG,CAAC;AAClB,IAAA,OAAOA,GAAG,GAAG,IAAI,IAAId,OAAO,CAACsL,CAAC,CAAC,GAAGoB,WAAW,CAACpB,CAAC,CAAC,GAAGwB,WAAW,CAACxB,CAAC,CAAC,CAAC;AACpE,GAAC,CAAC,CAACyB,IAAI,CAAC,IAAI,CAAC;AACf;AAEA,SAASL,WAAWA,CAACjS,KAAK,EAAE;AAC1B,EAAA,OAAO,GAAG,GAAGA,KAAK,CAACiL,GAAG,CAACoH,WAAW,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG;AACtD;AAEA,SAASD,WAAWA,CAACrS,KAAK,EAAE;EAC1B,OAAOuF,OAAO,CAACvF,KAAK,CAAC,GAAG,UAAU,GAC9BuG,QAAQ,CAACvG,KAAK,CAAC,IAAI,CAACkS,MAAM,CAAClS,KAAK,CAAC,GAAG,UAAU,GAC9CA,KAAK;AACX;;AC7Be,wBAAW,IAAA;AACxB;AACA,EAAA,IAAI,IAAI,CAACgN,QAAQ,EAAE,KAAK,QAAQ,IAAI,IAAI,CAAClK,SAAS,CAACyP,OAAO,EAAE;IAC1D,IAAInR,MAAM,GAAG,IAAI;IACjB,MAAMoR,gBAAgB,GAAGA,MAAM;MAC7B,IAAIpR,MAAM,IAAI,IAAI,EAAE;AAClBA,QAAAA,MAAM,EAAE;AACV;MACA,MAAMqR,KAAK,GAAGC,UAAU,CAAC,gBAAgBvL,MAAM,CAACwL,gBAAgB,CAAA,KAAA,CAAO,CAAC;AACxEF,MAAAA,KAAK,CAACvL,gBAAgB,CAAC,QAAQ,EAAEsL,gBAAgB,CAAC;MAClDpR,MAAM,GAAGA,MAAM;AACbqR,QAAAA,KAAK,CAAClK,mBAAmB,CAAC,QAAQ,EAAEiK,gBAAgB,CAAC;OACtD;AAED,MAAA,IAAI,CAAC1P,SAAS,CAACyP,OAAO,CAACK,UAAU,CAAC,IAAI,CAAC,CAACC,UAAU,GAAG1L,MAAM,CAACwL,gBAAgB,IAAI,CAAC;MACjF,IAAI,CAACvF,OAAO,GAAG,IAAI;MACnB,IAAI,CAAC9N,OAAO,GAAG,CAAC;AAChB,MAAA,IAAI,CAACyD,MAAM,EAAE,CAAC+D,QAAQ,EAAE;KACzB;AACD0L,IAAAA,gBAAgB,EAAE;AACpB;AACF;;ACUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASM,IAAIA,CAAClE,IAAI,EAAEhE,OAAO,EAAE;EAC1C,MAAMlM,IAAI,GAAG,IAAI;AACjBkM,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAAE;AAEvBmI,EAAAA,QAAQ,CAAC7R,IAAI,CAACxC,IAAI,CAAC;EACnB,IAAIkM,OAAO,CAACmB,MAAM,EAAErN,IAAI,CAACqN,MAAM,CAACnB,OAAO,CAACmB,MAAM,CAAC;EAC/C,IAAInB,OAAO,CAACoI,MAAM,EAAEtU,IAAI,CAACsU,MAAM,CAACpI,OAAO,CAACoI,MAAM,CAAC;AAC/C,EAAA,IAAIpI,OAAO,CAACqI,QAAQ,IAAI,IAAI,EAAEvU,IAAI,CAACuU,QAAQ,CAACrI,OAAO,CAACqI,QAAQ,CAAC;AAC7D,EAAA,IAAIrI,OAAO,CAACsI,MAAM,IAAItE,IAAI,CAACsE,MAAM,EAAE;AACjC,IAAA,MAAMC,GAAG,GAAGlO,MAAM,CAAC,EAAE,EAAE2J,IAAI,CAACsE,MAAM,EAAEtI,OAAO,CAACsI,MAAM,CAAC;AACnDxU,IAAAA,IAAI,CAACwU,MAAM,CAACA,MAAM,CAACC,GAAG,CAAC1F,MAAM,EAAE0F,GAAG,CAACC,IAAI,CAAC,CAAC;AAC3C;EAEA1U,IAAI,CAACiO,GAAG,GAAG,IAAI;EACfjO,IAAI,CAAC2O,OAAO,GAAG,IAAI;EACnB3O,IAAI,CAAC8N,WAAW,GAAG5B,OAAO,CAACoC,QAAQ,IAAI2B,UAAU,CAACZ,MAAM;AACxDrP,EAAAA,IAAI,CAACmP,WAAW,GAAG,IAAIwF,UAAU,EAAE;AACnC,EAAA,MAAM/G,IAAI,GAAG5N,IAAI,CAACmP,WAAW,CAACvB,IAAI;;AAElC;EACA5N,IAAI,CAACoE,SAAS,GAAG,IAAI;AACrBpE,EAAAA,IAAI,CAACqJ,QAAQ,GAAG6C,OAAO,CAAC9C,OAAO,IAAIwL,cAAc,EACjD5U,IAAI,CAAC0O,OAAO,GAAG,IAAI;EACnB1O,IAAI,CAACsE,QAAQ,GAAG,IAAI8J,aAAa,EAAE,CAACV,KAAK,CAACE,IAAI,CAAC;EAC/C5N,IAAI,CAAC6U,aAAa,GAAG,KAAK;EAC1B7U,IAAI,CAAC8U,eAAe,GAAG,KAAK;EAC5B9U,IAAI,CAACuJ,OAAO,GAAG,EAAE;EACjBvJ,IAAI,CAACkH,eAAe,GAAG,EAAE;EACzBlH,IAAI,CAACuE,gBAAgB,GAAG,EAAE;;AAE1B;EACAvE,IAAI,CAACuH,YAAY,GAAGlB,qBAAqB,CAAC6J,IAAI,CAAC6E,WAAW,CAAC;EAC3D/U,IAAI,CAACyB,YAAY,CAACzB,IAAI,CAACuH,YAAY,CAAC9F,YAAY,CAAC;;AAEjD;EACA,MAAMuT,GAAG,GAAGC,OAAO,CAACjV,IAAI,EAAEkQ,IAAI,EAAEhE,OAAO,CAACiE,IAAI,CAAC;EAC7CnQ,IAAI,CAACiC,QAAQ,GAAG+S,GAAG;AACnBhV,EAAAA,IAAI,CAACa,QAAQ,GAAGmU,GAAG,CAAC1C,OAAO;AAC3BtS,EAAAA,IAAI,CAAC4O,KAAK,GAAG,CAACsB,IAAI,CAACgF,QAAQ,IAAI,EAAE,EAAE3I,GAAG,CAAC9L,CAAC,KAAK;AAC3CiK,IAAAA,KAAK,EAAE,IAAI;AACXF,IAAAA,KAAK,EAAEjE,MAAM,CAAC,EAAE,EAAE9F,CAAC;AACrB,GAAC,CAAC,CAAC;;AAEH;EACA,IAAIuU,GAAG,CAACpH,IAAI,EAAEoH,GAAG,CAACpH,IAAI,CAAC/C,GAAG,CAAC+C,IAAI,CAAC;EAChCA,IAAI,CAAC7F,MAAM,GAAGiN,GAAG,CAAChT,IAAI,CAAC4L,IAAI,CAAC1K,KAAK;EACjClD,IAAI,CAACiD,KAAK,CACR+R,GAAG,CAAChT,IAAI,CAAC4L,IAAI,CAAC1K,KAAK,EACnBlD,IAAI,CAACyC,SAAS,EAAE,CAACG,MAAM,CAACgL,IAAI,CAACuH,KAAK,CACpC,CAAC;;AAED;AACAnV,EAAAA,IAAI,CAACuR,MAAM,GAAGvR,IAAI,CAACmD,KAAK,EAAE;AAC1BnD,EAAAA,IAAI,CAAC0R,OAAO,GAAG1R,IAAI,CAAC0D,MAAM,EAAE;EAC5B1D,IAAI,CAACuD,UAAU,GAAGwN,SAAS,CAAC/Q,IAAI,EAAEA,IAAI,CAACuR,MAAM,CAAC;EAC9CvR,IAAI,CAAC2D,WAAW,GAAGuN,UAAU,CAAClR,IAAI,EAAEA,IAAI,CAAC0R,OAAO,CAAC;AACjD1R,EAAAA,IAAI,CAACgE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;EACrBhE,IAAI,CAACY,OAAO,GAAG,CAAC;EAChBZ,IAAI,CAACqR,SAAS,GAAG,CAAC;EAClBF,gBAAgB,CAACnR,IAAI,CAAC;;AAEtB;EACAc,UAAU,CAACd,IAAI,CAAC;;AAEhB;EACAgB,MAAM,CAAChB,IAAI,CAAC;;AAEZ;AACAA,EAAAA,IAAI,CAACK,WAAW,CAAC6P,IAAI,CAAC7P,WAAW,CAAC;;AAElC;EACA,IAAI6L,OAAO,CAACkJ,KAAK,EAAEpV,IAAI,CAACoV,KAAK,EAAE;;AAE/B;AACA,EAAA,IAAIlJ,OAAO,CAAChM,SAAS,EAAEF,IAAI,CAACsN,UAAU,CAACpB,OAAO,CAAChM,SAAS,EAAEgM,OAAO,CAACzB,IAAI,CAAC;EAEvE,IAAIyB,OAAO,CAACmJ,eAAe,EAAErV,IAAI,CAACsV,gBAAgB,EAAE;AACtD;AAEA,SAASC,YAAYA,CAACvV,IAAI,EAAE+B,IAAI,EAAE;EAChC,OAAOG,cAAc,CAAClC,IAAI,CAACa,QAAQ,EAAEkB,IAAI,CAAC,GACtC/B,IAAI,CAACa,QAAQ,CAACkB,IAAI,CAAC,GACnBI,KAAK,CAAC,4BAA4B,GAAGqT,WAAW,CAACzT,IAAI,CAAC,CAAC;AAC7D;AAEA,SAAS0T,mBAAmBA,CAAC/C,EAAE,EAAEjO,OAAO,EAAE;EACxC,MAAMN,CAAC,GAAG,CAACuO,EAAE,CAACgD,QAAQ,IAAI,EAAE,EACzB1N,MAAM,CAAC0K,EAAE,IAAIA,EAAE,CAACiD,OAAO,IAAIjD,EAAE,CAACiD,OAAO,CAAClR,OAAO,KAAKA,OAAO,CAAC;EAC7D,OAAON,CAAC,CAAC7B,MAAM,GAAG6B,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AAC/B;AAEA,SAASyR,mBAAmBA,CAAC5V,IAAI,EAAE+B,IAAI,EAAE2Q,EAAE,EAAEjO,OAAO,EAAE;AACpD,EAAA,IAAIN,CAAC,GAAGsR,mBAAmB,CAAC/C,EAAE,EAAEjO,OAAO,CAAC;EACxC,IAAI,CAACN,CAAC,EAAE;AACNA,IAAAA,CAAC,GAAGiC,IAAI,CAACpG,IAAI,EAAE,MAAMyE,OAAO,CAAC1C,IAAI,EAAE2Q,EAAE,CAACpR,KAAK,CAAC,CAAC;IAC7C6C,CAAC,CAACM,OAAO,GAAGA,OAAO;IACnBzE,IAAI,CAACmB,EAAE,CAACuR,EAAE,EAAE,IAAI,EAAEvO,CAAC,CAAC;AACtB;AACA,EAAA,OAAOnE,IAAI;AACb;AAEA,SAAS6V,sBAAsBA,CAAC7V,IAAI,EAAE0S,EAAE,EAAEjO,OAAO,EAAE;AACjD,EAAA,MAAMN,CAAC,GAAGsR,mBAAmB,CAAC/C,EAAE,EAAEjO,OAAO,CAAC;EAC1C,IAAIN,CAAC,EAAEuO,EAAE,CAACgD,QAAQ,CAAChT,MAAM,CAACyB,CAAC,CAAC;AAC5B,EAAA,OAAOnE,IAAI;AACb;AAEA8V,QAAQ,CAAC1B,IAAI,EAAEC,QAAQ,EAAE;AACvB;;AAEA,EAAA,MAAM0B,QAAQA,CAAC9M,MAAM,EAAE+M,MAAM,EAAEC,OAAO,EAAE;AACtC;AACA,IAAA,MAAM5B,QAAQ,CAAC6B,SAAS,CAACH,QAAQ,CAACvT,IAAI,CAAC,IAAI,EAAEyG,MAAM,EAAE+M,MAAM,CAAC;;AAE5D;AACA,IAAA,IAAI,IAAI,CAACtH,OAAO,IAAI,IAAI,CAAC9N,OAAO,EAAE;MAChC,IAAI;QACF,IAAI,IAAI,CAACwD,SAAS,EAAE;UAClB,IAAI,IAAI,CAACxD,OAAO,EAAE;YAChB,IAAI,CAACA,OAAO,GAAG,CAAC;YAChBqD,cAAc,CAAC,IAAI,CAAC;AACtB;UACA,MAAM,IAAI,CAACG,SAAS,CAAC8K,WAAW,CAAC,IAAI,CAACC,WAAW,CAACvB,IAAI,CAAC;AACzD;QACA,IAAI,CAACc,OAAO,GAAG,KAAK;OACrB,CAAC,OAAO7J,CAAC,EAAE;AACV,QAAA,IAAI,CAAC1C,KAAK,CAAC0C,CAAC,CAAC;AACf;AACF;;AAEA;AACA,IAAA,IAAIoR,OAAO,EAAEE,aAAa,CAAC,IAAI,EAAEF,OAAO,CAAC;AAEzC,IAAA,OAAO,IAAI;GACZ;EAEDG,KAAKA,CAAClV,IAAI,EAAE;IACV,IAAI,CAACwN,OAAO,GAAG,IAAI;IACnB,IAAI,CAACtK,SAAS,IAAI,IAAI,CAACA,SAAS,CAACgS,KAAK,CAAClV,IAAI,CAAC;GAC7C;AAED;;EAEAb,WAAWA,CAAC4J,IAAI,EAAE;IAChB,IAAI5H,SAAS,CAACC,MAAM,EAAE;MACpB,MAAMhC,IAAI,GAAG2J,IAAI,IAAI,IAAI,GAAIA,IAAI,GAAG,EAAE,GAAI,IAAI;AAC9C,MAAA,IAAI3J,IAAI,KAAK,IAAI,CAAC+V,KAAK,EAAEjW,SAAS,CAAC,IAAI,CAAC6N,GAAG,EAAE,IAAI,CAACoI,KAAK,GAAG/V,IAAI,CAAC;AAC/D,MAAA,OAAO,IAAI;AACb;IACA,OAAO,IAAI,CAAC+V,KAAK;GAClB;AAEDnW,EAAAA,SAASA,GAAG;IACV,OAAO,IAAI,CAAC+N,GAAG;GAChB;AAEDN,EAAAA,UAAUA,GAAG;IACX,OAAO,IAAI,CAACwB,WAAW;GACxB;AAEDpL,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO,IAAI,CAACC,OAAO,CAAC4B,KAAK,EAAE;GAC5B;AAEDmF,EAAAA,MAAMA,CAAChJ,IAAI,EAAET,KAAK,EAAE4K,OAAO,EAAE;AAC3B,IAAA,MAAMwG,EAAE,GAAG6C,YAAY,CAAC,IAAI,EAAExT,IAAI,CAAC;AACnC,IAAA,OAAOM,SAAS,CAACC,MAAM,KAAK,CAAC,GACzBoQ,EAAE,CAACpR,KAAK,GACR,IAAI,CAACwJ,MAAM,CAAC4H,EAAE,EAAEpR,KAAK,EAAE4K,OAAO,CAAC;GACpC;EAED/I,KAAKA,CAAC1C,CAAC,EAAE;AACP,IAAA,OAAO4B,SAAS,CAACC,MAAM,GAAG,IAAI,CAACyI,MAAM,CAAC,OAAO,EAAEtK,CAAC,CAAC,GAAG,IAAI,CAACsK,MAAM,CAAC,OAAO,CAAC;GACzE;EAEDrH,MAAMA,CAACjD,CAAC,EAAE;AACR,IAAA,OAAO4B,SAAS,CAACC,MAAM,GAAG,IAAI,CAACyI,MAAM,CAAC,QAAQ,EAAEtK,CAAC,CAAC,GAAG,IAAI,CAACsK,MAAM,CAAC,QAAQ,CAAC;GAC3E;EAED3H,OAAOA,CAAC3C,CAAC,EAAE;IACT,OAAO4B,SAAS,CAACC,MAAM,GACnB,IAAI,CAACyI,MAAM,CAAC,SAAS,EAAE3H,OAAO,CAAC3C,CAAC,CAAC,CAAC,GAClC2C,OAAO,CAAC,IAAI,CAAC2H,MAAM,CAAC,SAAS,CAAC,CAAC;GACpC;EAEDiG,QAAQA,CAACvQ,CAAC,EAAE;AACV,IAAA,OAAO4B,SAAS,CAACC,MAAM,GAAG,IAAI,CAACyI,MAAM,CAAC,UAAU,EAAEtK,CAAC,CAAC,GAAG,IAAI,CAACsK,MAAM,CAAC,UAAU,CAAC;GAC/E;EAEDjK,UAAUA,CAACL,CAAC,EAAE;AACZ,IAAA,OAAO4B,SAAS,CAACC,MAAM,GAAG,IAAI,CAACyI,MAAM,CAAC,YAAY,EAAEtK,CAAC,CAAC,GAAG,IAAI,CAACsK,MAAM,CAAC,YAAY,CAAC;GACnF;EAEDuD,QAAQA,CAACrH,IAAI,EAAE;IACb,IAAI,CAAC5E,SAAS,CAACC,MAAM,EAAE,OAAO,IAAI,CAACwL,WAAW;IAC9C,IAAI,CAACE,YAAY,CAAC/G,IAAI,CAAC,EAAE9E,KAAK,CAAC,8BAA8B,GAAG8E,IAAI,CAAC;AACrE,IAAA,IAAIA,IAAI,KAAK,IAAI,CAAC6G,WAAW,EAAE;MAC7B,IAAI,CAACA,WAAW,GAAG7G,IAAI;MACvB,IAAI,CAACqP,cAAc,EAAE;AACvB;AACA,IAAA,OAAO,IAAI;GACZ;EAEDlN,OAAOA,CAAC3E,OAAO,EAAE;IACf,IAAI,CAACpC,SAAS,CAACC,MAAM,EAAE,OAAO,IAAI,CAAC+G,QAAQ;AAC3C,IAAA,IAAI5E,OAAO,KAAK,IAAI,CAAC4E,QAAQ,EAAE;MAC7B,IAAI,CAACA,QAAQ,GAAG5E,OAAO;MACvB,IAAI,CAAC6R,cAAc,EAAE;AACvB;AACA,IAAA,OAAO,IAAI;GACZ;EAEDjJ,MAAMA,CAACA,MAAM,EAAE;IACb,IAAI,CAAChL,SAAS,CAACC,MAAM,EAAE,OAAO,IAAI,CAACiU,OAAO;AAC1C,IAAA,IAAIlJ,MAAM,KAAK,IAAI,CAACkJ,OAAO,EAAE;MAC3BlC,QAAQ,CAAC6B,SAAS,CAAC7I,MAAM,CAAC7K,IAAI,CAAC,IAAI,EAAE6K,MAAM,CAAC;MAC5C,IAAI,CAACiJ,cAAc,EAAE;AACvB;AACA,IAAA,OAAO,IAAI;GACZ;AAEDjS,EAAAA,MAAMA,GAAG;AACP;IACA,IAAI,CAACgN,SAAS,GAAG,CAAC;AAClB;IACA,OAAO,IAAI,CAACmF,KAAK,CAACjB,YAAY,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;GAClD;AAEDe,EAAAA,cAAcA,GAAG;IACf,IAAI,IAAI,CAAClS,SAAS,EAAE;MAClB,IAAI,CAACA,SAAS,GAAG,IAAI;MACrB,IAAI,CAACkJ,UAAU,CAAC,IAAI,CAACW,GAAG,EAAE,IAAI,CAACU,OAAO,CAAC;AACzC;GACD;AAED;AACA8H,EAAAA,WAAW,EAAE3E,UAAU;AAEvB;;AAEAtJ,EAAAA,gBAAgBA,CAACvB,IAAI,EAAExC,OAAO,EAAEyH,OAAO,EAAE;IACvC,IAAI4G,QAAQ,GAAGrO,OAAO;IACtB,IAAI,EAAEyH,OAAO,IAAIA,OAAO,CAAC9F,IAAI,KAAK,KAAK,CAAC,EAAE;AACxC;AACA0M,MAAAA,QAAQ,GAAG1M,IAAI,CAAC,IAAI,EAAE3B,OAAO,CAAC;MAC9BqO,QAAQ,CAAC4D,GAAG,GAAGjS,OAAO;AACxB;IACA,IAAI,CAACH,QAAQ,CAACnD,EAAE,CAAC8F,IAAI,EAAE6L,QAAQ,CAAC;AAChC,IAAA,OAAO,IAAI;GACZ;AAEDjJ,EAAAA,mBAAmBA,CAAC5C,IAAI,EAAExC,OAAO,EAAE;IACjC,IAAI+E,QAAQ,GAAG,IAAI,CAAClF,QAAQ,CAACkF,QAAQ,CAACvC,IAAI,CAAC;MACvCxB,CAAC,GAAG+D,QAAQ,CAAClH,MAAM;MAAE6B,CAAC;MAAEwF,CAAC;;AAE7B;AACA,IAAA,OAAO,EAAElE,CAAC,IAAI,CAAC,EAAE;AACfkE,MAAAA,CAAC,GAAGH,QAAQ,CAAC/D,CAAC,CAAC,CAACwB,IAAI;AACpB9C,MAAAA,CAAC,GAAGqF,QAAQ,CAAC/D,CAAC,CAAC,CAAChB,OAAO;AACvB,MAAA,IAAIwC,IAAI,KAAK0C,CAAC,KAAKlF,OAAO,KAAKN,CAAC,IAAIM,OAAO,KAAKN,CAAC,CAACuS,GAAG,CAAC,EAAE;QACtD,IAAI,CAACpS,QAAQ,CAACwF,GAAG,CAACH,CAAC,EAAExF,CAAC,CAAC;AACvB,QAAA;AACF;AACF;AACA,IAAA,OAAO,IAAI;GACZ;EAEDwS,iBAAiBA,CAAClS,OAAO,EAAE;AACzB,IAAA,MAAMmS,CAAC,GAAG,IAAI,CAACrS,gBAAgB;AAC/B,IAAA,IAAI,CAACqS,CAAC,CAACC,QAAQ,CAACpS,OAAO,CAAC,EAAE;AACxB;AACA;AACA;AACAmS,MAAAA,CAAC,CAACzP,IAAI,CAAC1C,OAAO,CAAC;AACjB;AACA,IAAA,OAAO,IAAI;GACZ;EAEDqS,oBAAoBA,CAACrS,OAAO,EAAE;AAC5B,IAAA,IAAImS,CAAC,GAAG,IAAI,CAACrS,gBAAgB;AACzBkB,MAAAA,CAAC,GAAGmR,CAAC,CAACG,OAAO,CAACtS,OAAO,CAAC;IAC1B,IAAIgB,CAAC,IAAI,CAAC,EAAE;AACVmR,MAAAA,CAAC,CAACI,MAAM,CAACvR,CAAC,EAAE,CAAC,CAAC;AAChB;AACA,IAAA,OAAO,IAAI;GACZ;AAEDwR,EAAAA,iBAAiBA,CAAClV,IAAI,EAAE0C,OAAO,EAAE;AAC/B,IAAA,OAAOmR,mBAAmB,CAAC,IAAI,EAAE7T,IAAI,EAAEwT,YAAY,CAAC,IAAI,EAAExT,IAAI,CAAC,EAAE0C,OAAO,CAAC;GAC1E;AAEDyS,EAAAA,oBAAoBA,CAACnV,IAAI,EAAE0C,OAAO,EAAE;AAClC,IAAA,OAAOoR,sBAAsB,CAAC,IAAI,EAAEN,YAAY,CAAC,IAAI,EAAExT,IAAI,CAAC,EAAE0C,OAAO,CAAC;GACvE;AAED0S,EAAAA,eAAeA,CAACpV,IAAI,EAAE0C,OAAO,EAAE;AAC7B,IAAA,OAAOmR,mBAAmB,CAAC,IAAI,EAAE7T,IAAI,EAAED,OAAO,CAAC,IAAI,EAAEC,IAAI,CAAC,CAACK,MAAM,EAAEqC,OAAO,CAAC;GAC5E;AAED2S,EAAAA,kBAAkBA,CAACrV,IAAI,EAAE0C,OAAO,EAAE;AAChC,IAAA,OAAOoR,sBAAsB,CAAC,IAAI,EAAE/T,OAAO,CAAC,IAAI,EAAEC,IAAI,CAAC,CAACK,MAAM,EAAEqC,OAAO,CAAC;GACzE;EAEDhD,YAAYA,CAAChB,CAAC,EAAE;IACd,IAAI4B,SAAS,CAACC,MAAM,EAAE;AACpB,MAAA,IAAI,IAAI,CAACuS,aAAa,KAAK,CAAC,CAACpU,CAAC,EAAE;QAC9B,MAAM4W,IAAI,GAAG7V,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AACnC,QAAA,IAAI,CAACqT,aAAa,GAAG,CAAC,CAACpU,CAAC;QACxB,IAAI4W,IAAI,EAAE7V,SAAS,CAAC,IAAI,EAAE6V,IAAI,CAAC,CAAC;AAClC;AACA,MAAA,OAAO,IAAI;AACb,KAAC,MAAM;MACL,OAAO,IAAI,CAACxC,aAAa;AAC3B;GACD;EAEDpN,cAAcA,CAAChH,CAAC,EAAE;IAChB,IAAI4B,SAAS,CAACC,MAAM,EAAE;MACpB,IAAI,CAACwS,eAAe,GAAGrU,CAAC;AACxB,MAAA,OAAO,IAAI;AACb,KAAC,MAAM;MACL,OAAO,IAAI,CAACqU,eAAe;AAC7B;GACD;EAEDvM,KAAK;EACLnH,MAAM;EACNkW,QAAQ;EACRlC,KAAK;AAEL;EACApT,IAAI;EACJO,MAAM;EACNK,MAAM;EACNF,MAAM;AAEN;EACA8N,KAAK;AAEL;EACAlD,UAAU;AAEV;AACAiK,EAAAA,UAAU,EAAEC,gBAAgB;AAC5BC,EAAAA,QAAQ,EAAEC,cAAc;AACxBC,EAAAA,KAAK,EAAEC,WAAW;AAElB;EACAxF,QAAQ;EACRQ,QAAQ;AAER;AACA0C,EAAAA,gBAAgB,EAAED;AACpB,CAAC,CAAC;;;;"}