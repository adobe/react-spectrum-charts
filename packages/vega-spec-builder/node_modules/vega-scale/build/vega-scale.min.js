!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vega-util"),require("vega-time")):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-time"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).vega={},e.vega,e.vega)}(this,(function(e,n,t){"use strict";function r(e,n,t){const r=e-n+2*t;return e?r>0?r:1:0}const a="identity",i="linear",o="log",c="pow",u="sqrt",f="symlog",l="time",s="utc",d="sequential",h="diverging",g="quantile",b="quantize",p="threshold",m="ordinal",y="point",v="band",M="bin-ordinal",w="continuous",x="discrete",T="discretizing",k="interpolating",N="temporal";function C(e,n){return null==e||null==n?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function D(e,n){return null==e||null==n?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function U(e){let n,t,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==n(r,r))return i;do{const n=a+i>>>1;t(e[n],r)<0?a=n+1:i=n}while(a<i)}return a}return 2!==e.length?(n=C,t=(n,t)=>C(e(n),t),r=(n,t)=>e(n)-t):(n=e===C||e===D?e:$,t=e,r=e),{left:a,center:function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=a(e,n,t,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return i>t&&r(e[i-1],n)>-r(e[i],n)?i-1:i},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<i){if(0!==n(r,r))return i;do{const n=a+i>>>1;t(e[n],r)<=0?a=n+1:i=n}while(a<i)}return a}}}function $(){return 0}function S(e){return null===e?NaN:+e}const A=U(C).right;U(S).center;class F extends Map{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[n,t]of e)this.set(n,t)}get(e){return super.get(Y(this,e))}has(e){return super.has(Y(this,e))}set(e,n){return super.set(function(e,n){let{_intern:t,_key:r}=e;const a=r(n);return t.has(a)?t.get(a):(t.set(a,n),n)}(this,e),n)}delete(e){return super.delete(function(e,n){let{_intern:t,_key:r}=e;const a=r(n);t.has(a)&&(n=t.get(a),t.delete(a));return n}(this,e))}}function Y(e,n){let{_intern:t,_key:r}=e;const a=r(n);return t.has(a)?t.get(a):n}function H(e){return null!==e&&"object"==typeof e?e.valueOf():e}const q=Math.sqrt(50),O=Math.sqrt(10),L=Math.sqrt(2);function R(e,n,t){const r=(n-e)/Math.max(0,t),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=q?10:i>=O?5:i>=L?2:1;let c,u,f;return a<0?(f=Math.pow(10,-a)/o,c=Math.round(e*f),u=Math.round(n*f),c/f<e&&++c,u/f>n&&--u,f=-f):(f=Math.pow(10,a)*o,c=Math.round(e/f),u=Math.round(n/f),c*f<e&&++c,u*f>n&&--u),u<c&&.5<=t&&t<2?R(e,n,2*t):[c,u,f]}function j(e,n,t){if(!((t=+t)>0))return[];if((e=+e)===(n=+n))return[e];const r=n<e,[a,i,o]=r?R(n,e,t):R(e,n,t);if(!(i>=a))return[];const c=i-a+1,u=new Array(c);if(r)if(o<0)for(let e=0;e<c;++e)u[e]=(i-e)/-o;else for(let e=0;e<c;++e)u[e]=(i-e)*o;else if(o<0)for(let e=0;e<c;++e)u[e]=(a+e)/-o;else for(let e=0;e<c;++e)u[e]=(a+e)*o;return u}function E(e,n,t){return R(e=+e,n=+n,t=+t)[2]}function B(e,n,t){t=+t;const r=(n=+n)<(e=+e),a=r?E(n,e,t):E(e,n,t);return(r?-1:1)*(a<0?1/-a:a)}function I(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if((r=e.length)&&!isNaN(n=+n)){if(n<=0||r<2)return+t(e[0],0,e);if(n>=1)return+t(e[r-1],r-1,e);var r,a=(r-1)*n,i=Math.floor(a),o=+t(e[i],i,e);return o+(+t(e[i+1],i+1,e)-o)*(a-i)}}function X(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}function z(e,n){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const G=Symbol("implicit");function P(){var e=new F,n=[],t=[],r=G;function a(a){let i=e.get(a);if(void 0===i){if(r!==G)return r;e.set(a,i=n.push(a)-1)}return t[i%t.length]}return a.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new F;for(const r of t)e.has(r)||e.set(r,n.push(r)-1);return a},a.range=function(e){return arguments.length?(t=Array.from(e),a):t.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return P(n,t).unknown(r)},X.apply(a,arguments),a}function V(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Z(e,n){var t=Object.create(e.prototype);for(var r in n)t[r]=n[r];return t}function _(){}var Q=.7,W=1/Q,J="\\s*([+-]?\\d+)\\s*",K="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ne=/^#([0-9a-f]{3,8})$/,te=new RegExp(`^rgb\\(${J},${J},${J}\\)$`),re=new RegExp(`^rgb\\(${ee},${ee},${ee}\\)$`),ae=new RegExp(`^rgba\\(${J},${J},${J},${K}\\)$`),ie=new RegExp(`^rgba\\(${ee},${ee},${ee},${K}\\)$`),oe=new RegExp(`^hsl\\(${K},${ee},${ee}\\)$`),ce=new RegExp(`^hsla\\(${K},${ee},${ee},${K}\\)$`),ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fe(){return this.rgb().formatHex()}function le(){return this.rgb().formatRgb()}function se(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=ne.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?de(n):3===t?new pe(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?he(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?he(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=te.exec(e))?new pe(n[1],n[2],n[3],1):(n=re.exec(e))?new pe(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ae.exec(e))?he(n[1],n[2],n[3],n[4]):(n=ie.exec(e))?he(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=oe.exec(e))?xe(n[1],n[2]/100,n[3]/100,1):(n=ce.exec(e))?xe(n[1],n[2]/100,n[3]/100,n[4]):ue.hasOwnProperty(e)?de(ue[e]):"transparent"===e?new pe(NaN,NaN,NaN,0):null}function de(e){return new pe(e>>16&255,e>>8&255,255&e,1)}function he(e,n,t,r){return r<=0&&(e=n=t=NaN),new pe(e,n,t,r)}function ge(e){return e instanceof _||(e=se(e)),e?new pe((e=e.rgb()).r,e.g,e.b,e.opacity):new pe}function be(e,n,t,r){return 1===arguments.length?ge(e):new pe(e,n,t,null==r?1:r)}function pe(e,n,t,r){this.r=+e,this.g=+n,this.b=+t,this.opacity=+r}function me(){return`#${we(this.r)}${we(this.g)}${we(this.b)}`}function ye(){const e=ve(this.opacity);return`${1===e?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${1===e?")":`, ${e})`}`}function ve(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Me(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function we(e){return((e=Me(e))<16?"0":"")+e.toString(16)}function xe(e,n,t,r){return r<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new Ne(e,n,t,r)}function Te(e){if(e instanceof Ne)return new Ne(e.h,e.s,e.l,e.opacity);if(e instanceof _||(e=se(e)),!e)return new Ne;if(e instanceof Ne)return e;var n=(e=e.rgb()).r/255,t=e.g/255,r=e.b/255,a=Math.min(n,t,r),i=Math.max(n,t,r),o=NaN,c=i-a,u=(i+a)/2;return c?(o=n===i?(t-r)/c+6*(t<r):t===i?(r-n)/c+2:(n-t)/c+4,c/=u<.5?i+a:2-i-a,o*=60):c=u>0&&u<1?0:o,new Ne(o,c,u,e.opacity)}function ke(e,n,t,r){return 1===arguments.length?Te(e):new Ne(e,n,t,null==r?1:r)}function Ne(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function Ce(e){return(e=(e||0)%360)<0?e+360:e}function De(e){return Math.max(0,Math.min(1,e||0))}function Ue(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}V(_,se,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fe,formatHex:fe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Te(this).formatHsl()},formatRgb:le,toString:le}),V(pe,be,Z(_,{brighter(e){return e=null==e?W:Math.pow(W,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Q:Math.pow(Q,e),new pe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pe(Me(this.r),Me(this.g),Me(this.b),ve(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:me,formatHex:me,formatHex8:function(){return`#${we(this.r)}${we(this.g)}${we(this.b)}${we(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ye,toString:ye})),V(Ne,ke,Z(_,{brighter(e){return e=null==e?W:Math.pow(W,e),new Ne(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Q:Math.pow(Q,e),new Ne(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*n,a=2*t-r;return new pe(Ue(e>=240?e-240:e+120,a,r),Ue(e,a,r),Ue(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ne(Ce(this.h),De(this.s),De(this.l),ve(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ve(this.opacity);return`${1===e?"hsl(":"hsla("}${Ce(this.h)}, ${100*De(this.s)}%, ${100*De(this.l)}%${1===e?")":`, ${e})`}`}}));const $e=Math.PI/180,Se=180/Math.PI,Ae=.96422,Fe=1,Ye=.82521,He=4/29,qe=6/29,Oe=3*qe*qe,Le=qe*qe*qe;function Re(e){if(e instanceof Ee)return new Ee(e.l,e.a,e.b,e.opacity);if(e instanceof Pe)return Ve(e);e instanceof pe||(e=ge(e));var n,t,r=ze(e.r),a=ze(e.g),i=ze(e.b),o=Be((.2225045*r+.7168786*a+.0606169*i)/Fe);return r===a&&a===i?n=t=o:(n=Be((.4360747*r+.3850649*a+.1430804*i)/Ae),t=Be((.0139322*r+.0971045*a+.7141733*i)/Ye)),new Ee(116*o-16,500*(n-o),200*(o-t),e.opacity)}function je(e,n,t,r){return 1===arguments.length?Re(e):new Ee(e,n,t,null==r?1:r)}function Ee(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}function Be(e){return e>Le?Math.pow(e,1/3):e/Oe+He}function Ie(e){return e>qe?e*e*e:Oe*(e-He)}function Xe(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ze(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ge(e,n,t,r){return 1===arguments.length?function(e){if(e instanceof Pe)return new Pe(e.h,e.c,e.l,e.opacity);if(e instanceof Ee||(e=Re(e)),0===e.a&&0===e.b)return new Pe(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*Se;return new Pe(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Pe(e,n,t,null==r?1:r)}function Pe(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function Ve(e){if(isNaN(e.h))return new Ee(e.l,0,0,e.opacity);var n=e.h*$e;return new Ee(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}V(Ee,je,Z(_,{brighter(e){return new Ee(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new Ee(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return new pe(Xe(3.1338561*(n=Ae*Ie(n))-1.6168667*(e=Fe*Ie(e))-.4906146*(t=Ye*Ie(t))),Xe(-.9787684*n+1.9161415*e+.033454*t),Xe(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}})),V(Pe,Ge,Z(_,{brighter(e){return new Pe(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new Pe(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Ve(this).rgb()}}));var Ze=-.14861,_e=1.78277,Qe=-.29227,We=-.90649,Je=1.97294,Ke=Je*We,en=Je*_e,nn=_e*Qe-We*Ze;function tn(e,n,t,r){return 1===arguments.length?function(e){if(e instanceof rn)return new rn(e.h,e.s,e.l,e.opacity);e instanceof pe||(e=ge(e));var n=e.r/255,t=e.g/255,r=e.b/255,a=(nn*r+Ke*n-en*t)/(nn+Ke-en),i=r-a,o=(Je*(t-a)-Qe*i)/We,c=Math.sqrt(o*o+i*i)/(Je*a*(1-a)),u=c?Math.atan2(o,i)*Se-120:NaN;return new rn(u<0?u+360:u,c,a,e.opacity)}(e):new rn(e,n,t,null==r?1:r)}function rn(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}function an(e,n,t,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*n+(4-6*i+3*o)*t+(1+3*e+3*i-3*o)*r+o*a)/6}function on(e){var n=e.length-1;return function(t){var r=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,c=r<n-1?e[r+2]:2*i-a;return an((t-r/n)*n,o,a,i,c)}}function cn(e){var n=e.length;return function(t){var r=Math.floor(((t%=1)<0?++t:t)*n),a=e[(r+n-1)%n],i=e[r%n],o=e[(r+1)%n],c=e[(r+2)%n];return an((t-r/n)*n,a,i,o,c)}}V(rn,tn,Z(_,{brighter(e){return e=null==e?W:Math.pow(W,e),new rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Q:Math.pow(Q,e),new rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*$e,n=+this.l,t=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(e),a=Math.sin(e);return new pe(255*(n+t*(Ze*r+_e*a)),255*(n+t*(Qe*r+We*a)),255*(n+t*(Je*r)),this.opacity)}}));var un=e=>()=>e;function fn(e,n){return function(t){return e+t*n}}function ln(e,n){var t=n-e;return t?fn(e,t>180||t<-180?t-360*Math.round(t/360):t):un(isNaN(e)?n:e)}function sn(e){return 1==(e=+e)?dn:function(n,t){return t-n?function(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(r){return Math.pow(e+r*n,t)}}(n,t,e):un(isNaN(n)?t:n)}}function dn(e,n){var t=n-e;return t?fn(e,t):un(isNaN(e)?n:e)}var hn=function e(n){var t=sn(n);function r(e,n){var r=t((e=be(e)).r,(n=be(n)).r),a=t(e.g,n.g),i=t(e.b,n.b),o=dn(e.opacity,n.opacity);return function(n){return e.r=r(n),e.g=a(n),e.b=i(n),e.opacity=o(n),e+""}}return r.gamma=e,r}(1);function gn(e){return function(n){var t,r,a=n.length,i=new Array(a),o=new Array(a),c=new Array(a);for(t=0;t<a;++t)r=be(n[t]),i[t]=r.r||0,o[t]=r.g||0,c[t]=r.b||0;return i=e(i),o=e(o),c=e(c),r.opacity=1,function(e){return r.r=i(e),r.g=o(e),r.b=c(e),r+""}}}var bn=gn(on),pn=gn(cn);function mn(e,n){n||(n=[]);var t,r=e?Math.min(n.length,e.length):0,a=n.slice();return function(i){for(t=0;t<r;++t)a[t]=e[t]*(1-i)+n[t]*i;return a}}function yn(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vn(e,n){var t,r=n?n.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),o=new Array(r);for(t=0;t<a;++t)i[t]=Cn(e[t],n[t]);for(;t<r;++t)o[t]=n[t];return function(e){for(t=0;t<a;++t)o[t]=i[t](e);return o}}function Mn(e,n){var t=new Date;return e=+e,n=+n,function(r){return t.setTime(e*(1-r)+n*r),t}}function wn(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function xn(e,n){var t,r={},a={};for(t in null!==e&&"object"==typeof e||(e={}),null!==n&&"object"==typeof n||(n={}),n)t in e?r[t]=Cn(e[t],n[t]):a[t]=n[t];return function(e){for(t in r)a[t]=r[t](e);return a}}var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kn=new RegExp(Tn.source,"g");function Nn(e,n){var t,r,a,i=Tn.lastIndex=kn.lastIndex=0,o=-1,c=[],u=[];for(e+="",n+="";(t=Tn.exec(e))&&(r=kn.exec(n));)(a=r.index)>i&&(a=n.slice(i,a),c[o]?c[o]+=a:c[++o]=a),(t=t[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,u.push({i:o,x:wn(t,r)})),i=kn.lastIndex;return i<n.length&&(a=n.slice(i),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?function(e){return function(n){return e(n)+""}}(u[0].x):function(e){return function(){return e}}(n):(n=u.length,function(e){for(var t,r=0;r<n;++r)c[(t=u[r]).i]=t.x(e);return c.join("")})}function Cn(e,n){var t,r=typeof n;return null==n||"boolean"===r?un(n):("number"===r?wn:"string"===r?(t=se(n))?(n=t,hn):Nn:n instanceof se?hn:n instanceof Date?Mn:yn(n)?mn:Array.isArray(n)?vn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?xn:wn)(e,n)}function Dn(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var Un,$n=180/Math.PI,Sn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function An(e,n,t,r,a,i){var o,c,u;return(o=Math.sqrt(e*e+n*n))&&(e/=o,n/=o),(u=e*t+n*r)&&(t-=e*u,r-=n*u),(c=Math.sqrt(t*t+r*r))&&(t/=c,r/=c,u/=c),e*r<n*t&&(e=-e,n=-n,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(n,e)*$n,skewX:Math.atan(u)*$n,scaleX:o,scaleY:c}}function Fn(e,n,t,r){function a(e){return e.length?e.pop()+" ":""}return function(i,o){var c=[],u=[];return i=e(i),o=e(o),function(e,r,a,i,o,c){if(e!==a||r!==i){var u=o.push("translate(",null,n,null,t);c.push({i:u-4,x:wn(e,a)},{i:u-2,x:wn(r,i)})}else(a||i)&&o.push("translate("+a+n+i+t)}(i.translateX,i.translateY,o.translateX,o.translateY,c,u),function(e,n,t,i){e!==n?(e-n>180?n+=360:n-e>180&&(e+=360),i.push({i:t.push(a(t)+"rotate(",null,r)-2,x:wn(e,n)})):n&&t.push(a(t)+"rotate("+n+r)}(i.rotate,o.rotate,c,u),function(e,n,t,i){e!==n?i.push({i:t.push(a(t)+"skewX(",null,r)-2,x:wn(e,n)}):n&&t.push(a(t)+"skewX("+n+r)}(i.skewX,o.skewX,c,u),function(e,n,t,r,i,o){if(e!==t||n!==r){var c=i.push(a(i)+"scale(",null,",",null,")");o.push({i:c-4,x:wn(e,t)},{i:c-2,x:wn(n,r)})}else 1===t&&1===r||i.push(a(i)+"scale("+t+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,c,u),i=o=null,function(e){for(var n,t=-1,r=u.length;++t<r;)c[(n=u[t]).i]=n.x(e);return c.join("")}}}var Yn=Fn((function(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Sn:An(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Hn=Fn((function(e){return null==e?Sn:(Un||(Un=document.createElementNS("http://www.w3.org/2000/svg","g")),Un.setAttribute("transform",e),(e=Un.transform.baseVal.consolidate())?An((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Sn)}),", ",")",")");function qn(e){return((e=Math.exp(e))+1/e)/2}var On=function e(n,t,r){function a(e,a){var i,o,c=e[0],u=e[1],f=e[2],l=a[0],s=a[1],d=a[2],h=l-c,g=s-u,b=h*h+g*g;if(b<1e-12)o=Math.log(d/f)/n,i=function(e){return[c+e*h,u+e*g,f*Math.exp(n*e*o)]};else{var p=Math.sqrt(b),m=(d*d-f*f+r*b)/(2*f*t*p),y=(d*d-f*f-r*b)/(2*d*t*p),v=Math.log(Math.sqrt(m*m+1)-m),M=Math.log(Math.sqrt(y*y+1)-y);o=(M-v)/n,i=function(e){var r,a=e*o,i=qn(v),l=f/(t*p)*(i*(r=n*a+v,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[c+l*h,u+l*g,f*i/qn(n*a+v)]}}return i.duration=1e3*o*n/Math.SQRT2,i}return a.rho=function(n){var t=Math.max(.001,+n),r=t*t;return e(t,r,r*r)},a}(Math.SQRT2,2,4);function Ln(e){return function(n,t){var r=e((n=ke(n)).h,(t=ke(t)).h),a=dn(n.s,t.s),i=dn(n.l,t.l),o=dn(n.opacity,t.opacity);return function(e){return n.h=r(e),n.s=a(e),n.l=i(e),n.opacity=o(e),n+""}}}var Rn=Ln(ln),jn=Ln(dn);function En(e){return function(n,t){var r=e((n=Ge(n)).h,(t=Ge(t)).h),a=dn(n.c,t.c),i=dn(n.l,t.l),o=dn(n.opacity,t.opacity);return function(e){return n.h=r(e),n.c=a(e),n.l=i(e),n.opacity=o(e),n+""}}}var Bn=En(ln),In=En(dn);function Xn(e){return function n(t){function r(n,r){var a=e((n=tn(n)).h,(r=tn(r)).h),i=dn(n.s,r.s),o=dn(n.l,r.l),c=dn(n.opacity,r.opacity);return function(e){return n.h=a(e),n.s=i(e),n.l=o(Math.pow(e,t)),n.opacity=c(e),n+""}}return t=+t,r.gamma=n,r}(1)}var zn=Xn(ln),Gn=Xn(dn);function Pn(e,n){void 0===n&&(n=e,e=Cn);for(var t=0,r=n.length-1,a=n[0],i=new Array(r<0?0:r);t<r;)i[t]=e(a,a=n[++t]);return function(e){var n=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[n](e-n)}}var Vn=Object.freeze({__proto__:null,interpolate:Cn,interpolateArray:function(e,n){return(yn(n)?mn:vn)(e,n)},interpolateBasis:on,interpolateBasisClosed:cn,interpolateCubehelix:zn,interpolateCubehelixLong:Gn,interpolateDate:Mn,interpolateDiscrete:function(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}},interpolateHcl:Bn,interpolateHclLong:In,interpolateHsl:Rn,interpolateHslLong:jn,interpolateHue:function(e,n){var t=ln(+e,+n);return function(e){var n=t(e);return n-360*Math.floor(n/360)}},interpolateLab:function(e,n){var t=dn((e=je(e)).l,(n=je(n)).l),r=dn(e.a,n.a),a=dn(e.b,n.b),i=dn(e.opacity,n.opacity);return function(n){return e.l=t(n),e.a=r(n),e.b=a(n),e.opacity=i(n),e+""}},interpolateNumber:wn,interpolateNumberArray:mn,interpolateObject:xn,interpolateRgb:hn,interpolateRgbBasis:bn,interpolateRgbBasisClosed:pn,interpolateRound:Dn,interpolateString:Nn,interpolateTransformCss:Yn,interpolateTransformSvg:Hn,interpolateZoom:On,piecewise:Pn,quantize:function(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e(r/(n-1));return t}});function Zn(e){return+e}var _n=[0,1];function Qn(e){return e}function Wn(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:(t=isNaN(n)?NaN:.5,function(){return t});var t}function Jn(e,n,t){var r=e[0],a=e[1],i=n[0],o=n[1];return a<r?(r=Wn(a,r),i=t(o,i)):(r=Wn(r,a),i=t(i,o)),function(e){return i(r(e))}}function Kn(e,n,t){var r=Math.min(e.length,n.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++o<r;)a[o]=Wn(e[o],e[o+1]),i[o]=t(n[o],n[o+1]);return function(n){var t=A(e,n,1,r)-1;return i[t](a[t](n))}}function et(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nt(){var e,n,t,r,a,i,o=_n,c=_n,u=Cn,f=Qn;function l(){var e,n,t,u=Math.min(o.length,c.length);return f!==Qn&&(e=o[0],n=o[u-1],e>n&&(t=e,e=n,n=t),f=function(t){return Math.max(e,Math.min(n,t))}),r=u>2?Kn:Jn,a=i=null,s}function s(n){return null==n||isNaN(n=+n)?t:(a||(a=r(o.map(e),c,u)))(e(f(n)))}return s.invert=function(t){return f(n((i||(i=r(c,o.map(e),wn)))(t)))},s.domain=function(e){return arguments.length?(o=Array.from(e,Zn),l()):o.slice()},s.range=function(e){return arguments.length?(c=Array.from(e),l()):c.slice()},s.rangeRound=function(e){return c=Array.from(e),u=Dn,l()},s.clamp=function(e){return arguments.length?(f=!!e||Qn,l()):f!==Qn},s.interpolate=function(e){return arguments.length?(u=e,l()):u},s.unknown=function(e){return arguments.length?(t=e,s):t},function(t,r){return e=t,n=r,l()}}function tt(){return nt()(Qn,Qn)}function rt(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function at(e){return(e=rt(Math.abs(e)))?e[1]:NaN}var it,ot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ct(e){if(!(n=ot.exec(e)))throw new Error("invalid format: "+e);var n;return new ut({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function ut(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ft(e,n){var t=rt(e,n);if(!t)return e+"";var r=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}ct.prototype=ut.prototype,ut.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var lt={"%":(e,n)=>(100*e).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>ft(100*e,n),r:ft,s:function(e,n){var t=rt(e,n);if(!t)return e+"";var r=t[0],a=t[1],i=a-(it=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+rt(e,Math.max(0,n+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function st(e){return e}var dt,ht,gt,bt=Array.prototype.map,pt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mt(e){var n,t,r=void 0===e.grouping||void 0===e.thousands?st:(n=bt.call(e.grouping,Number),t=e.thousands+"",function(e,r){for(var a=e.length,i=[],o=0,c=n[0],u=0;a>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),i.push(e.substring(a-=c,a+c)),!((u+=c+1)>r));)c=n[o=(o+1)%n.length];return i.reverse().join(t)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",c=void 0===e.numerals?st:function(e){return function(n){return n.replace(/[0-9]/g,(function(n){return e[+n]}))}}(bt.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",f=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function s(e){var n=(e=ct(e)).fill,t=e.align,s=e.sign,d=e.symbol,h=e.zero,g=e.width,b=e.comma,p=e.precision,m=e.trim,y=e.type;"n"===y?(b=!0,y="g"):lt[y]||(void 0===p&&(p=12),m=!0,y="g"),(h||"0"===n&&"="===t)&&(h=!0,n="0",t="=");var v="$"===d?a:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",M="$"===d?i:/[%p]/.test(y)?u:"",w=lt[y],x=/[defgprs%]/.test(y);function T(e){var a,i,u,d=v,T=M;if("c"===y)T=w(e)+T,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:w(Math.abs(e),p),m&&(e=function(e){e:for(var n,t=e.length,r=1,a=-1;r<t;++r)switch(e[r]){case".":a=n=r;break;case"0":0===a&&(a=r),n=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e}(e)),k&&0==+e&&"+"!==s&&(k=!1),d=(k?"("===s?s:f:"-"===s||"("===s?"":s)+d,T=("s"===y?pt[8+it/3]:"")+T+(k&&"("===s?")":""),x)for(a=-1,i=e.length;++a<i;)if(48>(u=e.charCodeAt(a))||u>57){T=(46===u?o+e.slice(a+1):e.slice(a))+T,e=e.slice(0,a);break}}b&&!h&&(e=r(e,1/0));var N=d.length+e.length+T.length,C=N<g?new Array(g-N+1).join(n):"";switch(b&&h&&(e=r(C+e,C.length?g-T.length:1/0),C=""),t){case"<":e=d+e+T+C;break;case"=":e=d+C+e+T;break;case"^":e=C.slice(0,N=C.length>>1)+d+e+T+C.slice(N);break;default:e=C+d+e+T}return c(e)}return p=void 0===p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),T.toString=function(){return e+""},T}return{format:s,formatPrefix:function(e,n){var t=s(((e=ct(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(at(n)/3))),a=Math.pow(10,-r),i=pt[8+r/3];return function(e){return t(a*e)+i}}}}function yt(e,n,t,r){var a,i=B(e,n,t);switch((r=ct(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(n));return null!=r.precision||isNaN(a=function(e,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(at(n)/3)))-at(Math.abs(e)))}(i,o))||(r.precision=a),gt(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,at(n)-at(e))+1}(i,Math.max(Math.abs(e),Math.abs(n))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-at(Math.abs(e)))}(i))||(r.precision=a-2*("%"===r.type))}return ht(r)}function vt(e){var n=e.domain;return e.ticks=function(e){var t=n();return j(t[0],t[t.length-1],null==e?10:e)},e.tickFormat=function(e,t){var r=n();return yt(r[0],r[r.length-1],null==e?10:e,t)},e.nice=function(t){null==t&&(t=10);var r,a,i=n(),o=0,c=i.length-1,u=i[o],f=i[c],l=10;for(f<u&&(a=u,u=f,f=a,a=o,o=c,c=a);l-- >0;){if((a=E(u,f,t))===r)return i[o]=u,i[c]=f,n(i);if(a>0)u=Math.floor(u/a)*a,f=Math.ceil(f/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,f=Math.floor(f*a)/a}r=a}return e},e}function Mt(e,n){var t,r=0,a=(e=e.slice()).length-1,i=e[r],o=e[a];return o<i&&(t=r,r=a,a=t,t=i,i=o,o=t),e[r]=n.floor(i),e[a]=n.ceil(o),e}function wt(e){return Math.log(e)}function xt(e){return Math.exp(e)}function Tt(e){return-Math.log(-e)}function kt(e){return-Math.exp(-e)}function Nt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ct(e){return(n,t)=>-e(-n,t)}function Dt(e){const n=e(wt,xt),t=n.domain;let r,a,i=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),n=>Math.log(n)/e)}(i),a=function(e){return 10===e?Nt:e===Math.E?Math.exp:n=>Math.pow(e,n)}(i),t()[0]<0?(r=Ct(r),a=Ct(a),e(Tt,kt)):e(wt,xt),n}return n.base=function(e){return arguments.length?(i=+e,o()):i},n.domain=function(e){return arguments.length?(t(e),o()):t()},n.ticks=e=>{const n=t();let o=n[0],c=n[n.length-1];const u=c<o;u&&([o,c]=[c,o]);let f,l,s=r(o),d=r(c);const h=null==e?10:+e;let g=[];if(!(i%1)&&d-s<h){if(s=Math.floor(s),d=Math.ceil(d),o>0){for(;s<=d;++s)for(f=1;f<i;++f)if(l=s<0?f/a(-s):f*a(s),!(l<o)){if(l>c)break;g.push(l)}}else for(;s<=d;++s)for(f=i-1;f>=1;--f)if(l=s>0?f/a(-s):f*a(s),!(l<o)){if(l>c)break;g.push(l)}2*g.length<h&&(g=j(o,c,h))}else g=j(s,d,Math.min(d-s,h)).map(a);return u?g.reverse():g},n.tickFormat=(e,t)=>{if(null==e&&(e=10),null==t&&(t=10===i?"s":","),"function"!=typeof t&&(i%1||null!=(t=ct(t)).precision||(t.trim=!0),t=ht(t)),e===1/0)return t;const o=Math.max(1,i*e/n.ticks().length);return e=>{let n=e/a(Math.round(r(e)));return n*i<i-.5&&(n*=i),n<=o?t(e):""}},n.nice=()=>t(Mt(t(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),n}function Ut(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function $t(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function St(e){var n=1,t=e(Ut(n),$t(n));return t.constant=function(t){return arguments.length?e(Ut(n=+t),$t(n)):n},vt(t)}function At(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Ft(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Yt(e){return e<0?-e*e:e*e}function Ht(e){var n=e(Qn,Qn),t=1;return n.exponent=function(n){return arguments.length?1===(t=+n)?e(Qn,Qn):.5===t?e(Ft,Yt):e(At(t),At(1/t)):t},vt(n)}function qt(){var e=Ht(nt());return e.copy=function(){return et(e,qt()).exponent(e.exponent())},X.apply(e,arguments),e}dt=mt({thousands:",",grouping:[3],currency:["$",""]}),ht=dt.format,gt=dt.formatPrefix;const Ot=new Date,Lt=new Date;function Rt(e,n,t,r){function a(n){return e(n=0===arguments.length?new Date:new Date(+n)),n}return a.floor=n=>(e(n=new Date(+n)),n),a.ceil=t=>(e(t=new Date(t-1)),n(t,1),e(t),t),a.round=e=>{const n=a(e),t=a.ceil(e);return e-n<t-e?n:t},a.offset=(e,t)=>(n(e=new Date(+e),null==t?1:Math.floor(t)),e),a.range=(t,r,i)=>{const o=[];if(t=a.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return o;let c;do{o.push(c=new Date(+t)),n(t,i),e(t)}while(c<t&&t<r);return o},a.filter=t=>Rt((n=>{if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;n(e,-1),!t(e););else for(;--r>=0;)for(;n(e,1),!t(e););})),t&&(a.count=(n,r)=>(Ot.setTime(+n),Lt.setTime(+r),e(Ot),e(Lt),Math.floor(t(Ot,Lt))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?n=>r(n)%e==0:n=>a.count(0,n)%e==0):a:null)),a}const jt=Rt((()=>{}),((e,n)=>{e.setTime(+e+n)}),((e,n)=>n-e));jt.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Rt((n=>{n.setTime(Math.floor(n/e)*e)}),((n,t)=>{n.setTime(+n+t*e)}),((n,t)=>(t-n)/e)):jt:null),jt.range;const Et=1e3,Bt=6e4,It=36e5,Xt=864e5,zt=6048e5,Gt=2592e6,Pt=31536e6,Vt=Rt((e=>{e.setTime(e-e.getMilliseconds())}),((e,n)=>{e.setTime(+e+n*Et)}),((e,n)=>(n-e)/Et),(e=>e.getUTCSeconds()));Vt.range;const Zt=Rt((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Et)}),((e,n)=>{e.setTime(+e+n*Bt)}),((e,n)=>(n-e)/Bt),(e=>e.getMinutes()));Zt.range;const _t=Rt((e=>{e.setUTCSeconds(0,0)}),((e,n)=>{e.setTime(+e+n*Bt)}),((e,n)=>(n-e)/Bt),(e=>e.getUTCMinutes()));_t.range;const Qt=Rt((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Et-e.getMinutes()*Bt)}),((e,n)=>{e.setTime(+e+n*It)}),((e,n)=>(n-e)/It),(e=>e.getHours()));Qt.range;const Wt=Rt((e=>{e.setUTCMinutes(0,0,0)}),((e,n)=>{e.setTime(+e+n*It)}),((e,n)=>(n-e)/It),(e=>e.getUTCHours()));Wt.range;const Jt=Rt((e=>e.setHours(0,0,0,0)),((e,n)=>e.setDate(e.getDate()+n)),((e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bt)/Xt),(e=>e.getDate()-1));Jt.range;const Kt=Rt((e=>{e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCDate(e.getUTCDate()+n)}),((e,n)=>(n-e)/Xt),(e=>e.getUTCDate()-1));Kt.range;const er=Rt((e=>{e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCDate(e.getUTCDate()+n)}),((e,n)=>(n-e)/Xt),(e=>Math.floor(e/Xt)));function nr(e){return Rt((n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)}),((e,n)=>{e.setDate(e.getDate()+7*n)}),((e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Bt)/zt))}er.range;const tr=nr(0),rr=nr(1),ar=nr(2),ir=nr(3),or=nr(4),cr=nr(5),ur=nr(6);function fr(e){return Rt((n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCDate(e.getUTCDate()+7*n)}),((e,n)=>(n-e)/zt))}tr.range,rr.range,ar.range,ir.range,or.range,cr.range,ur.range;const lr=fr(0),sr=fr(1),dr=fr(2),hr=fr(3),gr=fr(4),br=fr(5),pr=fr(6);lr.range,sr.range,dr.range,hr.range,gr.range,br.range,pr.range;const mr=Rt((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,n)=>{e.setMonth(e.getMonth()+n)}),((e,n)=>n.getMonth()-e.getMonth()+12*(n.getFullYear()-e.getFullYear())),(e=>e.getMonth()));mr.range;const yr=Rt((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)}),((e,n)=>n.getUTCMonth()-e.getUTCMonth()+12*(n.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));yr.range;const vr=Rt((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n)}),((e,n)=>n.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));vr.every=e=>isFinite(e=Math.floor(e))&&e>0?Rt((n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)}),((n,t)=>{n.setFullYear(n.getFullYear()+t*e)})):null,vr.range;const Mr=Rt((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)}),((e,n)=>n.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function wr(e,n,t,r,a,i){const o=[[Vt,1,Et],[Vt,5,5e3],[Vt,15,15e3],[Vt,30,3e4],[i,1,Bt],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,It],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,Xt],[r,2,1728e5],[t,1,zt],[n,1,Gt],[n,3,7776e6],[e,1,Pt]];function c(n,t,r){const a=Math.abs(t-n)/r,i=U((e=>{let[,,n]=e;return n})).right(o,a);if(i===o.length)return e.every(B(n/Pt,t/Pt,r));if(0===i)return jt.every(Math.max(B(n,t,r),1));const[c,u]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return c.every(u)}return[function(e,n,t){const r=n<e;r&&([e,n]=[n,e]);const a=t&&"function"==typeof t.range?t:c(e,n,t),i=a?a.range(e,+n+1):[];return r?i.reverse():i},c]}Mr.every=e=>isFinite(e=Math.floor(e))&&e>0?Rt((n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),((n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)})):null,Mr.range;const[xr,Tr]=wr(Mr,yr,lr,er,Wt,_t),[kr,Nr]=wr(vr,mr,tr,Jt,Qt,Zt);function Cr(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dr(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ur(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}var $r,Sr,Ar,Fr={"-":"",_:" ",0:"0"},Yr=/^\s*\d+/,Hr=/^%/,qr=/[\\^$*+?|[\]().{}]/g;function Or(e,n,t){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<t?new Array(t-i+1).join(n)+a:a)}function Lr(e){return e.replace(qr,"\\$&")}function Rr(e){return new RegExp("^(?:"+e.map(Lr).join("|")+")","i")}function jr(e){return new Map(e.map(((e,n)=>[e.toLowerCase(),n])))}function Er(e,n,t){var r=Yr.exec(n.slice(t,t+1));return r?(e.w=+r[0],t+r[0].length):-1}function Br(e,n,t){var r=Yr.exec(n.slice(t,t+1));return r?(e.u=+r[0],t+r[0].length):-1}function Ir(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.U=+r[0],t+r[0].length):-1}function Xr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.V=+r[0],t+r[0].length):-1}function zr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.W=+r[0],t+r[0].length):-1}function Gr(e,n,t){var r=Yr.exec(n.slice(t,t+4));return r?(e.y=+r[0],t+r[0].length):-1}function Pr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function Vr(e,n,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function Zr(e,n,t){var r=Yr.exec(n.slice(t,t+1));return r?(e.q=3*r[0]-3,t+r[0].length):-1}function _r(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.m=r[0]-1,t+r[0].length):-1}function Qr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.d=+r[0],t+r[0].length):-1}function Wr(e,n,t){var r=Yr.exec(n.slice(t,t+3));return r?(e.m=0,e.d=+r[0],t+r[0].length):-1}function Jr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.H=+r[0],t+r[0].length):-1}function Kr(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.M=+r[0],t+r[0].length):-1}function ea(e,n,t){var r=Yr.exec(n.slice(t,t+2));return r?(e.S=+r[0],t+r[0].length):-1}function na(e,n,t){var r=Yr.exec(n.slice(t,t+3));return r?(e.L=+r[0],t+r[0].length):-1}function ta(e,n,t){var r=Yr.exec(n.slice(t,t+6));return r?(e.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function ra(e,n,t){var r=Hr.exec(n.slice(t,t+1));return r?t+r[0].length:-1}function aa(e,n,t){var r=Yr.exec(n.slice(t));return r?(e.Q=+r[0],t+r[0].length):-1}function ia(e,n,t){var r=Yr.exec(n.slice(t));return r?(e.s=+r[0],t+r[0].length):-1}function oa(e,n){return Or(e.getDate(),n,2)}function ca(e,n){return Or(e.getHours(),n,2)}function ua(e,n){return Or(e.getHours()%12||12,n,2)}function fa(e,n){return Or(1+Jt.count(vr(e),e),n,3)}function la(e,n){return Or(e.getMilliseconds(),n,3)}function sa(e,n){return la(e,n)+"000"}function da(e,n){return Or(e.getMonth()+1,n,2)}function ha(e,n){return Or(e.getMinutes(),n,2)}function ga(e,n){return Or(e.getSeconds(),n,2)}function ba(e){var n=e.getDay();return 0===n?7:n}function pa(e,n){return Or(tr.count(vr(e)-1,e),n,2)}function ma(e){var n=e.getDay();return n>=4||0===n?or(e):or.ceil(e)}function ya(e,n){return e=ma(e),Or(or.count(vr(e),e)+(4===vr(e).getDay()),n,2)}function va(e){return e.getDay()}function Ma(e,n){return Or(rr.count(vr(e)-1,e),n,2)}function wa(e,n){return Or(e.getFullYear()%100,n,2)}function xa(e,n){return Or((e=ma(e)).getFullYear()%100,n,2)}function Ta(e,n){return Or(e.getFullYear()%1e4,n,4)}function ka(e,n){var t=e.getDay();return Or((e=t>=4||0===t?or(e):or.ceil(e)).getFullYear()%1e4,n,4)}function Na(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Or(n/60|0,"0",2)+Or(n%60,"0",2)}function Ca(e,n){return Or(e.getUTCDate(),n,2)}function Da(e,n){return Or(e.getUTCHours(),n,2)}function Ua(e,n){return Or(e.getUTCHours()%12||12,n,2)}function $a(e,n){return Or(1+Kt.count(Mr(e),e),n,3)}function Sa(e,n){return Or(e.getUTCMilliseconds(),n,3)}function Aa(e,n){return Sa(e,n)+"000"}function Fa(e,n){return Or(e.getUTCMonth()+1,n,2)}function Ya(e,n){return Or(e.getUTCMinutes(),n,2)}function Ha(e,n){return Or(e.getUTCSeconds(),n,2)}function qa(e){var n=e.getUTCDay();return 0===n?7:n}function Oa(e,n){return Or(lr.count(Mr(e)-1,e),n,2)}function La(e){var n=e.getUTCDay();return n>=4||0===n?gr(e):gr.ceil(e)}function Ra(e,n){return e=La(e),Or(gr.count(Mr(e),e)+(4===Mr(e).getUTCDay()),n,2)}function ja(e){return e.getUTCDay()}function Ea(e,n){return Or(sr.count(Mr(e)-1,e),n,2)}function Ba(e,n){return Or(e.getUTCFullYear()%100,n,2)}function Ia(e,n){return Or((e=La(e)).getUTCFullYear()%100,n,2)}function Xa(e,n){return Or(e.getUTCFullYear()%1e4,n,4)}function za(e,n){var t=e.getUTCDay();return Or((e=t>=4||0===t?gr(e):gr.ceil(e)).getUTCFullYear()%1e4,n,4)}function Ga(){return"+0000"}function Pa(){return"%"}function Va(e){return+e}function Za(e){return Math.floor(+e/1e3)}function _a(e){return new Date(e)}function Qa(e){return e instanceof Date?+e:+new Date(+e)}function Wa(e,n,t,r,a,i,o,c,u,f){var l=tt(),s=l.invert,d=l.domain,h=f(".%L"),g=f(":%S"),b=f("%I:%M"),p=f("%I %p"),m=f("%a %d"),y=f("%b %d"),v=f("%B"),M=f("%Y");function w(e){return(u(e)<e?h:c(e)<e?g:o(e)<e?b:i(e)<e?p:r(e)<e?a(e)<e?m:y:t(e)<e?v:M)(e)}return l.invert=function(e){return new Date(s(e))},l.domain=function(e){return arguments.length?d(Array.from(e,Qa)):d().map(_a)},l.ticks=function(n){var t=d();return e(t[0],t[t.length-1],null==n?10:n)},l.tickFormat=function(e,n){return null==n?w:f(n)},l.nice=function(e){var t=d();return e&&"function"==typeof e.range||(e=n(t[0],t[t.length-1],null==e?10:e)),e?d(Mt(t,e)):l},l.copy=function(){return et(l,Wa(e,n,t,r,a,i,o,c,u,f))},l}function Ja(){var e,n,t,r,a,i=0,o=1,c=Qn,u=!1;function f(n){return null==n||isNaN(n=+n)?a:c(0===t?.5:(n=(r(n)-e)*t,u?Math.max(0,Math.min(1,n)):n))}function l(e){return function(n){var t,r;return arguments.length?([t,r]=n,c=e(t,r),f):[c(0),c(1)]}}return f.domain=function(a){return arguments.length?([i,o]=a,e=r(i=+i),n=r(o=+o),t=e===n?0:1/(n-e),f):[i,o]},f.clamp=function(e){return arguments.length?(u=!!e,f):u},f.interpolator=function(e){return arguments.length?(c=e,f):c},f.range=l(Cn),f.rangeRound=l(Dn),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return r=a,e=a(i),n=a(o),t=e===n?0:1/(n-e),f}}function Ka(e,n){return n.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ei(){var e=vt(Ja()(Qn));return e.copy=function(){return Ka(e,ei())},z.apply(e,arguments)}function ni(){var e=Ht(Ja());return e.copy=function(){return Ka(e,ni()).exponent(e.exponent())},z.apply(e,arguments)}function ti(){var e,n,t,r,a,i,o,c=0,u=.5,f=1,l=1,s=Qn,d=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-n)*(l*e<l*n?r:a),s(d?Math.max(0,Math.min(1,e)):e))}function g(e){return function(n){var t,r,a;return arguments.length?([t,r,a]=n,s=Pn(e,[t,r,a]),h):[s(0),s(.5),s(1)]}}return h.domain=function(o){return arguments.length?([c,u,f]=o,e=i(c=+c),n=i(u=+u),t=i(f=+f),r=e===n?0:.5/(n-e),a=n===t?0:.5/(t-n),l=n<e?-1:1,h):[c,u,f]},h.clamp=function(e){return arguments.length?(d=!!e,h):d},h.interpolator=function(e){return arguments.length?(s=e,h):s},h.range=g(Cn),h.rangeRound=g(Dn),h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return i=o,e=o(c),n=o(u),t=o(f),r=e===n?0:.5/(n-e),a=n===t?0:.5/(t-n),l=n<e?-1:1,h}}function ri(){var e=Ht(ti());return e.copy=function(){return Ka(e,ri()).exponent(e.exponent())},z.apply(e,arguments)}function ai(){const e=P().unknown(void 0),n=e.domain,t=e.range;let a,i,o=[0,1],c=!1,u=0,f=0,l=.5;function s(){const e=n().length,s=o[1]<o[0],d=o[1-s],h=r(e,u,f);let g=o[s-0];a=(d-g)/(h||1),c&&(a=Math.floor(a)),g+=(d-g-a*(e-u))*l,i=a*(1-u),c&&(g=Math.round(g),i=Math.round(i));const b=function(e,n,t){e=+e,n=+n,t=(a=arguments.length)<2?(n=e,e=0,1):a<3?1:+t;for(var r=-1,a=0|Math.max(0,Math.ceil((n-e)/t)),i=new Array(a);++r<a;)i[r]=e+r*t;return i}(e).map((e=>g+a*e));return t(s?b.reverse():b)}return delete e.unknown,e.domain=function(e){return arguments.length?(n(e),s()):n()},e.range=function(e){return arguments.length?(o=[+e[0],+e[1]],s()):o.slice()},e.rangeRound=function(e){return o=[+e[0],+e[1]],c=!0,s()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(e){return arguments.length?(c=!!e,s()):c},e.padding=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),u=f,s()):u},e.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),s()):u},e.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),s()):f},e.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),s()):l},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const r=o[1]<o[0],a=r?t().reverse():t(),c=a.length-1;let u,f,l,s=+e[0],d=+e[1];return s!=s||d!=d||(d<s&&(l=s,s=d,d=l),d<a[0]||s>o[1-r])?void 0:(u=Math.max(0,A(a,s)-1),f=s===d?u:A(a,d)-1,s-a[u]>i+1e-10&&++u,r&&(l=u,u=c-f,f=c-l),u>f?void 0:n().slice(u,f+1))},e.invert=function(n){const t=e.invertRange([n,n]);return t?t[0]:t},e.copy=function(){return ai().domain(n()).range(o).round(c).paddingInner(u).paddingOuter(f).align(l)},s()}function ii(e){const n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ii(n())},e}!function(e){$r=function(e){var n=e.dateTime,t=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=Rr(a),l=jr(a),s=Rr(i),d=jr(i),h=Rr(o),g=jr(o),b=Rr(c),p=jr(c),m=Rr(u),y=jr(u),v={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:null,d:oa,e:oa,f:sa,g:xa,G:ka,H:ca,I:ua,j:fa,L:la,m:da,M:ha,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Va,s:Za,S:ga,u:ba,U:pa,V:ya,w:va,W:Ma,x:null,X:null,y:wa,Y:Ta,Z:Na,"%":Pa},M={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return c[e.getUTCMonth()]},c:null,d:Ca,e:Ca,f:Aa,g:Ia,G:za,H:Da,I:Ua,j:$a,L:Sa,m:Fa,M:Ya,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Va,s:Za,S:Ha,u:qa,U:Oa,V:Ra,w:ja,W:Ea,x:null,X:null,y:Ba,Y:Xa,Z:Ga,"%":Pa},w={a:function(e,n,t){var r=h.exec(n.slice(t));return r?(e.w=g.get(r[0].toLowerCase()),t+r[0].length):-1},A:function(e,n,t){var r=s.exec(n.slice(t));return r?(e.w=d.get(r[0].toLowerCase()),t+r[0].length):-1},b:function(e,n,t){var r=m.exec(n.slice(t));return r?(e.m=y.get(r[0].toLowerCase()),t+r[0].length):-1},B:function(e,n,t){var r=b.exec(n.slice(t));return r?(e.m=p.get(r[0].toLowerCase()),t+r[0].length):-1},c:function(e,t,r){return k(e,n,t,r)},d:Qr,e:Qr,f:ta,g:Pr,G:Gr,H:Jr,I:Jr,j:Wr,L:na,m:_r,M:Kr,p:function(e,n,t){var r=f.exec(n.slice(t));return r?(e.p=l.get(r[0].toLowerCase()),t+r[0].length):-1},q:Zr,Q:aa,s:ia,S:ea,u:Br,U:Ir,V:Xr,w:Er,W:zr,x:function(e,n,r){return k(e,t,n,r)},X:function(e,n,t){return k(e,r,n,t)},y:Pr,Y:Gr,Z:Vr,"%":ra};function x(e,n){return function(t){var r,a,i,o=[],c=-1,u=0,f=e.length;for(t instanceof Date||(t=new Date(+t));++c<f;)37===e.charCodeAt(c)&&(o.push(e.slice(u,c)),null!=(a=Fr[r=e.charAt(++c)])?r=e.charAt(++c):a="e"===r?" ":"0",(i=n[r])&&(r=i(t,a)),o.push(r),u=c+1);return o.push(e.slice(u,c)),o.join("")}}function T(e,n){return function(t){var r,a,i=Ur(1900,void 0,1);if(k(i,e,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(n&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Dr(Ur(i.y,0,1))).getUTCDay(),r=a>4||0===a?sr.ceil(r):sr(r),r=Kt.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Cr(Ur(i.y,0,1))).getDay(),r=a>4||0===a?rr.ceil(r):rr(r),r=Jt.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Dr(Ur(i.y,0,1)).getUTCDay():Cr(Ur(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Dr(i)):Cr(i)}}function k(e,n,t,r){for(var a,i,o=0,c=n.length,u=t.length;o<c;){if(r>=u)return-1;if(37===(a=n.charCodeAt(o++))){if(a=n.charAt(o++),!(i=w[a in Fr?n.charAt(o++):a])||(r=i(e,t,r))<0)return-1}else if(a!=t.charCodeAt(r++))return-1}return r}return v.x=x(t,v),v.X=x(r,v),v.c=x(n,v),M.x=x(t,M),M.X=x(r,M),M.c=x(n,M),{format:function(e){var n=x(e+="",v);return n.toString=function(){return e},n},parse:function(e){var n=T(e+="",!1);return n.toString=function(){return e},n},utcFormat:function(e){var n=x(e+="",M);return n.toString=function(){return e},n},utcParse:function(e){var n=T(e+="",!0);return n.toString=function(){return e},n}}}(e),Sr=$r.format,$r.parse,Ar=$r.utcFormat,$r.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var oi=Array.prototype.map;const ci=Array.prototype.slice;const ui=new Map,fi=Symbol("vega_scale");function li(e){return e[fi]=!0,e}function si(e,t,r){return arguments.length>1?(ui.set(e,function(e,t,r){const a=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(n){let t,r=n[0],a=n[1];return a<r&&(t=r,r=a,a=t),[e.invert(r),e.invert(a)]}}(n):n.invertExtent?function(e){return function(n){const t=e.range();let r,a,i,o,c=n[0],u=n[1],f=-1;for(u<c&&(a=c,c=u,u=a),i=0,o=t.length;i<o;++i)t[i]>=c&&t[i]<=u&&(f<0&&(f=i),r=i);if(!(f<0))return c=e.invertExtent(t[f]),u=e.invertExtent(t[r]),[void 0===c[0]?c[1]:c[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,li(n)};return a.metadata=n.toSet(n.array(r)),a}(e,t,r)),this):di(e)?ui.get(e):void 0}function di(e){return ui.has(e)}function hi(e,n){const t=ui.get(e);return t&&t.metadata[n]}function gi(e){return hi(e,x)}function bi(e){return hi(e,T)}function pi(e){return hi(e,o)}function mi(e){return hi(e,N)}si(a,(function e(n){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(n=Array.from(e,Zn),r):n.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return e(n).unknown(t)},n=arguments.length?Array.from(n,Zn):[0,1],vt(r)})),si(i,(function e(){var n=tt();return n.copy=function(){return et(n,e())},X.apply(n,arguments),vt(n)}),w),si(o,(function e(){const n=Dt(nt()).domain([1,10]);return n.copy=()=>et(n,e()).base(n.base()),X.apply(n,arguments),n}),[w,o]),si(c,qt,w),si(u,(function(){return qt.apply(null,arguments).exponent(.5)}),w),si(f,(function e(){var n=St(nt());return n.copy=function(){return et(n,e()).constant(n.constant())},X.apply(n,arguments)}),w),si(l,(function(){return X.apply(Wa(kr,Nr,vr,mr,tr,Jt,Qt,Zt,Vt,Sr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[w,N]),si(s,(function(){return X.apply(Wa(xr,Tr,Mr,yr,lr,Kt,Wt,_t,Vt,Ar).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[w,N]),si(d,ei,[w,k]),si(`${d}-${i}`,ei,[w,k]),si(`${d}-${o}`,(function e(){var n=Dt(Ja()).domain([1,10]);return n.copy=function(){return Ka(n,e()).base(n.base())},z.apply(n,arguments)}),[w,k,o]),si(`${d}-${c}`,ni,[w,k]),si(`${d}-${u}`,(function(){return ni.apply(null,arguments).exponent(.5)}),[w,k]),si(`${d}-${f}`,(function e(){var n=St(Ja());return n.copy=function(){return Ka(n,e()).constant(n.constant())},z.apply(n,arguments)}),[w,k]),si(`${h}-${i}`,(function e(){var n=vt(ti()(Qn));return n.copy=function(){return Ka(n,e())},z.apply(n,arguments)}),[w,k]),si(`${h}-${o}`,(function e(){var n=Dt(ti()).domain([.1,1,10]);return n.copy=function(){return Ka(n,e()).base(n.base())},z.apply(n,arguments)}),[w,k,o]),si(`${h}-${c}`,ri,[w,k]),si(`${h}-${u}`,(function(){return ri.apply(null,arguments).exponent(.5)}),[w,k]),si(`${h}-${f}`,(function e(){var n=St(ti());return n.copy=function(){return Ka(n,e()).constant(n.constant())},z.apply(n,arguments)}),[w,k]),si(g,(function e(){var n,t=[],r=[],a=[];function i(){var e=0,n=Math.max(1,r.length);for(a=new Array(n-1);++e<n;)a[e-1]=I(t,e/n);return o}function o(e){return null==e||isNaN(e=+e)?n:r[A(a,e)]}return o.invertExtent=function(e){var n=r.indexOf(e);return n<0?[NaN,NaN]:[n>0?a[n-1]:t[0],n<a.length?a[n]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(C),i()},o.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},o.unknown=function(e){return arguments.length?(n=e,o):n},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(t).range(r).unknown(n)},X.apply(o,arguments)}),[T,g]),si(b,(function e(){var n,t=0,r=1,a=1,i=[.5],o=[0,1];function c(e){return null!=e&&e<=e?o[A(i,e,0,a)]:n}function u(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*r-(e-a)*t)/(a+1);return c}return c.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,u()):[t,r]},c.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,u()):o.slice()},c.invertExtent=function(e){var n=o.indexOf(e);return n<0?[NaN,NaN]:n<1?[t,i[0]]:n>=a?[i[a-1],r]:[i[n-1],i[n]]},c.unknown=function(e){return arguments.length?(n=e,c):c},c.thresholds=function(){return i.slice()},c.copy=function(){return e().domain([t,r]).range(o).unknown(n)},X.apply(vt(c),arguments)}),T),si(p,(function e(){var n,t=[.5],r=[0,1],a=1;function i(e){return null!=e&&e<=e?r[A(t,e,0,a)]:n}return i.domain=function(e){return arguments.length?(t=Array.from(e),a=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),a=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return e().domain(t).range(r).unknown(n)},X.apply(i,arguments)}),T),si(M,(function e(){let t=[],r=[];function a(e){return null==e||e!=e?void 0:r[(A(t,e)-1)%r.length]}return a.domain=function(e){return arguments.length?(t=function(e){return oi.call(e,n.toNumber)}(e),a):t.slice()},a.range=function(e){return arguments.length?(r=ci.call(e),a):r.slice()},a.tickFormat=function(e,r){return yt(t[0],n.peek(t),null==e?10:e,r)},a.copy=function(){return e().domain(a.domain()).range(a.range())},a}),[x,T]),si(m,P,x),si(v,ai,x),si(y,(function(){return ii(ai().paddingInner(1))}),x);const yi=["clamp","base","constant","exponent"];function vi(e,n,t){return Pn(Mi(n||"rgb",t),e)}function Mi(e,n){const t=Vn[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=n&&t&&t.gamma?t.gamma(n):t}function wi(e){for(var n=e.length/6|0,t=new Array(n),r=0;r<n;)t[r]="#"+e.slice(6*r,6*++r);return t}var xi=wi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ti=wi("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ki=wi("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ni=wi("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Ci=wi("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Di=wi("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ui=wi("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$i=wi("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Si=wi("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Ai=wi("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function Fi(e){if(n.isArray(e))return e;const t=e.length/6|0,r=new Array(t);for(let n=0;n<t;)r[n]="#"+e.slice(6*n,6*++n);return r}function Yi(e,n){for(const t in e)qi(t,n(e[t]))}const Hi={};function qi(e,n){return e=e&&e.toLowerCase(),arguments.length>1?(Hi[e]=n,this):Hi[e]}Yi({accent:Ti,category10:xi,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:ki,observable10:Ni,paired:Ci,pastel1:Di,pastel2:Ui,set1:$i,set2:Si,set3:Ai,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"},Fi),Yi({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>vi(Fi(e))));const Oi="symbol",Li="discrete",Ri=e=>n.isArray(e)?e.map((e=>String(e))):String(e),ji=(e,n)=>e[1]-n[1],Ei=(e,n)=>n[1]-e[1];function Bi(e,t,r){let a=e.range(),i=a[0],o=n.peek(a),c=ji;if(i>o&&(a=o,o=i,i=a,c=Ei),i=Math.floor(i),o=Math.ceil(o),t=t.map((n=>[n,e(n)])).filter((e=>i<=e[1]&&e[1]<=o)).sort(c).map((e=>e[0])),r>0&&t.length>1){const e=[t[0],n.peek(t)];for(;t.length>r&&t.length>=3;)t=t.filter(((e,n)=>!(n%2)));t.length<3&&(t=e)}return t}function Ii(e,n){return e.bins?Bi(e,e.bins,n):e.ticks?e.ticks(n):e.domain()}function Xi(e,n,t,r,a,i){const o=n.type;let c=Ri;if(o===l||a===l)c=e.timeFormat(r);else if(o===s||a===s)c=e.utcFormat(r);else if(pi(o)){const a=e.formatFloat(r);if(i||n.bins)c=a;else{const e=zi(n,t,!1);c=n=>e(n)?a(n):""}}else if(n.tickFormat){const a=n.domain();c=e.formatSpan(a[0],a[a.length-1],t,r)}else r&&(c=e.format(r));return c}function zi(e,n,t){const r=Ii(e,n),a=e.base(),i=Math.log(a),o=Math.max(1,a*n/r.length),c=e=>{let n=e/Math.pow(a,Math.round(Math.log(e)/i));return n*a<a-.5&&(n*=a),n<=o};return t?r.filter(c):c}const Gi={[g]:"quantiles",[b]:"thresholds",[p]:"domain"},Pi={[g]:"quantiles",[b]:"domain"};function Vi(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=n.peek(e),t}(e.bins):e.type===o?zi(e,t,!0):Gi[e.type]?function(e){const n=[-1/0].concat(e);return n.max=1/0,n}(e[Gi[e.type]]()):Ii(e,t)}const Zi=e=>Gi[e.type]||e.bins;function _i(e,n,t,r,a,i,o){const c=Pi[n.type]&&i!==l&&i!==s?function(e,n,t){const r=n[Pi[n.type]](),a=r.length;let i,o=a>1?r[1]-r[0]:r[0];for(i=1;i<a;++i)o=Math.min(o,r[i]-r[i-1]);return e.formatSpan(0,o,30,t)}(e,n,a):Xi(e,n,t,a,i,o);return r===Oi&&Zi(n)?Qi(c):r===Li?Ji(c):Ki(c)}const Qi=e=>(n,t,r)=>{const a=Wi(r[t+1],Wi(r.max,1/0)),i=eo(n,e),o=eo(a,e);return i&&o?i+" – "+o:o?"< "+o:"≥ "+i},Wi=(e,n)=>null!=e?e:n,Ji=e=>(n,t)=>t?e(n):null,Ki=e=>n=>e(n),eo=(e,n)=>Number.isFinite(e)?n(e):null;e.Band=v,e.BinOrdinal=M,e.DiscreteLegend=Li,e.Diverging=h,e.GradientLegend="gradient",e.Identity=a,e.Linear=i,e.Log=o,e.Ordinal=m,e.Point=y,e.Pow=c,e.Quantile=g,e.Quantize=b,e.Sequential=d,e.Sqrt=u,e.SymbolLegend=Oi,e.Symlog=f,e.Threshold=p,e.Time=l,e.UTC=s,e.bandSpace=r,e.domainCaption=function(e,t,r){r=r||{};const a=Math.max(3,r.maxlen||7),i=function(e,t,r,a){const i=a||t.type;return n.isString(r)&&mi(i)&&(r=r.replace(/%a/g,"%A").replace(/%b/g,"%B")),r||i!==l?r||i!==s?_i(e,t,5,null,r,a,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,r.format,r.formatType);if(bi(t.type)){const e=Vi(t).slice(1).map(i),n=e.length;return`${n} boundar${1===n?"y":"ies"}: ${e.join(", ")}`}if(gi(t.type)){const e=t.domain(),n=e.length;return`${n} value${1===n?"":"s"}: ${n>a?e.slice(0,a-2).map(i).join(", ")+", ending with "+e.slice(-1).map(i):e.map(i).join(", ")}`}{const e=t.domain();return`values from ${i(e[0])} to ${i(n.peek(e))}`}},e.interpolate=Mi,e.interpolateColors=vi,e.interpolateRange=function(e,t){const r=t[0],a=n.peek(t)-r;return function(n){return e(r+n*a)}},e.isContinuous=function(e){return hi(e,w)},e.isDiscrete=gi,e.isDiscretizing=bi,e.isInterpolating=function(e){return hi(e,k)},e.isLogarithmic=pi,e.isQuantile=function(e){return hi(e,g)},e.isRegisteredScale=function(e){return e&&!0===e[fi]},e.isTemporal=mi,e.isValidScaleType=di,e.labelFormat=_i,e.labelFraction=function(e){const t=e.domain(),r=t.length-1;let a=+t[0],i=+n.peek(t),o=i-a;if(e.type===p){const e=r?o/r:.1;a-=e,i+=e,o=i-a}return e=>(e-a)/o},e.labelValues=Vi,e.quantizeInterpolator=function(e,n){const t=new Array(n),r=n+1;for(let a=0;a<n;)t[a]=e(++a/r);return t},e.registerScale=li,e.scale=si,e.scaleCopy=function(e){const n=e.type,t=e.copy();return t.type=n,t},e.scaleFraction=function(e,t,r){const a=r-t;let i,o,c;return a&&Number.isFinite(a)?(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),c=si(o)().domain([t,r]).range([0,1]),yi.forEach((n=>e[n]?c[n](e[n]()):0)),c):n.constant(.5)},e.scaleImplicit=G,e.scheme=qi,e.tickCount=function(e,r,a){let i;return n.isNumber(r)&&(e.bins&&(r=Math.max(r,e.bins.length)),null!=a&&(r=Math.min(r,Math.floor(n.span(e.domain())/a||1)+1))),n.isObject(r)&&(i=r.step,r=r.interval),n.isString(r)&&(r=e.type===l?t.timeInterval(r):e.type==s?t.utcInterval(r):n.error("Only time and utc scales accept interval strings."),i&&(r=r.every(i))),r},e.tickFormat=Xi,e.tickValues=Ii,e.validTicks=Bi}));
//# sourceMappingURL=vega-scale.min.js.map
