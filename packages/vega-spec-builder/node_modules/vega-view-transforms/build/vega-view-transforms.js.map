{"version":3,"file":"vega-view-transforms.js","sources":["../src/constants.js","../src/Bound.js","../src/Identifier.js","../src/Mark.js","../src/Overlap.js","../src/Render.js","../src/layout/util.js","../src/layout/axis.js","../src/layout/grid.js","../src/layout/legend.js","../src/layout/title.js","../src/ViewLayout.js"],"sourcesContent":["export const Top = 'top';\nexport const Left = 'left';\nexport const Right = 'right';\nexport const Bottom = 'bottom';\n\nexport const TopLeft = 'top-left';\nexport const TopRight = 'top-right';\nexport const BottomLeft = 'bottom-left';\nexport const BottomRight = 'bottom-right';\n\nexport const Start = 'start';\nexport const Middle = 'middle';\nexport const End = 'end';\n\nexport const X = 'x';\nexport const Y = 'y';\n\nexport const Group = 'group';\n\nexport const AxisRole = 'axis';\nexport const TitleRole = 'title';\nexport const FrameRole = 'frame';\nexport const ScopeRole = 'scope';\nexport const LegendRole = 'legend';\n\nexport const RowHeader = 'row-header';\nexport const RowFooter = 'row-footer';\nexport const RowTitle  = 'row-title';\nexport const ColHeader = 'column-header';\nexport const ColFooter = 'column-footer';\nexport const ColTitle  = 'column-title';\n\nexport const Padding = 'padding';\n\nexport const Symbols = 'symbol';\n\nexport const Fit  = 'fit';\nexport const FitX = 'fit-x';\nexport const FitY = 'fit-y';\nexport const Pad  = 'pad';\nexport const None = 'none';\n\nexport const All = 'all';\nexport const Each = 'each';\nexport const Flush = 'flush';\n\nexport const Column = 'column';\nexport const Row = 'row';\n","import {AxisRole, Group, LegendRole, TitleRole} from './constants.js';\nimport {Transform} from 'vega-dataflow';\nimport {Marks, boundClip} from 'vega-scenegraph';\nimport {inherits} from 'vega-util';\n\n/**\n * Calculate bounding boxes for scenegraph items.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {object} params.mark - The scenegraph mark instance to bound.\n */\nexport default function Bound(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(Bound, Transform, {\n  transform(_, pulse) {\n    const view = pulse.dataflow,\n          mark = _.mark,\n          type = mark.marktype,\n          entry = Marks[type],\n          bound = entry.bound;\n\n    let markBounds = mark.bounds, rebound;\n\n    if (entry.nested) {\n      // multi-item marks have a single bounds instance\n      if (mark.items.length) view.dirty(mark.items[0]);\n      markBounds = boundItem(mark, bound);\n      mark.items.forEach(item => {\n        item.bounds.clear().union(markBounds);\n      });\n    }\n\n    else if (type === Group || _.modified()) {\n      // operator parameters modified -> re-bound all items\n      // updates group bounds in response to modified group content\n      pulse.visit(pulse.MOD, item => view.dirty(item));\n      markBounds.clear();\n      mark.items.forEach(item => markBounds.union(boundItem(item, bound)));\n\n      // force reflow for axes/legends/titles to propagate any layout changes\n      switch (mark.role) {\n        case AxisRole:\n        case LegendRole:\n        case TitleRole:\n          pulse.reflow();\n      }\n    }\n\n    else {\n      // incrementally update bounds, re-bound mark as needed\n      rebound = pulse.changed(pulse.REM);\n\n      pulse.visit(pulse.ADD, item => {\n        markBounds.union(boundItem(item, bound));\n      });\n\n      pulse.visit(pulse.MOD, item => {\n        rebound = rebound || markBounds.alignsWith(item.bounds);\n        view.dirty(item);\n        markBounds.union(boundItem(item, bound));\n      });\n\n      if (rebound) {\n        markBounds.clear();\n        mark.items.forEach(item => markBounds.union(item.bounds));\n      }\n    }\n\n    // ensure mark bounds do not exceed any clipping region\n    boundClip(mark);\n\n    return pulse.modifies('bounds');\n  }\n});\n\nfunction boundItem(item, bound, opt) {\n  return bound(item.bounds.clear(), item, opt);\n}\n","import {Transform} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\nconst COUNTER_NAME = ':vega_identifier:';\n\n/**\n * Adds a unique identifier to all added tuples.\n * This transform creates a new signal that serves as an id counter.\n * As a result, the id counter is shared across all instances of this\n * transform, generating unique ids across multiple data streams. In\n * addition, this signal value can be included in a snapshot of the\n * dataflow state, enabling correct resumption of id allocation.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {string} params.as - The field name for the generated identifier.\n */\nexport default function Identifier(params) {\n  Transform.call(this, 0, params);\n}\n\nIdentifier.Definition = {\n  'type': 'Identifier',\n  'metadata': {'modifies': true},\n  'params': [\n    { 'name': 'as', 'type': 'string', 'required': true }\n  ]\n};\n\ninherits(Identifier, Transform, {\n  transform(_, pulse) {\n    const counter = getCounter(pulse.dataflow),\n          as = _.as;\n    let id = counter.value;\n\n    pulse.visit(pulse.ADD, t => (t[as] = t[as] || ++id));\n    counter.set(this.value = id);\n    return pulse;\n  }\n});\n\nfunction getCounter(view) {\n  return view._signals[COUNTER_NAME]\n     || (view._signals[COUNTER_NAME] = view.add(0));\n}\n","import {Group} from './constants.js';\nimport {Transform} from 'vega-dataflow';\nimport {GroupItem, Item} from 'vega-scenegraph';\nimport {inherits} from 'vega-util';\n\n/**\n * Bind scenegraph items to a scenegraph mark instance.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {object} params.markdef - The mark definition for creating the mark.\n *   This is an object of legal scenegraph mark properties which *must* include\n *   the 'marktype' property.\n */\nexport default function Mark(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(Mark, Transform, {\n  transform(_, pulse) {\n    let mark = this.value;\n\n    // acquire mark on first invocation, bind context and group\n    if (!mark) {\n      mark = pulse.dataflow.scenegraph().mark(_.markdef, lookup(_), _.index);\n      mark.group.context = _.context;\n      if (!_.context.group) _.context.group = mark.group;\n      mark.source = this.source; // point to upstream collector\n      mark.clip = _.clip;\n      mark.interactive = _.interactive;\n      this.value = mark;\n    }\n\n    // initialize entering items\n    const Init = mark.marktype === Group ? GroupItem : Item;\n    pulse.visit(pulse.ADD, item => Init.call(item, mark));\n\n    // update clipping and/or interactive status\n    if (_.modified('clip') || _.modified('interactive')) {\n      mark.clip = _.clip;\n      mark.interactive = !!_.interactive;\n      mark.zdirty = true; // force scenegraph re-eval\n      pulse.reflow();\n    }\n\n    // bind items array to scenegraph mark\n    mark.items = pulse.source;\n    return pulse;\n  }\n});\n\nfunction lookup(_) {\n  const g = _.groups, p = _.parent;\n  return g && g.size === 1 ? g.get(Object.keys(g.object)[0])\n    : g && p ? g.lookup(p)\n    : null;\n}\n","import {Bottom, Top} from './constants.js';\nimport {Transform} from 'vega-dataflow';\nimport {Bounds} from 'vega-scenegraph';\nimport {inherits, peek} from 'vega-util';\n\n/**\n * Analyze items for overlap, changing opacity to hide items with\n * overlapping bounding boxes. This transform will preserve at least\n * two items (e.g., first and last) even if overlap persists.\n * @param {object} params - The parameters for this operator.\n * @param {function(*,*): number} [params.sort] - A comparator\n *   function for sorting items.\n * @param {object} [params.method] - The overlap removal method to apply.\n *   One of 'parity' (default, hide every other item until there is no\n *   more overlap) or 'greedy' (sequentially scan and hide and items that\n *   overlap with the last visible item).\n * @param {object} [params.boundScale] - A scale whose range should be used\n *   to bound the items. Items exceeding the bounds of the scale range\n *   will be treated as overlapping. If null or undefined, no bounds check\n *   will be applied.\n * @param {object} [params.boundOrient] - The orientation of the scale\n *   (top, bottom, left, or right) used to bound items. This parameter is\n *   ignored if boundScale is null or undefined.\n * @param {object} [params.boundTolerance] - The tolerance in pixels for\n *   bound inclusion testing (default 1). This specifies by how many pixels\n *   an item's bounds may exceed the scale range bounds and not be culled.\n * @constructor\n */\nexport default function Overlap(params) {\n  Transform.call(this, null, params);\n}\n\nconst methods = {\n  parity: items =>\n    items.filter((item, i) => i % 2 ? (item.opacity = 0) : 1),\n  greedy: (items, sep) => {\n    let a;\n    return items.filter((b, i) =>\n      (!i || !intersect(a.bounds, b.bounds, sep))\n        ? (a = b, 1)\n        : (b.opacity = 0)\n    );\n  }\n};\n\n// compute bounding box intersection\n// including padding pixels of separation\nconst intersect = (a, b, sep) =>\n  sep > Math.max(b.x1 - a.x2, a.x1 - b.x2, b.y1 - a.y2, a.y1 - b.y2);\n\nconst hasOverlap = (items, pad) => {\n  for (var i=1, n=items.length, a=items[0].bounds, b; i<n; a=b, ++i) {\n    if (intersect(a, b = items[i].bounds, pad)) return true;\n  }\n};\n\nconst hasBounds = item => {\n  const b = item.bounds;\n  return b.width() > 1 && b.height() > 1;\n};\n\nconst boundTest = (scale, orient, tolerance) => {\n  var range = scale.range(),\n      b = new Bounds();\n\n  if (orient === Top || orient === Bottom) {\n    b.set(range[0], -Infinity, range[1], +Infinity);\n  } else {\n    b.set(-Infinity, range[0], +Infinity, range[1]);\n  }\n  b.expand(tolerance || 1);\n\n  return item => b.encloses(item.bounds);\n};\n\n// reset all items to be fully opaque\nconst reset = source => {\n  source.forEach(item => item.opacity = 1);\n  return source;\n};\n\n// add all tuples to mod, fork pulse if parameters were modified\n// fork prevents cross-stream tuple pollution (e.g., pulse from scale)\nconst reflow = (pulse, _) =>\n  pulse.reflow(_.modified()).modifies('opacity');\n\ninherits(Overlap, Transform, {\n  transform(_, pulse) {\n    const reduce = methods[_.method] || methods.parity,\n          sep = _.separation || 0;\n\n    let source = pulse.materialize(pulse.SOURCE).source,\n        items, test;\n\n    if (!source || !source.length) return;\n\n    if (!_.method) {\n      // early exit if method is falsy\n      if (_.modified('method')) {\n        reset(source);\n        pulse = reflow(pulse, _);\n      }\n      return pulse;\n    }\n\n    // skip labels with no content\n    source = source.filter(hasBounds);\n\n    // early exit, nothing to do\n    if (!source.length) return;\n\n    if (_.sort) {\n      source = source.slice().sort(_.sort);\n    }\n\n    items = reset(source);\n    pulse = reflow(pulse, _);\n\n    if (items.length >= 3 && hasOverlap(items, sep)) {\n      do {\n        items = reduce(items, sep);\n      } while (items.length >= 3 && hasOverlap(items, sep));\n\n      if (items.length < 3 && !peek(source).opacity) {\n        if (items.length > 1) peek(items).opacity = 0;\n        peek(source).opacity = 1;\n      }\n    }\n\n    if (_.boundScale && _.boundTolerance >= 0) {\n      test = boundTest(_.boundScale, _.boundOrient, +_.boundTolerance);\n      source.forEach(item => {\n        if (!test(item)) item.opacity = 0;\n      });\n    }\n\n    // re-calculate mark bounds\n    const bounds = items[0].mark.bounds.clear();\n    source.forEach(item => {\n      if (item.opacity) bounds.union(item.bounds);\n    });\n\n    return pulse;\n  }\n});\n","import {Transform} from 'vega-dataflow';\nimport {inherits} from 'vega-util';\n\n/**\n * Queue modified scenegraph items for rendering.\n * @constructor\n */\nexport default function Render(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(Render, Transform, {\n  transform(_, pulse) {\n    const view = pulse.dataflow;\n\n    pulse.visit(pulse.ALL, item => view.dirty(item));\n\n    // set z-index dirty flag as needed\n    if (pulse.fields && pulse.fields['zindex']) {\n      const item = pulse.source && pulse.source[0];\n      if (item) item.mark.zdirty = true;\n    }\n  }\n});\n","import {Bounds} from 'vega-scenegraph';\n\nexport const tempBounds = new Bounds();\n\nexport function set(item, property, value) {\n  return item[property] === value ? 0\n    : (item[property] = value, 1);\n}","import {Bottom, Left, Right, Top} from '../constants.js';\nimport {set, tempBounds} from './util.js';\nimport {boundStroke, multiLineOffset} from 'vega-scenegraph';\n\nexport function isYAxis(mark) {\n  var orient = mark.items[0].orient;\n  return orient === Left || orient === Right;\n}\n\nfunction axisIndices(datum) {\n  let index = +datum.grid;\n  return [\n    datum.ticks  ? index++ : -1, // ticks index\n    datum.labels ? index++ : -1, // labels index\n    index + (+datum.domain)      // title index\n  ];\n}\n\nexport function axisLayout(view, axis, width, height) {\n  var item = axis.items[0],\n      datum = item.datum,\n      delta = item.translate != null ? item.translate : 0.5,\n      orient = item.orient,\n      indices = axisIndices(datum),\n      range = item.range,\n      offset = item.offset,\n      position = item.position,\n      minExtent = item.minExtent,\n      maxExtent = item.maxExtent,\n      title = datum.title && item.items[indices[2]].items[0],\n      titlePadding = item.titlePadding,\n      bounds = item.bounds,\n      dl = title && multiLineOffset(title),\n      x = 0, y = 0, i, s;\n\n  tempBounds.clear().union(bounds);\n  bounds.clear();\n  if ((i=indices[0]) > -1) bounds.union(item.items[i].bounds);\n  if ((i=indices[1]) > -1) bounds.union(item.items[i].bounds);\n\n  // position axis group and title\n  switch (orient) {\n    case Top:\n      x = position || 0;\n      y = -offset;\n      s = Math.max(minExtent, Math.min(maxExtent, -bounds.y1));\n      bounds.add(0, -s).add(range, 0);\n      if (title) axisTitleLayout(view, title, s, titlePadding, dl, 0, -1, bounds);\n      break;\n    case Left:\n      x = -offset;\n      y = position || 0;\n      s = Math.max(minExtent, Math.min(maxExtent, -bounds.x1));\n      bounds.add(-s, 0).add(0, range);\n      if (title) axisTitleLayout(view, title, s, titlePadding, dl, 1, -1, bounds);\n      break;\n    case Right:\n      x = width + offset;\n      y = position || 0;\n      s = Math.max(minExtent, Math.min(maxExtent, bounds.x2));\n      bounds.add(0, 0).add(s, range);\n      if (title) axisTitleLayout(view, title, s, titlePadding, dl, 1, 1, bounds);\n      break;\n    case Bottom:\n      x = position || 0;\n      y = height + offset;\n      s = Math.max(minExtent, Math.min(maxExtent, bounds.y2));\n      bounds.add(0, 0).add(range, s);\n      if (title) axisTitleLayout(view, title, s, titlePadding, 0, 0, 1, bounds);\n      break;\n    default:\n      x = item.x;\n      y = item.y;\n  }\n\n  // update bounds\n  boundStroke(bounds.translate(x, y), item);\n\n  if (set(item, 'x', x + delta) | set(item, 'y', y + delta)) {\n    item.bounds = tempBounds;\n    view.dirty(item);\n    item.bounds = bounds;\n    view.dirty(item);\n  }\n\n  return item.mark.bounds.clear().union(bounds);\n}\n\nfunction axisTitleLayout(view, title, offset, pad, dl, isYAxis, sign, bounds) {\n  const b = title.bounds;\n\n  if (title.auto) {\n    const v = sign * (offset + dl + pad);\n    let dx = 0, dy = 0;\n\n    view.dirty(title);\n    isYAxis\n      ? dx = (title.x || 0) - (title.x = v)\n      : dy = (title.y || 0) - (title.y = v);\n    title.mark.bounds.clear().union(b.translate(-dx, -dy));\n    view.dirty(title);\n  }\n\n  bounds.union(b);\n}\n","import {\n  All, AxisRole, ColFooter, ColHeader, ColTitle, Column, Each, End, Flush,\n  Group, LegendRole, Middle, Row,\n  RowFooter, RowHeader, RowTitle,\n  TitleRole, X, Y\n} from '../constants.js';\nimport {tempBounds} from './util.js';\nimport {Bounds} from 'vega-scenegraph';\nimport {isObject} from 'vega-util';\n\n// aggregation functions for grid margin determination\nconst min = (a, b) => Math.floor(Math.min(a, b));\nconst max = (a, b) => Math.ceil(Math.max(a, b));\n\nfunction gridLayoutGroups(group) {\n  var groups = group.items,\n      n = groups.length,\n      i = 0, mark, items;\n\n  const views = {\n    marks:      [],\n    rowheaders: [],\n    rowfooters: [],\n    colheaders: [],\n    colfooters: [],\n    rowtitle: null,\n    coltitle: null\n  };\n\n  // layout axes, gather legends, collect bounds\n  for (; i<n; ++i) {\n    mark = groups[i];\n    items = mark.items;\n    if (mark.marktype === Group) {\n      switch (mark.role) {\n        case AxisRole:\n        case LegendRole:\n        case TitleRole:\n          break;\n        case RowHeader: views.rowheaders.push(...items); break;\n        case RowFooter: views.rowfooters.push(...items); break;\n        case ColHeader: views.colheaders.push(...items); break;\n        case ColFooter: views.colfooters.push(...items); break;\n        case RowTitle:  views.rowtitle = items[0]; break;\n        case ColTitle:  views.coltitle = items[0]; break;\n        default:        views.marks.push(...items);\n      }\n    }\n  }\n\n  return views;\n}\n\nfunction bboxFlush(item) {\n  return new Bounds().set(0, 0, item.width || 0, item.height || 0);\n}\n\nfunction bboxFull(item) {\n  const b = item.bounds.clone();\n  return b.empty()\n    ? b.set(0, 0, 0, 0)\n    : b.translate(-(item.x || 0), -(item.y || 0));\n}\n\nfunction get(opt, key, d) {\n  const v = isObject(opt) ? opt[key] : opt;\n  return v != null ? v : (d !== undefined ? d : 0);\n}\n\nfunction offsetValue(v) {\n  return v < 0 ? Math.ceil(-v) : 0;\n}\n\nexport function gridLayout(view, groups, opt) {\n  var dirty = !opt.nodirty,\n      bbox = opt.bounds === Flush ? bboxFlush : bboxFull,\n      bounds = tempBounds.set(0, 0, 0, 0),\n      alignCol = get(opt.align, Column),\n      alignRow = get(opt.align, Row),\n      padCol = get(opt.padding, Column),\n      padRow = get(opt.padding, Row),\n      ncols = opt.columns || groups.length,\n      nrows = ncols <= 0 ? 1 : Math.ceil(groups.length / ncols),\n      n = groups.length,\n      xOffset = Array(n), xExtent = Array(ncols), xMax = 0,\n      yOffset = Array(n), yExtent = Array(nrows), yMax = 0,\n      dx = Array(n), dy = Array(n), boxes = Array(n),\n      m, i, c, r, b, g, px, py, x, y, offset;\n\n  for (i=0; i<ncols; ++i) xExtent[i] = 0;\n  for (i=0; i<nrows; ++i) yExtent[i] = 0;\n\n  // determine offsets for each group\n  for (i=0; i<n; ++i) {\n    g = groups[i];\n    b = boxes[i] = bbox(g);\n    g.x = g.x || 0; dx[i] = 0;\n    g.y = g.y || 0; dy[i] = 0;\n    c = i % ncols;\n    r = ~~(i / ncols);\n    xMax = Math.max(xMax, px = Math.ceil(b.x2));\n    yMax = Math.max(yMax, py = Math.ceil(b.y2));\n    xExtent[c] = Math.max(xExtent[c], px);\n    yExtent[r] = Math.max(yExtent[r], py);\n    xOffset[i] = padCol + offsetValue(b.x1);\n    yOffset[i] = padRow + offsetValue(b.y1);\n    if (dirty) view.dirty(groups[i]);\n  }\n\n  // set initial alignment offsets\n  for (i=0; i<n; ++i) {\n    if (i % ncols === 0) xOffset[i] = 0;\n    if (i < ncols) yOffset[i] = 0;\n  }\n\n  // enforce column alignment constraints\n  if (alignCol === Each) {\n    for (c=1; c<ncols; ++c) {\n      for (offset=0, i=c; i<n; i += ncols) {\n        if (offset < xOffset[i]) offset = xOffset[i];\n      }\n      for (i=c; i<n; i += ncols) {\n        xOffset[i] = offset + xExtent[c-1];\n      }\n    }\n  } else if (alignCol === All) {\n    for (offset=0, i=0; i<n; ++i) {\n      if (i % ncols && offset < xOffset[i]) offset = xOffset[i];\n    }\n    for (i=0; i<n; ++i) {\n      if (i % ncols) xOffset[i] = offset + xMax;\n    }\n  } else {\n    for (alignCol=false, c=1; c<ncols; ++c) {\n      for (i=c; i<n; i += ncols) {\n        xOffset[i] += xExtent[c-1];\n      }\n    }\n  }\n\n  // enforce row alignment constraints\n  if (alignRow === Each) {\n    for (r=1; r<nrows; ++r) {\n      for (offset=0, i=r*ncols, m=i+ncols; i<m; ++i) {\n        if (offset < yOffset[i]) offset = yOffset[i];\n      }\n      for (i=r*ncols; i<m; ++i) {\n        yOffset[i] = offset + yExtent[r-1];\n      }\n    }\n  } else if (alignRow === All) {\n    for (offset=0, i=ncols; i<n; ++i) {\n      if (offset < yOffset[i]) offset = yOffset[i];\n    }\n    for (i=ncols; i<n; ++i) {\n      yOffset[i] = offset + yMax;\n    }\n  } else {\n    for (alignRow=false, r=1; r<nrows; ++r) {\n      for (i=r*ncols, m=i+ncols; i<m; ++i) {\n        yOffset[i] += yExtent[r-1];\n      }\n    }\n  }\n\n  // perform horizontal grid layout\n  for (x=0, i=0; i<n; ++i) {\n    x = xOffset[i] + (i % ncols ? x : 0);\n    dx[i] += x - groups[i].x;\n  }\n\n  // perform vertical grid layout\n  for (c=0; c<ncols; ++c) {\n    for (y=0, i=c; i<n; i += ncols) {\n      y += yOffset[i];\n      dy[i] += y - groups[i].y;\n    }\n  }\n\n  // perform horizontal centering\n  if (alignCol && get(opt.center, Column) && nrows > 1) {\n    for (i=0; i<n; ++i) {\n      b = alignCol === All ? xMax : xExtent[i % ncols];\n      x = b - boxes[i].x2 - groups[i].x - dx[i];\n      if (x > 0) dx[i] += x / 2;\n    }\n  }\n\n  // perform vertical centering\n  if (alignRow && get(opt.center, Row) && ncols !== 1) {\n    for (i=0; i<n; ++i) {\n      b = alignRow === All ? yMax : yExtent[~~(i / ncols)];\n      y = b - boxes[i].y2 - groups[i].y - dy[i];\n      if (y > 0) dy[i] += y / 2;\n    }\n  }\n\n  // position grid relative to anchor\n  for (i=0; i<n; ++i) {\n    bounds.union(boxes[i].translate(dx[i], dy[i]));\n  }\n  x = get(opt.anchor, X);\n  y = get(opt.anchor, Y);\n  switch (get(opt.anchor, Column)) {\n    case End:    x -= bounds.width(); break;\n    case Middle: x -= bounds.width() / 2;\n  }\n  switch (get(opt.anchor, Row)) {\n    case End:    y -= bounds.height(); break;\n    case Middle: y -= bounds.height() / 2;\n  }\n  x = Math.round(x);\n  y = Math.round(y);\n\n  // update mark positions, bounds, dirty\n  bounds.clear();\n  for (i=0; i<n; ++i) {\n    groups[i].mark.bounds.clear();\n  }\n  for (i=0; i<n; ++i) {\n    g = groups[i];\n    g.x += (dx[i] += x);\n    g.y += (dy[i] += y);\n    bounds.union(g.mark.bounds.union(g.bounds.translate(dx[i], dy[i])));\n    if (dirty) view.dirty(g);\n  }\n\n  return bounds;\n}\n\nexport function trellisLayout(view, group, opt) {\n  var views = gridLayoutGroups(group),\n      groups = views.marks,\n      bbox = opt.bounds === Flush ? boundFlush : boundFull,\n      off = opt.offset,\n      ncols = opt.columns || groups.length,\n      nrows = ncols <= 0 ? 1 : Math.ceil(groups.length / ncols),\n      cells = nrows * ncols,\n      x, y, x2, y2, anchor, band, offset;\n\n  // -- initial grid layout\n  const bounds = gridLayout(view, groups, opt);\n  if (bounds.empty()) bounds.set(0, 0, 0, 0); // empty grid\n\n  // -- layout grid headers and footers --\n\n  // perform row header layout\n  if (views.rowheaders) {\n    band = get(opt.headerBand, Row, null);\n    x = layoutHeaders(view, views.rowheaders, groups, ncols, nrows, -get(off, 'rowHeader'), min, 0, bbox, 'x1', 0, ncols, 1, band);\n  }\n\n  // perform column header layout\n  if (views.colheaders) {\n    band = get(opt.headerBand, Column, null);\n    y = layoutHeaders(view, views.colheaders, groups, ncols, ncols, -get(off, 'columnHeader'), min, 1, bbox, 'y1', 0, 1, ncols, band);\n  }\n\n  // perform row footer layout\n  if (views.rowfooters) {\n    band = get(opt.footerBand, Row, null);\n    x2 = layoutHeaders(view, views.rowfooters, groups, ncols, nrows,  get(off, 'rowFooter'), max, 0, bbox, 'x2', ncols-1, ncols, 1, band);\n  }\n\n  // perform column footer layout\n  if (views.colfooters) {\n    band = get(opt.footerBand, Column, null);\n    y2 = layoutHeaders(view, views.colfooters, groups, ncols, ncols,  get(off, 'columnFooter'), max, 1, bbox, 'y2', cells-ncols, 1, ncols, band);\n  }\n\n  // perform row title layout\n  if (views.rowtitle) {\n    anchor = get(opt.titleAnchor, Row);\n    offset = get(off, 'rowTitle');\n    offset = anchor === End ? x2 + offset : x - offset;\n    band = get(opt.titleBand, Row, 0.5);\n    layoutTitle(view, views.rowtitle, offset, 0, bounds, band);\n  }\n\n  // perform column title layout\n  if (views.coltitle) {\n    anchor = get(opt.titleAnchor, Column);\n    offset = get(off, 'columnTitle');\n    offset = anchor === End ? y2 + offset : y - offset;\n    band = get(opt.titleBand, Column, 0.5);\n    layoutTitle(view, views.coltitle, offset, 1, bounds, band);\n  }\n}\n\nfunction boundFlush(item, field) {\n  return field === 'x1' ? (item.x || 0)\n    : field === 'y1' ? (item.y || 0)\n    : field === 'x2' ? (item.x || 0) + (item.width || 0)\n    : field === 'y2' ? (item.y || 0) + (item.height || 0)\n    : undefined;\n}\n\nfunction boundFull(item, field) {\n  return item.bounds[field];\n}\n\nfunction layoutHeaders(view, headers, groups, ncols, limit, offset, agg, isX, bound, bf, start, stride, back, band) {\n  var n = groups.length,\n      init = 0,\n      edge = 0,\n      i, j, k, m, b, h, g, x, y;\n\n  // if no groups, early exit and return 0\n  if (!n) return init;\n\n  // compute margin\n  for (i=start; i<n; i+=stride) {\n    if (groups[i]) init = agg(init, bound(groups[i], bf));\n  }\n\n  // if no headers, return margin calculation\n  if (!headers.length) return init;\n\n  // check if number of headers exceeds number of rows or columns\n  if (headers.length > limit) {\n    view.warn('Grid headers exceed limit: ' + limit);\n    headers = headers.slice(0, limit);\n  }\n\n  // apply offset\n  init += offset;\n\n  // clear mark bounds for all headers\n  for (j=0, m=headers.length; j<m; ++j) {\n    view.dirty(headers[j]);\n    headers[j].mark.bounds.clear();\n  }\n\n  // layout each header\n  for (i=start, j=0, m=headers.length; j<m; ++j, i+=stride) {\n    h = headers[j];\n    b = h.mark.bounds;\n\n    // search for nearest group to align to\n    // necessary if table has empty cells\n    for (k=i; k >= 0 && (g = groups[k]) == null; k-=back);\n\n    // assign coordinates and update bounds\n    if (isX) {\n      x = band == null ? g.x : Math.round(g.bounds.x1 + band * g.bounds.width());\n      y = init;\n    } else {\n      x = init;\n      y = band == null ? g.y : Math.round(g.bounds.y1 + band * g.bounds.height());\n    }\n    b.union(h.bounds.translate(x - (h.x || 0), y - (h.y || 0)));\n    h.x = x;\n    h.y = y;\n    view.dirty(h);\n\n    // update current edge of layout bounds\n    edge = agg(edge, b[bf]);\n  }\n\n  return edge;\n}\n\nfunction layoutTitle(view, g, offset, isX, bounds, band) {\n  if (!g) return;\n  view.dirty(g);\n\n  // compute title coordinates\n  var x = offset, y = offset;\n  isX\n    ? (x = Math.round(bounds.x1 + band * bounds.width()))\n    : (y = Math.round(bounds.y1 + band * bounds.height()));\n\n  // assign coordinates and update bounds\n  g.bounds.translate(x - (g.x || 0), y - (g.y || 0));\n  g.mark.bounds.clear().union(g.bounds);\n  g.x = x;\n  g.y = y;\n\n  // queue title for redraw\n  view.dirty(g);\n}\n","import {\n  Bottom, BottomLeft, BottomRight, Each, End, Flush, Left, Middle,\n  None, Right, Start, Symbols, Top,\n  TopLeft, TopRight\n} from '../constants.js';\nimport {boundStroke, multiLineOffset} from 'vega-scenegraph';\n\n// utility for looking up legend layout configuration\nfunction lookup(config, orient) {\n  const opt = config[orient] || {};\n  return (key, d) => opt[key] != null ? opt[key]\n    : config[key] != null ? config[key]\n    : d;\n}\n\n// if legends specify offset directly, use the maximum specified value\nfunction offsets(legends, value) {\n  let max = -Infinity;\n  legends.forEach(item => {\n    if (item.offset != null) max = Math.max(max, item.offset);\n  });\n  return max > -Infinity ? max : value;\n}\n\nexport function legendParams(g, orient, config, xb, yb, w, h) {\n  const _ = lookup(config, orient),\n        offset = offsets(g, _('offset', 0)),\n        anchor = _('anchor', Start),\n        mult = anchor === End ? 1 : anchor === Middle ? 0.5 : 0;\n\n  const p = {\n    align:   Each,\n    bounds:  _('bounds', Flush),\n    columns: _('direction') === 'vertical' ? 1 : g.length,\n    padding: _('margin', 8),\n    center:  _('center'),\n    nodirty: true\n  };\n\n  switch (orient) {\n    case Left:\n      p.anchor = {\n        x: Math.floor(xb.x1) - offset, column: End,\n        y: mult * (h || xb.height() + 2 * xb.y1), row: anchor\n      };\n      break;\n    case Right:\n      p.anchor = {\n        x: Math.ceil(xb.x2) + offset,\n        y: mult * (h || xb.height() + 2 * xb.y1), row: anchor\n      };\n      break;\n    case Top:\n      p.anchor = {\n        y: Math.floor(yb.y1) - offset, row: End,\n        x: mult * (w || yb.width() + 2 * yb.x1), column: anchor\n      };\n      break;\n    case Bottom:\n      p.anchor = {\n        y: Math.ceil(yb.y2) + offset,\n        x: mult * (w || yb.width() + 2 * yb.x1), column: anchor\n      };\n      break;\n    case TopLeft:\n      p.anchor = {x: offset, y: offset};\n      break;\n    case TopRight:\n      p.anchor = {x: w - offset, y: offset, column: End};\n      break;\n    case BottomLeft:\n      p.anchor = {x: offset, y: h - offset, row: End};\n      break;\n    case BottomRight:\n      p.anchor = {x: w - offset, y: h - offset, column: End, row: End};\n      break;\n  }\n\n  return p;\n}\n\nexport function legendLayout(view, legend) {\n  var item = legend.items[0],\n      datum = item.datum,\n      orient = item.orient,\n      bounds = item.bounds,\n      x = item.x, y = item.y, w, h;\n\n  // cache current bounds for later comparison\n  item._bounds\n    ? item._bounds.clear().union(bounds)\n    : item._bounds = bounds.clone();\n  bounds.clear();\n\n  // adjust legend to accommodate padding and title\n  legendGroupLayout(view, item, item.items[0].items[0]);\n\n  // aggregate bounds to determine size, and include origin\n  bounds = legendBounds(item, bounds);\n  w = 2 * item.padding;\n  h = 2 * item.padding;\n  if (!bounds.empty()) {\n    w = Math.ceil(bounds.width() + w);\n    h = Math.ceil(bounds.height() + h);\n  }\n\n  if (datum.type === Symbols) {\n    legendEntryLayout(item.items[0].items[0].items[0].items);\n  }\n\n  if (orient !== None) {\n    item.x = x = 0;\n    item.y = y = 0;\n  }\n  item.width = w;\n  item.height = h;\n  boundStroke(bounds.set(x, y, x + w, y + h), item);\n  item.mark.bounds.clear().union(bounds);\n\n  return item;\n}\n\nfunction legendBounds(item, b) {\n  // aggregate item bounds\n  item.items.forEach(_ => b.union(_.bounds));\n\n  // anchor to legend origin\n  b.x1 = item.padding;\n  b.y1 = item.padding;\n\n  return b;\n}\n\nfunction legendGroupLayout(view, item, entry) {\n  var pad = item.padding,\n      ex = pad - entry.x,\n      ey = pad - entry.y;\n\n  if (!item.datum.title) {\n    if (ex || ey) translate(view, entry, ex, ey);\n  } else {\n    var title = item.items[1].items[0],\n        anchor = title.anchor,\n        tpad = item.titlePadding || 0,\n        tx = pad - title.x,\n        ty = pad - title.y;\n\n    switch (title.orient) {\n      case Left:\n        ex += Math.ceil(title.bounds.width()) + tpad;\n        break;\n      case Right:\n      case Bottom:\n        break;\n      default:\n        ey += title.bounds.height() + tpad;\n    }\n    if (ex || ey) translate(view, entry, ex, ey);\n\n    switch (title.orient) {\n      case Left:\n        ty += legendTitleOffset(item, entry, title, anchor, 1, 1);\n        break;\n      case Right:\n        tx += legendTitleOffset(item, entry, title, End, 0, 0) + tpad;\n        ty += legendTitleOffset(item, entry, title, anchor, 1, 1);\n        break;\n      case Bottom:\n        tx += legendTitleOffset(item, entry, title, anchor, 0, 0);\n        ty += legendTitleOffset(item, entry, title, End, -1, 0, 1) + tpad;\n        break;\n      default:\n        tx += legendTitleOffset(item, entry, title, anchor, 0, 0);\n    }\n    if (tx || ty) translate(view, title, tx, ty);\n\n    // translate legend if title pushes into negative coordinates\n    if ((tx = Math.round(title.bounds.x1 - pad)) < 0) {\n      translate(view, entry, -tx, 0);\n      translate(view, title, -tx, 0);\n    }\n  }\n}\n\nfunction legendTitleOffset(item, entry, title, anchor, y, lr, noBar) {\n  const grad = item.datum.type !== 'symbol',\n        vgrad = title.datum.vgrad,\n        e = grad && (lr || !vgrad) && !noBar ? entry.items[0] : entry,\n        s = e.bounds[y ? 'y2' : 'x2'] - item.padding,\n        u = vgrad && lr ? s : 0,\n        v = vgrad && lr ? 0 : s,\n        o = y <= 0 ? 0 : multiLineOffset(title);\n\n  return Math.round(anchor === Start ? u\n    : anchor === End ? (v - o)\n    : 0.5 * (s - o));\n}\n\nfunction translate(view, item, dx, dy) {\n  item.x += dx;\n  item.y += dy;\n  item.bounds.translate(dx, dy);\n  item.mark.bounds.translate(dx, dy);\n  view.dirty(item);\n}\n\nfunction legendEntryLayout(entries) {\n  // get max widths for each column\n  const widths = entries.reduce((w, g) => {\n    w[g.column] = Math.max(g.bounds.x2 - g.x, w[g.column] || 0);\n    return w;\n  }, {});\n\n  // set dimensions of legend entry groups\n  entries.forEach(g => {\n    g.width  = widths[g.column];\n    g.height = g.bounds.y2 - g.y;\n  });\n}\n","import {Bottom, End, Group, Left, Right, Start, Top} from '../constants.js';\nimport {set, tempBounds} from './util.js';\n\nexport function titleLayout(view, mark, width, height, viewBounds) {\n  var group = mark.items[0],\n      frame = group.frame,\n      orient = group.orient,\n      anchor = group.anchor,\n      offset = group.offset,\n      padding = group.padding,\n      title = group.items[0].items[0],\n      subtitle = group.items[1] && group.items[1].items[0],\n      end = (orient === Left || orient === Right) ? height : width,\n      start = 0, x = 0, y = 0, sx = 0, sy = 0, pos;\n\n  if (frame !== Group) {\n    orient === Left ? (start = viewBounds.y2, end = viewBounds.y1)\n      : orient === Right ? (start = viewBounds.y1, end = viewBounds.y2)\n      : (start = viewBounds.x1, end = viewBounds.x2);\n  } else if (orient === Left) {\n    start = height, end = 0;\n  }\n\n  pos = (anchor === Start) ? start\n    : (anchor === End) ? end\n    : (start + end) / 2;\n\n  if (subtitle && subtitle.text) {\n    // position subtitle\n    switch (orient) {\n      case Top:\n      case Bottom:\n        sy = title.bounds.height() + padding;\n        break;\n      case Left:\n        sx = title.bounds.width() + padding;\n        break;\n      case Right:\n        sx = -title.bounds.width() - padding;\n        break;\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n    tempBounds.translate(sx - (subtitle.x || 0), sy - (subtitle.y || 0));\n    if (set(subtitle, 'x', sx) | set(subtitle, 'y', sy)) {\n      view.dirty(subtitle);\n      subtitle.bounds.clear().union(tempBounds);\n      subtitle.mark.bounds.clear().union(tempBounds);\n      view.dirty(subtitle);\n    }\n\n    tempBounds.clear().union(subtitle.bounds);\n  } else {\n    tempBounds.clear();\n  }\n  tempBounds.union(title.bounds);\n\n  // position title group\n  switch (orient) {\n    case Top:\n      x = pos;\n      y = viewBounds.y1 - tempBounds.height() - offset;\n      break;\n    case Left:\n      x = viewBounds.x1 - tempBounds.width() - offset;\n      y = pos;\n      break;\n    case Right:\n      x = viewBounds.x2 + tempBounds.width() + offset;\n      y = pos;\n      break;\n    case Bottom:\n      x = pos;\n      y = viewBounds.y2 + offset;\n      break;\n    default:\n      x = group.x;\n      y = group.y;\n  }\n\n  if (set(group, 'x', x) | set(group, 'y', y)) {\n    tempBounds.translate(x, y);\n    view.dirty(group);\n    group.bounds.clear().union(tempBounds);\n    mark.bounds.clear().union(tempBounds);\n    view.dirty(group);\n  }\n  return group.bounds;\n}\n","import {\n  AxisRole, Bottom, ColFooter, ColHeader, ColTitle,\n  Fit, FitX, FitY, FrameRole, Left, LegendRole,\n  None, Pad, Padding, Right,\n  RowFooter, RowHeader, RowTitle, ScopeRole, TitleRole, Top\n} from './constants.js';\n\nimport {axisLayout, isYAxis} from './layout/axis.js';\nimport {gridLayout, trellisLayout} from './layout/grid.js';\nimport {legendLayout, legendParams} from './layout/legend.js';\nimport {titleLayout} from './layout/title.js';\n\nimport {Transform} from 'vega-dataflow';\nimport {Bounds} from 'vega-scenegraph';\nimport {inherits} from 'vega-util';\n\n/**\n * Layout view elements such as axes and legends.\n * Also performs size adjustments.\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {object} params.mark - Scenegraph mark of groups to layout.\n */\nexport default function ViewLayout(params) {\n  Transform.call(this, null, params);\n}\n\ninherits(ViewLayout, Transform, {\n  transform(_, pulse) {\n    const view = pulse.dataflow;\n    _.mark.items.forEach(group => {\n      if (_.layout) trellisLayout(view, group, _.layout);\n      layoutGroup(view, group, _);\n    });\n    return shouldReflow(_.mark.group) ? pulse.reflow() : pulse;\n  }\n});\n\nfunction shouldReflow(group) {\n  // We typically should reflow if layout is invoked (#2568), as child items\n  // may have resized and reflow ensures group bounds are re-calculated.\n  // However, legend entries have a special exception to avoid instability.\n  // For example, if a selected legend symbol gains a stroke on hover,\n  // we don't want to re-position subsequent elements in the legend.\n  return group && group.mark.role !== 'legend-entry';\n}\n\nfunction layoutGroup(view, group, _) {\n  var items = group.items,\n      width = Math.max(0, group.width || 0),\n      height = Math.max(0, group.height || 0),\n      viewBounds = new Bounds().set(0, 0, width, height),\n      xBounds = viewBounds.clone(),\n      yBounds = viewBounds.clone(),\n      legends = [], title,\n      mark, orient, b, i, n;\n\n  // layout axes, gather legends, collect bounds\n  for (i=0, n=items.length; i<n; ++i) {\n    mark = items[i];\n    switch (mark.role) {\n      case AxisRole:\n        b = isYAxis(mark) ? xBounds : yBounds;\n        b.union(axisLayout(view, mark, width, height));\n        break;\n      case TitleRole:\n        title = mark;\n        break;\n      case LegendRole:\n        legends.push(legendLayout(view, mark));\n        break;\n      case FrameRole:\n      case ScopeRole:\n      case RowHeader:\n      case RowFooter:\n      case RowTitle:\n      case ColHeader:\n      case ColFooter:\n      case ColTitle:\n        xBounds.union(mark.bounds);\n        yBounds.union(mark.bounds);\n        break;\n      default:\n        viewBounds.union(mark.bounds);\n    }\n  }\n\n  // layout legends, adjust viewBounds\n  if (legends.length) {\n    // group legends by orient\n    const l = {};\n    legends.forEach(item => {\n      orient = item.orient || Right;\n      if (orient !== None) (l[orient] || (l[orient] = [])).push(item);\n    });\n\n    // perform grid layout for each orient group\n    for (const orient in l) {\n      const g = l[orient];\n      gridLayout(view, g, legendParams(\n        g, orient, _.legends, xBounds, yBounds, width, height\n      ));\n    }\n\n    // update view bounds\n    legends.forEach(item => {\n      const b = item.bounds;\n\n      if (!b.equals(item._bounds)) {\n        item.bounds = item._bounds;\n        view.dirty(item); // dirty previous location\n        item.bounds = b;\n        view.dirty(item);\n      }\n\n      if (_.autosize && (_.autosize.type === Fit  ||\n                         _.autosize.type === FitX ||\n                         _.autosize.type === FitY )) {\n        // For autosize fit, incorporate the orthogonal dimension only.\n        // Legends that overrun the chart area will then be clipped;\n        // otherwise the chart area gets reduced to nothing!\n        switch(item.orient) {\n          case Left:\n          case Right:\n            viewBounds.add(b.x1, 0).add(b.x2, 0);\n            break;\n          case Top:\n          case Bottom:\n            viewBounds.add(0, b.y1).add(0, b.y2);\n        }\n      } else {\n        viewBounds.union(b);\n      }\n    });\n  }\n\n  // combine bounding boxes\n  viewBounds.union(xBounds).union(yBounds);\n\n  // layout title, adjust bounds\n  if (title) {\n    viewBounds.union(titleLayout(view, title, width, height, viewBounds));\n  }\n\n  // override aggregated view bounds if content is clipped\n  if (group.clip) {\n    viewBounds.set(0, 0, group.width || 0, group.height || 0);\n  }\n\n  // perform size adjustment\n  viewSizeLayout(view, group, viewBounds, _);\n}\n\nfunction viewSizeLayout(view, group, viewBounds, _) {\n  const auto = _.autosize || {},\n        type = auto.type;\n\n  if (view._autosize < 1 || !type) return;\n\n  let viewWidth = view._width,\n      viewHeight = view._height,\n      width  = Math.max(0, group.width || 0),\n      left   = Math.max(0, Math.ceil(-viewBounds.x1)),\n      height = Math.max(0, group.height || 0),\n      top    = Math.max(0, Math.ceil(-viewBounds.y1));\n\n  const right  = Math.max(0, Math.ceil(viewBounds.x2 - width)),\n        bottom = Math.max(0, Math.ceil(viewBounds.y2 - height));\n\n  if (auto.contains === Padding) {\n    const padding = view.padding();\n    viewWidth -= padding.left + padding.right;\n    viewHeight -= padding.top + padding.bottom;\n  }\n\n  if (type === None) {\n    left = 0;\n    top = 0;\n    width = viewWidth;\n    height = viewHeight;\n  }\n\n  else if (type === Fit) {\n    width = Math.max(0, viewWidth - left - right);\n    height = Math.max(0, viewHeight - top - bottom);\n  }\n\n  else if (type === FitX) {\n    width = Math.max(0, viewWidth - left - right);\n    viewHeight = height + top + bottom;\n  }\n\n  else if (type === FitY) {\n    viewWidth = width + left + right;\n    height = Math.max(0, viewHeight - top - bottom);\n  }\n\n  else if (type === Pad) {\n    viewWidth = width + left + right;\n    viewHeight = height + top + bottom;\n  }\n\n  view._resizeView(\n    viewWidth, viewHeight,\n    width, height,\n    [left, top],\n    auto.resize\n  );\n}\n"],"names":["Top","Left","Right","Bottom","TopLeft","TopRight","BottomLeft","BottomRight","Start","Middle","End","X","Y","Group","AxisRole","TitleRole","FrameRole","ScopeRole","LegendRole","RowHeader","RowFooter","RowTitle","ColHeader","ColFooter","ColTitle","Padding","Symbols","Fit","FitX","FitY","Pad","None","All","Each","Flush","Column","Row","Bound","params","Transform","call","inherits","transform","_","pulse","view","dataflow","mark","type","marktype","entry","Marks","bound","markBounds","bounds","rebound","nested","items","length","dirty","boundItem","forEach","item","clear","union","modified","visit","MOD","role","reflow","changed","REM","ADD","alignsWith","boundClip","modifies","opt","COUNTER_NAME","Identifier","Definition","counter","getCounter","as","id","value","t","set","_signals","add","Mark","scenegraph","markdef","lookup","index","group","context","source","clip","interactive","Init","GroupItem","Item","zdirty","g","groups","p","parent","size","get","Object","keys","object","Overlap","methods","parity","filter","i","opacity","greedy","sep","a","b","intersect","Math","max","x1","x2","y1","y2","hasOverlap","pad","n","hasBounds","width","height","boundTest","scale","orient","tolerance","range","Bounds","Infinity","expand","encloses","reset","reduce","method","separation","materialize","SOURCE","test","sort","slice","peek","boundScale","boundTolerance","boundOrient","Render","ALL","fields","tempBounds","property","isYAxis","axisIndices","datum","grid","ticks","labels","domain","axisLayout","axis","delta","translate","indices","offset","position","minExtent","maxExtent","title","titlePadding","dl","multiLineOffset","x","y","s","min","axisTitleLayout","boundStroke","sign","auto","v","dx","dy","floor","ceil","gridLayoutGroups","views","marks","rowheaders","rowfooters","colheaders","colfooters","rowtitle","coltitle","push","bboxFlush","bboxFull","clone","empty","key","d","isObject","undefined","offsetValue","gridLayout","nodirty","bbox","alignCol","align","alignRow","padCol","padding","padRow","ncols","columns","nrows","xOffset","Array","xExtent","xMax","yOffset","yExtent","yMax","boxes","m","c","r","px","py","center","anchor","round","trellisLayout","boundFlush","boundFull","off","cells","band","headerBand","layoutHeaders","footerBand","titleAnchor","titleBand","layoutTitle","field","headers","limit","agg","isX","bf","start","stride","back","init","edge","j","k","h","warn","config","offsets","legends","legendParams","xb","yb","w","mult","column","row","legendLayout","legend","_bounds","legendGroupLayout","legendBounds","legendEntryLayout","ex","ey","tpad","tx","ty","legendTitleOffset","lr","noBar","grad","vgrad","e","u","o","entries","widths","titleLayout","viewBounds","frame","subtitle","end","sx","sy","pos","text","ViewLayout","layout","layoutGroup","shouldReflow","xBounds","yBounds","l","equals","autosize","viewSizeLayout","_autosize","viewWidth","_width","viewHeight","_height","left","top","right","bottom","contains","_resizeView","resize"],"mappings":"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"}