!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vega-time"),require("vega-util")):"function"==typeof define&&define.amd?define(["exports","vega-time","vega-util"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).vega={},t.vega,t.vega)}(this,(function(t,e,n){"use strict";function r(t){const e={};return n=>e[n]||(e[n]=t(n))}const i=Math.sqrt(50),o=Math.sqrt(10),u=Math.sqrt(2);function a(t,e,n){const r=(e-t)/Math.max(0,n),c=Math.floor(Math.log10(r)),l=r/Math.pow(10,c),s=l>=i?10:l>=o?5:l>=u?2:1;let f,g,h;return c<0?(h=Math.pow(10,-c)/s,f=Math.round(t*h),g=Math.round(e*h),f/h<t&&++f,g/h>e&&--g,h=-h):(h=Math.pow(10,c)*s,f=Math.round(t/h),g=Math.round(e/h),f*h<t&&++f,g*h>e&&--g),g<f&&.5<=n&&n<2?a(t,e,2*n):[f,g,h]}function c(t,e,n){return a(t=+t,e=+e,n=+n)[2]}function l(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function s(t){return(t=l(Math.abs(t)))?t[1]:NaN}var f,g=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function h(t){if(!(e=g.exec(t)))throw new Error("invalid format: "+t);var e;return new m({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function m(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function d(t,e){var n=l(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}h.prototype=m.prototype,m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var M={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>d(100*t,e),r:d,s:function(t,e){var n=l(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(f=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+l(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v(t){return t}var y,p,T,D=Array.prototype.map,C=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function U(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?v:(e=D.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[u=(u+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?v:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(D.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",g=void 0===t.nan?"NaN":t.nan+"";function m(t){var e=(t=h(t)).fill,n=t.align,s=t.sign,m=t.symbol,d=t.zero,v=t.width,y=t.comma,p=t.precision,T=t.trim,D=t.type;"n"===D?(y=!0,D="g"):M[D]||(void 0===p&&(p=12),T=!0,D="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var U="$"===m?i:"#"===m&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",x="$"===m?o:/[%p]/.test(D)?c:"",w=M[D],F=/[defgprs%]/.test(D);function b(t){var i,o,c,h=U,m=x;if("c"===D)m=w(t)+m,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?g:w(Math.abs(t),p),T&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==s&&(M=!1),h=(M?"("===s?s:l:"-"===s||"("===s?"":s)+h,m=("s"===D?C[8+f/3]:"")+m+(M&&"("===s?")":""),F)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){m=(46===c?u+t.slice(i+1):t.slice(i))+m,t=t.slice(0,i);break}}y&&!d&&(t=r(t,1/0));var b=h.length+t.length+m.length,S=b<v?new Array(v-b+1).join(e):"";switch(y&&d&&(t=r(S+t,S.length?v-m.length:1/0),S=""),n){case"<":t=h+t+m+S;break;case"=":t=h+S+t+m;break;case"^":t=S.slice(0,b=S.length>>1)+h+t+m+S.slice(b);break;default:t=S+h+t+m}return a(t)}return p=void 0===p?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+""},b}return{format:m,formatPrefix:function(t,e){var n=m(((t=h(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(s(e)/3))),i=Math.pow(10,-r),o=C[8+r/3];return function(t){return n(i*t)+o}}}}function x(t){const e=r(t.format),n=t.formatPrefix;return{format:e,formatPrefix:n,formatFloat(t){const n=h(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return r=e(n),i=e(".1f")(1)[1],t=>{const e=r(t),n=e.indexOf(i);if(n<0)return e;let o=function(t,e){let n,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>e;)if(n=t.charCodeAt(r),n>=48&&n<=57)return r+1}(e,n);const u=o<e.length?e.slice(o):"";for(;--o>n;)if("0"!==e[o]){++o;break}return e.slice(0,o)+u}}return e(n);var r,i},formatSpan(t,r,i,o){o=h(null==o?",f":o);const u=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?c(e,t,n):c(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,r,i),a=Math.max(Math.abs(t),Math.abs(r));let l;if(null==o.precision)switch(o.type){case"s":return isNaN(l=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(e)/3)))-s(Math.abs(t)))}(u,a))||(o.precision=l),n(o,a);case"":case"e":case"g":case"p":case"r":isNaN(l=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,s(e)-s(t))+1}(u,a))||(o.precision=l-("e"===o.type));break;case"f":case"%":isNaN(l=function(t){return Math.max(0,-s(Math.abs(t)))}(u))||(o.precision=l-2*("%"===o.type))}return e(o)}}}let w;function F(){return w=x({format:p,formatPrefix:T})}function b(t){return x(U(t))}function S(t){return arguments.length?w=b(t):w}y=U({thousands:",",grouping:[3],currency:["$",""]}),p=y.format,T=y.formatPrefix,F();const Y=new Date,L=new Date;function A(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;let a;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=n=>A((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Y.setTime(+e),L.setTime(+r),t(Y),t(L),Math.floor(n(Y,L))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const H=6e4,N=864e5,E=6048e5,O=A((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*H)/N),(t=>t.getDate()-1));O.range;const j=A((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/N),(t=>t.getUTCDate()-1));j.range;function I(t){return A((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*H)/E))}A((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/N),(t=>Math.floor(t/N))).range;const P=I(0),z=I(1),Z=I(2),W=I(3),k=I(4),q=I(5),R=I(6);function V(t){return A((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/E))}P.range,z.range,Z.range,W.range,k.range,q.range,R.range;const Q=V(0),X=V(1),$=V(2),J=V(3),B=V(4),G=V(5),K=V(6);Q.range,X.range,$.range,J.range,B.range,G.range,K.range;const _=A((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));_.every=t=>isFinite(t=Math.floor(t))&&t>0?A((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,_.range;const tt=A((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function et(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function it(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,l=Mt(i),s=vt(i),f=Mt(o),g=vt(o),h=Mt(u),m=vt(u),d=Mt(a),M=vt(a),v=Mt(c),y=vt(c),p={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Pt,e:Pt,f:qt,g:te,G:ne,H:zt,I:Zt,j:Wt,L:kt,m:Rt,M:Vt,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:we,s:Fe,S:Qt,u:Xt,U:$t,V:Bt,w:Gt,W:Kt,x:null,X:null,y:_t,Y:ee,Z:re,"%":xe},T={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:ie,e:ie,f:le,g:Te,G:Ce,H:oe,I:ue,j:ae,L:ce,m:se,M:fe,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:we,s:Fe,S:ge,u:he,U:me,V:Me,w:ve,W:ye,x:null,X:null,y:pe,Y:De,Z:Ue,"%":xe},D={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.m=M.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return x(t,e,n,r)},d:St,e:St,f:Et,g:xt,G:Ut,H:Lt,I:Lt,j:Yt,L:Nt,m:bt,M:At,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:Ft,Q:jt,s:It,S:Ht,u:pt,U:Tt,V:Dt,w:yt,W:Ct,x:function(t,e,r){return x(t,n,e,r)},X:function(t,e,n){return x(t,r,e,n)},y:xt,Y:Ut,Z:wt,"%":Ot};function C(t,e){return function(n){var r,i,o,u=[],a=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=st[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function U(t,e){return function(n){var r,i,o=rt(1900,void 0,1);if(x(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=nt(rt(o.y,0,1))).getUTCDay(),r=i>4||0===i?X.ceil(r):X(r),r=j.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=et(rt(o.y,0,1))).getDay(),r=i>4||0===i?z.ceil(r):z(r),r=O.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?nt(rt(o.y,0,1)).getUTCDay():et(rt(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,nt(o)):et(o)}}function x(t,e,n,r){for(var i,o,u=0,a=e.length,c=n.length;u<a;){if(r>=c)return-1;if(37===(i=e.charCodeAt(u++))){if(i=e.charAt(u++),!(o=D[i in st?e.charAt(u++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return p.x=C(n,p),p.X=C(r,p),p.c=C(e,p),T.x=C(n,T),T.X=C(r,T),T.c=C(e,T),{format:function(t){var e=C(t+="",p);return e.toString=function(){return t},e},parse:function(t){var e=U(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=C(t+="",T);return e.toString=function(){return t},e},utcParse:function(t){var e=U(t+="",!0);return e.toString=function(){return t},e}}}tt.every=t=>isFinite(t=Math.floor(t))&&t>0?A((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,tt.range;var ot,ut,at,ct,lt,st={"-":"",_:" ",0:"0"},ft=/^\s*\d+/,gt=/^%/,ht=/[\\^$*+?|[\]().{}]/g;function mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dt(t){return t.replace(ht,"\\$&")}function Mt(t){return new RegExp("^(?:"+t.map(dt).join("|")+")","i")}function vt(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function yt(t,e,n){var r=ft.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pt(t,e,n){var r=ft.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Tt(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Dt(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ct(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ut(t,e,n){var r=ft.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xt(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ft(t,e,n){var r=ft.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function bt(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function St(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yt(t,e,n){var r=ft.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Lt(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function At(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ht(t,e,n){var r=ft.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nt(t,e,n){var r=ft.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Et(t,e,n){var r=ft.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ot(t,e,n){var r=gt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jt(t,e,n){var r=ft.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function It(t,e,n){var r=ft.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Pt(t,e){return mt(t.getDate(),e,2)}function zt(t,e){return mt(t.getHours(),e,2)}function Zt(t,e){return mt(t.getHours()%12||12,e,2)}function Wt(t,e){return mt(1+O.count(_(t),t),e,3)}function kt(t,e){return mt(t.getMilliseconds(),e,3)}function qt(t,e){return kt(t,e)+"000"}function Rt(t,e){return mt(t.getMonth()+1,e,2)}function Vt(t,e){return mt(t.getMinutes(),e,2)}function Qt(t,e){return mt(t.getSeconds(),e,2)}function Xt(t){var e=t.getDay();return 0===e?7:e}function $t(t,e){return mt(P.count(_(t)-1,t),e,2)}function Jt(t){var e=t.getDay();return e>=4||0===e?k(t):k.ceil(t)}function Bt(t,e){return t=Jt(t),mt(k.count(_(t),t)+(4===_(t).getDay()),e,2)}function Gt(t){return t.getDay()}function Kt(t,e){return mt(z.count(_(t)-1,t),e,2)}function _t(t,e){return mt(t.getFullYear()%100,e,2)}function te(t,e){return mt((t=Jt(t)).getFullYear()%100,e,2)}function ee(t,e){return mt(t.getFullYear()%1e4,e,4)}function ne(t,e){var n=t.getDay();return mt((t=n>=4||0===n?k(t):k.ceil(t)).getFullYear()%1e4,e,4)}function re(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mt(e/60|0,"0",2)+mt(e%60,"0",2)}function ie(t,e){return mt(t.getUTCDate(),e,2)}function oe(t,e){return mt(t.getUTCHours(),e,2)}function ue(t,e){return mt(t.getUTCHours()%12||12,e,2)}function ae(t,e){return mt(1+j.count(tt(t),t),e,3)}function ce(t,e){return mt(t.getUTCMilliseconds(),e,3)}function le(t,e){return ce(t,e)+"000"}function se(t,e){return mt(t.getUTCMonth()+1,e,2)}function fe(t,e){return mt(t.getUTCMinutes(),e,2)}function ge(t,e){return mt(t.getUTCSeconds(),e,2)}function he(t){var e=t.getUTCDay();return 0===e?7:e}function me(t,e){return mt(Q.count(tt(t)-1,t),e,2)}function de(t){var e=t.getUTCDay();return e>=4||0===e?B(t):B.ceil(t)}function Me(t,e){return t=de(t),mt(B.count(tt(t),t)+(4===tt(t).getUTCDay()),e,2)}function ve(t){return t.getUTCDay()}function ye(t,e){return mt(X.count(tt(t)-1,t),e,2)}function pe(t,e){return mt(t.getUTCFullYear()%100,e,2)}function Te(t,e){return mt((t=de(t)).getUTCFullYear()%100,e,2)}function De(t,e){return mt(t.getUTCFullYear()%1e4,e,4)}function Ce(t,e){var n=t.getUTCDay();return mt((t=n>=4||0===n?B(t):B.ceil(t)).getUTCFullYear()%1e4,e,4)}function Ue(){return"+0000"}function xe(){return"%"}function we(t){return+t}function Fe(t){return Math.floor(+t/1e3)}function be(t,r,i){i=i||{},n.isObject(i)||n.error(`Invalid time multi-format specifier: ${i}`);const o=r(e.SECONDS),u=r(e.MINUTES),a=r(e.HOURS),c=r(e.DATE),l=r(e.WEEK),s=r(e.MONTH),f=r(e.QUARTER),g=r(e.YEAR),h=t(i[e.MILLISECONDS]||".%L"),m=t(i[e.SECONDS]||":%S"),d=t(i[e.MINUTES]||"%I:%M"),M=t(i[e.HOURS]||"%I %p"),v=t(i[e.DATE]||i[e.DAY]||"%a %d"),y=t(i[e.WEEK]||"%b %d"),p=t(i[e.MONTH]||"%B"),T=t(i[e.QUARTER]||"%B"),D=t(i[e.YEAR]||"%Y");return t=>(o(t)<t?h:u(t)<t?m:a(t)<t?d:c(t)<t?M:s(t)<t?l(t)<t?v:y:g(t)<t?f(t)<t?p:T:D)(t)}function Se(t){const i=r(t.format),o=r(t.utcFormat);return{timeFormat:t=>n.isString(t)?i(t):be(i,e.timeInterval,t),utcFormat:t=>n.isString(t)?o(t):be(o,e.utcInterval,t),timeParse:r(t.parse),utcParse:r(t.utcParse)}}let Ye;function Le(){return Ye=Se({format:ut,parse:at,utcFormat:ct,utcParse:lt})}function Ae(t){return Se(it(t))}function He(t){return arguments.length?Ye=Ae(t):Ye}!function(t){ot=it(t),ut=ot.format,at=ot.parse,ct=ot.utcFormat,lt=ot.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Le();const Ne=(t,e)=>n.extend({},t,e);function Ee(t,e){const r=arguments.length;return r&&2!==r&&n.error("defaultLocale expects either zero or two arguments."),r?Ne(S(t),He(e)):Ne(S(),He())}t.defaultLocale=Ee,t.locale=function(t,e){const n=t?b(t):S(),r=e?Ae(e):He();return Ne(n,r)},t.numberFormatDefaultLocale=S,t.numberFormatLocale=b,t.resetDefaultLocale=function(){return F(),Le(),Ee()},t.resetNumberFormatDefaultLocale=F,t.resetTimeFormatDefaultLocale=Le,t.timeFormatDefaultLocale=He,t.timeFormatLocale=Ae}));
//# sourceMappingURL=vega-format.min.js.map
