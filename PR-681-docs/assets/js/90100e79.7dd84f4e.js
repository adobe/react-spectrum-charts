"use strict";(self.webpackChunk_spectrum_charts_docs=self.webpackChunk_spectrum_charts_docs||[]).push([[418],{1052:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"api/components/Legend","title":"Legend","description":"The Legend component is used to display a legend for the visualization.","source":"@site/docs/api/components/Legend.md","sourceDirName":"api/components","slug":"/api/components/Legend","permalink":"/react-spectrum-charts/PR-681-docs/docs/api/components/Legend","draft":false,"unlisted":false,"editUrl":"https://github.com/adobe/react-spectrum-charts/tree/main/packages/docs/docs/api/components/Legend.md","tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Axis","permalink":"/react-spectrum-charts/PR-681-docs/docs/api/components/Axis"},"next":{"title":"Title","permalink":"/react-spectrum-charts/PR-681-docs/docs/api/components/Title"}}');var n=t(1085),d=t(1184);const r={},l=void 0,o={},a=[{value:"Props",id:"props",level:2},{value:"Hide/Show Series",id:"hideshow-series",level:2},{value:"Uncontrolled",id:"uncontrolled",level:3},{value:"Example",id:"example",level:4},{value:"Controlled",id:"controlled",level:3},{value:"Example",id:"example-1",level:4},{value:"Advanced",id:"advanced",level:2},{value:"Faceting Data",id:"faceting-data",level:3},{value:"Example",id:"example-2",level:4}];function h(e){const i={code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:"Legend"})," component is used to display a legend for the visualization."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-jsx",children:'<Chart data={data}>\n    <Legend position="right" title="Country">\n</Chart>\n'})}),"\n",(0,n.jsx)(i.h2,{id:"props",children:"Props"}),"\n",(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"name"}),(0,n.jsx)("th",{children:"type"}),(0,n.jsx)("th",{children:"default"}),(0,n.jsx)("th",{children:"description"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"color"}),(0,n.jsx)("td",{children:"string | {value: Color}"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Overrides the default symbol fill and stroke color. If a string is provided, this is a data key reference, similar to setting ",(0,n.jsx)(i.code,{children:"color"})," on a mark like ",(0,n.jsx)(i.code,{children:"Line"})," or ",(0,n.jsx)(i.code,{children:"Bar"}),". If a static value object is provided then all symbols will be the color provided. Css color names and spectrum color names are supported for the static color value."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"defaultHiddenSeries"}),(0,n.jsx)("td",{children:"string[]"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Series that should be hidden by default (uncontrolled). This is different from ",(0,n.jsx)(i.code,{children:"hiddenEntries"})," which only hides entries from the legend, whereas ",(0,n.jsx)(i.code,{children:"defaultHiddenSeries"})," hides the series from both the legend and the chart."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"descriptions"}),(0,n.jsx)("td",{children:"{seriesName: string, description: string, title?: string}[]"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["An array of objects containing a ",(0,n.jsx)(i.code,{children:"seriesName"}),", ",(0,n.jsx)(i.code,{children:"description"}),", and optional ",(0,n.jsx)(i.code,{children:"title"})," property. The seriesName must match the value of the series property on the chart data being passed in. If set, a tooltip will appear after a short delay when you hover over a legend element. The contents of the tooltip will be the description found in the key-value pair."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"hiddenEntries"}),(0,n.jsx)("td",{children:"string[]"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["List of series names that should be hidden from the legend. This does not hide these series in the chart as well, only the legend. To hide series in the chart, use ",(0,n.jsx)(i.code,{children:"hiddenSeries"}),"."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"highlight"}),(0,n.jsx)("td",{children:"boolean"}),(0,n.jsx)("td",{children:"false"}),(0,n.jsx)("td",{children:"Defines if hovering over a legend element should highlight that series in the chart."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"isToggleable"}),(0,n.jsx)("td",{children:"boolean"}),(0,n.jsx)("td",{children:"false"}),(0,n.jsx)("td",{children:"Sets if the series should be able to hide/show by clicking on the respective legend entry (uncontrolled)."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"keys"}),(0,n.jsx)("td",{children:"string[]"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"Keys from the data to generate the legend for. Defaults to all keys used to facet the data. Use this prop to limit which data fields should appear in the legend."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"labelLimit"}),(0,n.jsx)("td",{children:"number"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"Max width in pixels before truncating a legend label. If not specified, labels will not be truncated. Influences legend column layout by calculating how many legend items can fit horizontally based on the label width (for top/bottom positioned legends)."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"legendLabels"}),(0,n.jsx)("td",{children:"{seriesName: string | number, label: string, maxLength?: number}[]"}),(0,n.jsx)("td",{children:"-"}),(0,n.jsxs)("td",{children:["Defines custom labels to display in place of the series value for data. If one series has an override, any series that don't have an override will display their series value. The optional ",(0,n.jsx)(i.code,{children:"maxLength"})," property can be used to truncate individual labels."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"lineType"}),(0,n.jsx)("td",{children:"string | { value: LineType }"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Overrides the default symbol border line type. If a string is provided, this is a data key reference, similar to setting ",(0,n.jsx)(i.code,{children:"color"})," on a mark like ",(0,n.jsx)(i.code,{children:"Line"})," or ",(0,n.jsx)(i.code,{children:"Bar"}),". If a static value object is provided then all symbol borders will have the line type provided."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"lineWidth"}),(0,n.jsx)("td",{children:"string | { value: LineWidth }"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Overrides the default symbol border line width. If a string is provided, this is a data key reference, similar to setting ",(0,n.jsx)(i.code,{children:"color"})," on a mark like ",(0,n.jsx)(i.code,{children:"Line"})," or ",(0,n.jsx)(i.code,{children:"Bar"}),". If a static value object is provided then all symbol borders will have the line width provided."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onMouseOut"}),(0,n.jsx)("td",{children:"(seriesName: string) => void"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"Allows triggering of a callback function when moving the mouse pointer outside of a legend item."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onMouseOver"}),(0,n.jsx)("td",{children:"(seriesName: string) => void"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"Allows triggering of a callback function when moving the mouse pointer over a legend item."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"opacity"}),(0,n.jsx)("td",{children:"string | { value: number }"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Overrides the default symbol fill opacity. If a string is provided, this is a data key reference, similar to setting ",(0,n.jsx)(i.code,{children:"color"})," on a mark like ",(0,n.jsx)(i.code,{children:"Line"})," or ",(0,n.jsx)(i.code,{children:"Bar"}),". If a static value object is provided then all symbols will have the fill opacity provided."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"position"}),(0,n.jsx)("td",{children:"'left' | 'bottom' | 'top' | 'right'"}),(0,n.jsx)("td",{children:"'bottom'"}),(0,n.jsx)("td",{children:"Sets where the legend will be displayed."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"symbolShape"}),(0,n.jsx)("td",{children:"string | { value: ChartSymbolShape }"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsxs)("td",{children:["Overrides the default symbol shape. If a string is provided, this is a data key reference, similar to setting ",(0,n.jsx)(i.code,{children:"color"})," on a mark like ",(0,n.jsx)(i.code,{children:"Line"})," or ",(0,n.jsx)(i.code,{children:"Bar"}),". If a static value object is provided then all symbols will be the shape provided."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"title"}),(0,n.jsx)("td",{children:"string"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"Defines the legend title."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"titleLimit"}),(0,n.jsx)("td",{children:"number"}),(0,n.jsx)("td",{children:"\u2013"}),(0,n.jsx)("td",{children:"The maximum allowed length in pixels of the legend title. If the title exceeds this length, it will be truncated."})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"hideshow-series",children:"Hide/Show Series"}),"\n",(0,n.jsx)(i.p,{children:"The legend component can be used to hide and show series in the chart. These series will still appear in the legend but the data for these series will not be drawn."}),"\n",(0,n.jsxs)(i.p,{children:["If there is a need to hide a given series in the chart as well as in the legend, it is recommended to filter that data from the ",(0,n.jsx)(i.code,{children:"data"})," array supplied to the ",(0,n.jsx)(i.code,{children:"Chart"})," component."]}),"\n",(0,n.jsx)(i.h3,{id:"uncontrolled",children:"Uncontrolled"}),"\n",(0,n.jsxs)(i.p,{children:["The easiest way to hide/show data in the chart is to supply the ",(0,n.jsx)(i.code,{children:"isToggleable"})," prop to the legend. ",(0,n.jsx)(i.code,{children:"isToggleable"})," sets up the legend entries so that each works like a toggle input that will hide/show the respective series."]}),"\n",(0,n.jsx)(i.h4,{id:"example",children:"Example"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-jsx",children:"<Chart>\n  <Bar />\n  <Legend isToggleable />\n</Chart>\n"})}),"\n",(0,n.jsx)(i.h3,{id:"controlled",children:"Controlled"}),"\n",(0,n.jsx)(i.p,{children:"It is also possible to hide/show series using a controlled approach. This is useful if there is a need to toggle the visibility of series from an external input or if complex hide/show logic is needed."}),"\n",(0,n.jsxs)(i.p,{children:["To setup hide/show using a controlled method, pass in the list of hidden series to the ",(0,n.jsx)(i.code,{children:"hiddenSeries"})," prop. Note that the hidden series values should be the series name and not a custom series label that might have been provided using the ",(0,n.jsx)(i.code,{children:"legendLabels"})," prop."]}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:"onClick"})," handler can be used to trigger custom hide/show logic."]}),"\n",(0,n.jsx)(i.h4,{id:"example-1",children:"Example"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-jsx",children:"const [hiddenSeries, setHiddenSeries] = useState<string[]>([])\n\nconst onLegendClick = (seriesName: string) => {\n  if (hiddenSeries.includes(seriesName)) {\n    setHiddenSeries(hiddenSeries.filter(series => series !== seriesName))\n  }\n  setHiddenSeries([...hiddenSeries, seriesName])\n}\n\nreturn (\n  <Chart hiddenSeries={hiddenSeries}>\n    <Bar/>\n    <Legend onClick={onLegendClick} />\n  </Chart>\n)\n"})}),"\n",(0,n.jsx)(i.h2,{id:"advanced",children:"Advanced"}),"\n",(0,n.jsx)(i.h3,{id:"faceting-data",children:"Faceting Data"}),"\n",(0,n.jsx)(i.p,{children:"It is possible to control the symbols for legend entries beyond the default styles that get applied based on the visualization. By default the legend symbol color, border line type, border line width, opacity, and shape are inferred from the mark that they represent."}),"\n",(0,n.jsxs)(i.p,{children:["If there is a need to override any of these, the ",(0,n.jsx)(i.code,{children:"color"}),", ",(0,n.jsx)(i.code,{children:"lineType"}),", ",(0,n.jsx)(i.code,{children:"lineWidth"}),", and ",(0,n.jsx)(i.code,{children:"opacity"})," props can be used. If a string is provided to any of these, then it will use that data key to facet the data. If a static value object is provided (",(0,n.jsx)(i.code,{children:"\\{value: any}"}),"), then that static value will be applied to all symbols."]}),"\n",(0,n.jsx)(i.h4,{id:"example-2",children:"Example"}),"\n",(0,n.jsxs)(i.p,{children:["For the following example, each symbol in the legend will be ",(0,n.jsx)(i.code,{children:"gray-800"})," and the opacity of each symbol will be determined by the operatingSystem."]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-jsx",children:"<Chart>\n  <Bar />\n  <Legend color={{ value: 'gray-800' }} opacity=\"operatingSystem\" />\n</Chart>\n"})})]})}function c(e={}){const{wrapper:i}={...(0,d.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},1184:(e,i,t)=>{t.d(i,{R:()=>r,x:()=>l});var s=t(4041);const n={},d=s.createContext(n);function r(e){const i=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(d.Provider,{value:i},e.children)}}}]);